require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';
var Backbone = require('backbone');
var Marionette = require('backbone.marionette');
var communicator = require('./communicator');
var AppController = require('./controller');
var AppRouter = require('./router');

var App = new Marionette.Application();

/* Add application regions here */
App.addRegions({
	'header': '#header',
	'main': '#main'
});

/* Add initializers here */
App.addInitializer( function () {
	window.Communicator = new communicator();
	Communicator.mediator.trigger('APP:START');

	var appController = new AppController({app: this});
	var appRouter = new AppRouter({controller: appController});
	window.appRouter = appRouter;
});

App.on('initialize:after', function() {
	console.log('app initialized');
	Backbone.history.start();
});

module.exports = App;
},{"./communicator":5,"./controller":6,"./router":12,"backbone":"4NNQbm","backbone.marionette":"IlFL/y"}],2:[function(require,module,exports){
'use strict';
var Backbone = require('backbone');

var Report = require('../models/report');


var ReportsCollection = Backbone.Collection.extend({
  model: Report,
  initialize: function(options) {
    this.code = options.code;
  },
  url: function() {
    return 'api/report/'+this.code;
  }
});

module.exports = ReportsCollection;
},{"../models/report":9,"backbone":"4NNQbm"}],3:[function(require,module,exports){
'use strict';
var Backbone = require('backbone');

var Stop = require('../models/stop');


var StopsCollection = Backbone.Collection.extend({
  model: Stop,
  initialize: function() {},
  url: function() {
    if (typeof this.lat !== undefined &&
      typeof this.lon !== undefined &&
      this.lat !== null &&
      this.lon !== null) {
      return 'api/stop/'+this.lat+'/'+this.lon;
    }
    return null;
  },
  parse: function(response) {
    return _.first(response, 5);
  }
});

module.exports = StopsCollection;
},{"../models/stop":10,"backbone":"4NNQbm"}],4:[function(require,module,exports){
'use strict';
var Backbone = require('backbone');

var User = require('../models/user');


var UsersCollection = Backbone.Collection.extend({
  model: User,
  initialize: function(options) {
    this.code = options.code;
  },
  url: function() {
    return 'api/user/'+this.code;
  }
});

module.exports = UsersCollection;
},{"../models/user":11,"backbone":"4NNQbm"}],5:[function(require,module,exports){
'use strict';
var Marionette = require('backbone.marionette');
var Backbone = require('backbone');

var Communicator = Marionette.Controller.extend({
	initialize: function() {

		// create a pub sub
		this.mediator = new Backbone.Wreqr.EventAggregator();

		//create a req/res
		this.reqres = new Backbone.Wreqr.RequestResponse();

		// create commands
		this.command = new Backbone.Wreqr.Commands();
	}
});

module.exports = Communicator;
},{"backbone":"4NNQbm","backbone.marionette":"IlFL/y"}],6:[function(require,module,exports){
'use strict';
var Marionette = require('backbone.marionette');

var AppModel = require('./models/appModel');
var AdoptView = require('./views/adopt/adoptView');
var WelcomeView = require('./views/welcomeView');
var StopView = require('./views/stopView');
var ReportView = require('./views/reportView');

var Controller = Marionette.Controller.extend({
  initialize: function() {
    console.log('controller init');
    this.app = this.options.app;
    this.appModel = new AppModel();
  },

  welcome: function() {
    var welcomeView = new WelcomeView({appModel: this.appModel});
    this.app.main.show(welcomeView);

    // update location
    // todo: get position
    var _this = this;
    setTimeout(function() {
      _this._updatePosition();
    }, 100);
  },

  stop: function(code) {
    var options = {
      appModel: this.appModel
    };

    if (code.length <= 6) {
      options.code_short = code;
      this._stopWithShortCode(code);
    } else {
      options.code = code;
      this._stopWithLongCode(code);
    }

    var stopView = new StopView(options);
    this.app.main.show(stopView);
  },

  report: function(code) {
    var reportView = new ReportView({code: code, model: this.appModel.get('stop')});
    this.app.main.show(reportView);

    if (this.appModel.get('stop').get('code') !== code &&
      this.appModel.get('stop').get('code_short') !== code) {
      this.appModel.loadStop({code: code});
    }
  },

  adopt: function(code) {
    var adoptView = new AdoptView({code: code, model: this.appModel.get('stop')});
    this.app.main.show(adoptView);

    if (this.appModel.get('stop').get('code') !== code &&
      this.appModel.get('stop').get('code_short') !== code) {
      this.appModel.loadStop({code: code});
    }
  },

  _stopWithLongCode: function(code) {
    if (this.appModel.get('stop').get('code') !== code) {
      this.appModel.loadStop({code: code});
    }

    // check if stop exists in collection
    var matchingStops = this.appModel.get('stops').where({code: code});
    if (matchingStops.length > 0) {
      this.appModel.set({stop: matchingStops[0]});
      return;
    }
  },

  _stopWithShortCode: function(code_short) {
    if (this.appModel.get('stop').get('code_short') !== code_short) {
      this.appModel.loadStop({code_short: code_short});
    }
    var matchingShortCode = this.appModel.get('stops').where({code_short: code_short});
    if (matchingShortCode.length > 0) {
      this.appModel.set({stop: matchingShortCode[0]});
      return;
    }
  },

  _updatePosition: function() {
    var geolocationEnabled = 'geolocation' in navigator;
    if (!geolocationEnabled) {
      return;
    }

    navigator.geolocation.getCurrentPosition(
      _.bind(this._onPosition, this),
      _.bind(this._onPositionError, this)
    );
  },

  _onPosition: function(position) {
    console.log('onPosition', position);
    var lat = position.coords.latitude;
    var lon = position.coords.longitude;
    this.appModel.updateLocation(lat, lon);
  },

  _onPositionError: function(error, msg) {
    Communicator.mediator.trigger('position:error', error.code);
    console.log('position error: '+error.code);
    console.log(msg);
  }
});

module.exports = Controller;
},{"./models/appModel":8,"./views/adopt/adoptView":13,"./views/reportView":15,"./views/stopView":22,"./views/welcomeView":26,"backbone.marionette":"IlFL/y"}],7:[function(require,module,exports){
var App = require('./application');

App.start();
},{"./application":1}],8:[function(require,module,exports){
'use strict';
var Backbone = require('backbone');

var Stops = require('../collections/stops');
var Stop = require('./stop');


var AppModel = Backbone.Model.extend({
  defaults: {
    stops: null,
    stop: null,
    coords: {}
  },
  initialize: function() {
    this.set({stops: new Stops(), stop: new Stop()});
  },
  updateLocation: function(lat, lon) {
    if (lat === this.get('coords').lat && lon === this.get('coords').lon) {
      return;
    }

    this.set({coords: {lat: lat, lon: lon}});
    this.get('stops').lat = lat;
    this.get('stops').lon = lon;
    this._fetchStops();
  },
  loadStop: function(options) {
    console.log('appModel: load stop ',options);
    this.get('stop').set(options);
    this.get('stop').fetch();
  },
  _fetchStops: function() {
    console.log('appModel: fetch stops');
    this.get('stops').fetch({
      success: _.bind(this._onStops, this),
      error: _.bind(this._onStopsError, this),
      reset: true
    });
  },
  _onStops: function(collection) {
    console.log('appModel: stops fetched', collection);
    if (collection.code !== null && collection.length === 1) {
      console.log('appModel loaded specific stop');
      this.set({stop: collection.models[0]});
    }
  },
  _onStopsError: function() {
    console.error('appModel: stops fetch failed');
  },
});

module.exports = AppModel;
},{"../collections/stops":3,"./stop":10,"backbone":"4NNQbm"}],9:[function(require,module,exports){
'use strict';
var Backbone = require('backbone');

var Report = Backbone.Model.extend({
  url: '/api/report',
  defaults: {
    description: null,
    service_code: null,
    lat: null,
    lon: null,
    code: null
  },
  setWgsCoords: function(wgs_coords) {
    var coords = wgs_coords.split(',');
    if (coords.length !== 2) {
      console.warn('coords fail', wgs_coords, coords);
      return;
    }
    this.set({lon: coords[0], lat: coords[1]});
  },
  setCoords: function(xy) {
    var coords = xy.split(',');
    if (coords.length !== 2) {
      console.warn('coords fail', xy, coords);
      return;
    }
    for (var i=0; i<2; i++) {
      var coord = (coords[i]+'').substring(0, 7);
      coord = parseInt(coord, 10);
      coords[i] = coord * 0.00001;
    }
    console.log('coords now '+coords);
    this.set({lon: coords[0], lat: coords[1]});
  }
});

module.exports = Report;
},{"backbone":"4NNQbm"}],10:[function(require,module,exports){
'use strict';
var Backbone = require('backbone');

var ReportsCollection = require('../collections/reports');
var UsersCollection = require('../collections/users');


var StopModel = Backbone.Model.extend({
  defaults: {
    x: 0,
    y: 0,
    dist: null,
    code: null,
    name_fi: null,
    name_sv: null,
    city_fi: null,
    city_sv: null,
    coords: null,
    code_short: null,
    address_fi: null,
    address_sv: null,
    reports: null,
    users: null
  },
  url: function() {
    if (typeof this.get('code') !== undefined && this.get('code') !== null) {
      return 'api/stop/'+this.get('code');
    }
    if (typeof this.get('code_short') !== undefined && this.get('code_short') !== null) {
      return 'api/stop/'+this.get('code_short');
    }
    return null;
  },
  initialize: function() {
    var reports = new ReportsCollection({code: this.get('code')});
    var users = new UsersCollection({code: this.get('code')});
    this.set({reports: reports, users: users});

    this.listenTo(this, 'change:code', _.bind(this.onCodeChange, this));
  },
  onCodeChange: function(model, code) {
    console.log('stop code changed to '+code);
    var reports = new ReportsCollection({code: code});
    var users = new UsersCollection({code: code});
    this.set({reports: reports, users: users});
  },
  reportOK: function() {
    console.log('stop '+this.get('code')+' is OK');
  },
  getReports: function() {
    console.log('stop: get reports');
    if (this.get('code') !== null) {
      this.get('reports').fetch();
    }
  },
  getUsers: function() {
    console.log('stop: get users');
    if (this.get('code') !== null) {
      this.get('users').fetch();
    }
  },
});

module.exports = StopModel;
},{"../collections/reports":2,"../collections/users":4,"backbone":"4NNQbm"}],11:[function(require,module,exports){
'use strict';
var Backbone = require('backbone');

var UserModel = Backbone.Model.extend({
  url: '/api/user',
  defaults: {
    email: null,
    code: null
  }
});

module.exports = UserModel;
},{"backbone":"4NNQbm"}],12:[function(require,module,exports){
'use strict';
var Marionette = require('backbone.marionette');
  
var router = Marionette.AppRouter.extend({
  initialize: function() {
    console.log('router init');
  },
  appRoutes: {
    '': 'welcome',
    'stop/:code': 'stop',
    'report/:code': 'report',
    'adopt/:code': 'adopt'
  }
});

module.exports = router;
},{"backbone.marionette":"IlFL/y"}],13:[function(require,module,exports){
'use strict';
var Marionette = require('backbone.marionette');

var Template = require('../../../templates/adopt/adopt.hbs');

var AdoptView = Marionette.ItemView.extend({
  template: Template,
  id: 'adopt',
  ui: {
    'firstName': '#firstname',
    'lastName': '#lastname',
    'email': '#email'
  },
  events: {
    'submit #adopt-form': 'submitAdopt',
    'keyup .form-control': 'onInputKeyup',
  },
  tempValues: {
    'firstname': '',
    'lastname': '',
    'email': ''
  },
  initialize: function(options) {
    console.log('init adopt view', options);
    this.options = options;
    this.listenTo(this.model, 'change:name_fi', this.render);
  },
  serializeData: function() {
    var context = {};
    if (this.model === null) {
      return context;
    }

    context = this.model.toJSON();
    if ((context.name === null || typeof context.name === 'undefined') && context.name_fi !== null) {
      context.name = context.name_fi;
      context.address = context.address_fi;
      context.city = context.city_fi;
    }

    context = _.extend(context, this.tempValues);
    return context;
  },
  submitAdopt: function() {
    var data = {
      fistName: this.ui.fistName.val(),
      lastName: this.ui.lastName.val(),
      email: this.ui.email.val(),
      stop: this.options.code
    };
    console.log(data);
    return false;
  },
  onInputKeyup: function(event) {
    var input = $(event.currentTarget);
    this.tempValues[input.attr('id')] = input.val();
    return;
  }
});

module.exports = AdoptView;
},{"../../../templates/adopt/adopt.hbs":27,"backbone.marionette":"IlFL/y"}],14:[function(require,module,exports){
'use strict';
var Marionette = require('backbone.marionette');
var Template = require('../../templates/infoTeaser.hbs');

module.exports = Marionette.ItemView.extend({
  template: Template
});
},{"../../templates/infoTeaser.hbs":28,"backbone.marionette":"IlFL/y"}],15:[function(require,module,exports){
'use strict';
var Marionette = require('backbone.marionette');

var Template = require('../../templates/report.hbs');
var Report = require('../models/report');
var StopNameView = require('./stop/stopNameView');


var ReportView = Marionette.Layout.extend({
  template: Template,
  model: null,
  regions: {
    stopName: '#report-stop-name'
  },
  events: {
    'click #get-picture': 'getPicture',
    //'click #send-report': 'sendReport'
    'submit #report-form': 'sendReport',
    'keyup #description': 'updateCharCount',
    'click #report-back': 'goBack'
  },
  ui: {
    'description': '#description',
    'charCount': '#char-count',
    'sendReport': '#send-report'
  },
  initialize: function(options) {
    this.options = options;
    console.log('report view init: '+this.options.code);
    this.code = this.options.code;
    this.model = this.options.model;
    this.listenTo(this.model, 'change:code', this.renderStopName);
  },
  onRender: function() {
    this.renderStopName();
  },
  renderStopName: function() {
    console.log('render stop name');
    this.stopName.show(new StopNameView({model: this.model}));
  },
  serializeData: function() {
    var context = {};
    if (this.model === null) {
      return context;
    }

    context = this.model.toJSON();
    if (context.name === null && context.name_fi !== null) {
      context.name = context.name_fi;
      context.address = context.address_fi;
      context.city = context.city_fi;
    }
    context.services = this.getServices();
    console.log('context', context);
    return context;
  },
  getServices: function() {
    var services;
    if (true) {
      services = [
        {id: '201', name: 'Ilkivalta'},
        {id: '172', name: 'Roskaaminen'},
        {id: '177', name: 'Töhryjen poisto'},
        {id: '203', name: 'Kyltit ja opasteet'},
        {id: '207', name: 'Muu korjattava asia'}
      ];
    } else {
      services = [
        {id: '172', name: 'Ilkivalta'},
        {id: '246', name: 'Roskaaminen'},
        {id: '176', name: 'Töhryjen poisto'},
        {id: '199', name: 'Kyltit ja opasteet'},
        {id: '180', name: 'Muu korjattava asia'}
      ];
    }
    return services;
  },
  getPicture: function() {
    console.log('getPicture');
  },
  updateCharCount: function() {
    var chars = this.ui.description.val().length;
    if (chars < 9) {
      this.ui.charCount.text('Syötä vielä '+(10-chars)+' merkkiä');
    } else if (chars === 9) {
      this.ui.charCount.text('Syötä vielä 1 merkki');
    }

    if (chars < 10) {
      this.ui.charCount.removeClass('hidden');
      this.ui.sendReport.attr('disabled', true);
    } else {
      this.ui.charCount.addClass('hidden');
      this.ui.sendReport.removeAttr('disabled');
    }
  },
  sendReport: function(event) {
    console.log('sendReport');
    var report = new Report();
    
    var description = this.ui.description.val();
    var service_code = this.$('input[name=service-code]:checked').val();
    var code = this.model.get('code');
    var firstname = this.$('#firstname').val();
    var lastname = this.$('#lastname').val();
    var email = this.$('#email').val();

    report.set({
      description: description,
      service_code: ''+service_code,
      code: ''+code,
      first_name: firstname,
      last_name: lastname,
      email: email
    });
    
    if (this.model.get('wgs_coords') !== undefined &&
      this.model.get('wgs_coords') !== null) {
      console.log('setWgsCoords '+this.model.get('wgs_coords'));
      report.setWgsCoords(this.model.get('wgs_coords'));
    } else if (this.model.get('coords') !== undefined &&
      this.model.get('coords') !== null) {
      console.log('setXYCoords '+this.model.get('coords'));
      report.setCoords(this.model.get('coords'));
    } else {
      console.warn('coords not found', this.model);
    }
    report.save({}, {error: _.bind(this.onSaveError, this)});
    this.onSaveSuccess();
    event.preventDefault();
    return false;
  },
  onSaveError: function() {
    this.$('#report-sent').addClass('hidden');
    this.$('#report-error').removeClass('hidden');
  },
  onSaveSuccess: function() {
    this.$('#report-form').addClass('hidden');
    this.$('#report-sent').removeClass('hidden');
  },
  goBack: function() {
    appRouter.navigate('stop/'+this.model.get('code'), {trigger: true});
    return false;
  }
});

module.exports = ReportView;
},{"../../templates/report.hbs":29,"../models/report":9,"./stop/stopNameView":21,"backbone.marionette":"IlFL/y"}],16:[function(require,module,exports){
'use strict';
var Marionette = require('backbone.marionette');

var Template = require('../../../templates/stop/askAdoption.hbs');

var AskAdoptionView = Marionette.ItemView.extend({
  template: Template,
  events: {
    'click #adopt-stop': 'adoptStop'
  },
  initialize: function() {
    this.listenTo(this.model, 'change:code', this.render);
  },
  adoptStop: function() {
    appRouter.navigate('adopt/'+this.model.get('code'), {trigger: true});
    return false;
  },
  serializeData: function() {
    var context = this.model.toJSON();
    context.showButton = context.code !== null;
    console.log(context);
    return context;
  }
});

module.exports = AskAdoptionView;
},{"../../../templates/stop/askAdoption.hbs":31,"backbone.marionette":"IlFL/y"}],17:[function(require,module,exports){
'use strict';
var Marionette = require('backbone.marionette');

var Template = require('../../../templates/stop/reportItem.hbs');

module.exports = Marionette.ItemView.extend({
  template: Template,
  tagName: 'li'
});
},{"../../../templates/stop/reportItem.hbs":32,"backbone.marionette":"IlFL/y"}],18:[function(require,module,exports){
'use strict';
var Marionette = require('backbone.marionette');

var Template = require('../../../templates/stop/reportLink.hbs');

var ReportLinkView = Marionette.ItemView.extend({
  template: Template,
  events: {
    'click #report-ok': 'reportOK',
    'click #report-problem': 'reportProblem'
  },
  initialize: function() {
    this.listenTo(this.model, 'change:code', this._onChangeStop);
  },
  reportOK: function() {
    if (this.model === null) {
      return false;
    }
    this.model.reportOK();
    return false;
  },
  reportProblem: function() {
    if (this.model === null || this.model.get('code') === null) {
      return false;
    }
    window.appRouter.navigate('report/'+this.model.get('code'), {trigger: true});
    return false;
  },
  _onChangeStop: function(model, code) {
    this.$('#report-problem').attr('disabled', code === null);
    this.$('#report-ok').attr('disabled', code === null);
  }
});

module.exports = ReportLinkView;
},{"../../../templates/stop/reportLink.hbs":33,"backbone.marionette":"IlFL/y"}],19:[function(require,module,exports){
'use strict';
var Marionette = require('backbone.marionette');

var Template = require('../../../templates/stop/reportsEmpty.hbs');

module.exports = Marionette.ItemView.extend({
  template: Template,
  tagName: 'li'
});
},{"../../../templates/stop/reportsEmpty.hbs":35,"backbone.marionette":"IlFL/y"}],20:[function(require,module,exports){
'use strict';
var Marionette = require('backbone.marionette');

var ReportItemView = require('./reportItemView');
var ReportsEmptyView = require('./reportsEmptyView');
var Template = require('../../../templates/stop/reports.hbs');


module.exports = Marionette.CompositeView.extend({
  template: Template,
  itemView: ReportItemView,
  itemViewContainer: 'ul',
  emptyView: ReportsEmptyView
});
},{"../../../templates/stop/reports.hbs":34,"./reportItemView":17,"./reportsEmptyView":19,"backbone.marionette":"IlFL/y"}],21:[function(require,module,exports){
'use strict';
var Marionette = require('backbone.marionette');

var Template = require('../../../templates/stop/stopName.hbs');

var StopNameView = Marionette.ItemView.extend({
  template: Template,
  className: 'col-xs-12 col-sm-12',
  initialize: function() {
    console.log('stop name view: init', this.options);
    this.listenTo(this.model, 'change:name_fi', this.render);
  },
  serializeData: function(options) {
    this.options = options;
    var context = this.model.toJSON();
    if (context.name === undefined && context.name_fi !== null) {
      context.name = context.name_fi;
      context.address = context.address_fi;
      context.city = context.city_fi;
    }
    console.log('stop name view: render', context);
    return context;
  }
});

module.exports = StopNameView;
},{"../../../templates/stop/stopName.hbs":36,"backbone.marionette":"IlFL/y"}],22:[function(require,module,exports){
'use strict';
var Marionette = require('backbone.marionette');

var Template = require('../../templates/stop.hbs');
var UserModel = require('../models/user');
var InfoTeaserView = require('./infoTeaserView');
var AskAdoptionView = require('./stop/askAdoption');
var ReportsCollectionView = require('./stop/reportsView');
var ReportLinkView = require('./stop/reportLinkView');
var StopNameView = require('./stop/stopNameView');


var StopView = Marionette.Layout.extend({
  template: Template,
  regions: {
    name: '#name',
    reports: '#stop-reports-container',
    report: '#stop-report-status',
    askAdoption: '#stop-ask-adoption',
    infoTeaser: '#stop-info-teaser'
  },

  initialize: function(options) {
    this.options = options;
    console.log('stop view init');
    this.code = this.options.code;
    this.code_short = this.options.code_short;
    this.model = this.options.appModel.get('stop');
    
    this.listenTo(this.model.get('users'), 'reset', this._onUsers);
    this.listenTo(this.model, 'change:code', this._onChangeStop);
    this.listenTo(this.model, 'change:code_short', this._onChangeStop);
  },
  onRender: function() {
    this.name.show(new StopNameView({model: this.model}));
    this.report.show(new ReportLinkView({model: this.model}));
    this.reports.show(new ReportsCollectionView({collection: this.model.get('reports')}));
    this.askAdoption.show(new AskAdoptionView({model: this.model}));
    this.infoTeaser.show(new InfoTeaserView());
  },
  _onChangeStop: function(stop) {
    console.log('stopView: stop '+stop.get('code')+' loaded', stop);
    if ((stop.get('code') !== this.code || this.code === null) &&
      (stop.get('code_short') !== this.code_short || this.code_short === null)) {
      return;
    }
    this.model = stop;
    this.render();
    
    this.model.getReports();
    this.model.getUsers();
  },
  _onUsers: function(collection) {
    var _this = this;
    console.log('users', collection);
    var users = _.uniq(collection.models, false, function(user) {
      return user.get('email');
    });
    _.each(users, function(user) {
      _this.$('#stop-users').append('<p>'+user.get('email')+'</p>');
    });
  },
  adoptStop: function() {
    this.$('#adopt-form').removeClass('hidden');
    this.$('#adopt-stop').remove();
    return false;
  },
  adoptSend: function() {
    var email = this.$('#email').val();
    var user = new UserModel({email: email, code: this.model.get('code')});
    user.save();
    this.$('#adopt-form').html('<p class="text-success">Olet nyt pysäkin kummi!</p>');
    return false;
  },
  userCreated: function() {
    console.log('user created');
  }
});

module.exports = StopView;
},{"../../templates/stop.hbs":30,"../models/user":11,"./infoTeaserView":14,"./stop/askAdoption":16,"./stop/reportLinkView":18,"./stop/reportsView":20,"./stop/stopNameView":21,"backbone.marionette":"IlFL/y"}],23:[function(require,module,exports){
'use strict';
var Marionette = require('backbone.marionette');

var StopItemView = require('./stopItemView');
var Template = require('../../../templates/welcome/nearby.hbs');

var NearbyView = Marionette.CompositeView.extend({
  itemView: StopItemView,
  template: Template,
  itemViewContainer: 'ul',
  initialize: function() {
    console.log('nearby init', this.collection);
  },
  onCompositeCollectionRendered: function() {
    console.log('on composite rendered', this.$('#loading-stops'));
    this.$('#loading-stops').toggle(this.collection.length === 0);
  }
});

module.exports = NearbyView;
},{"../../../templates/welcome/nearby.hbs":38,"./stopItemView":25,"backbone.marionette":"IlFL/y"}],24:[function(require,module,exports){
'use strict';
var Marionette = require('backbone.marionette');

var Template = require('../../../templates/welcome/search.hbs');


var SearchView = Marionette.ItemView.extend({
  template: Template,
  events: {
    'click #find-stop': 'findStop'
  },
  findStop: function() {
    var code = this.$('#stop-id').val();
    if (code === '') {
      return false;
    }
    appRouter.navigate('stop/'+code, {trigger: true});
    return false;
  }
});

module.exports = SearchView;
},{"../../../templates/welcome/search.hbs":39,"backbone.marionette":"IlFL/y"}],25:[function(require,module,exports){
'use strict';
var Marionette = require('backbone.marionette');

var Template = require('../../../templates/welcome/stopItem.hbs');

module.exports = Marionette.ItemView.extend({
  template: Template,
  tagName: 'li'
});
},{"../../../templates/welcome/stopItem.hbs":40,"backbone.marionette":"IlFL/y"}],26:[function(require,module,exports){
'use strict';

var Marionette = require('backbone.marionette');

var NearbyView = require('./welcome/nearbyView');
var SearchView = require('./welcome/searchView');
var InfoTeaserView = require('./infoTeaserView');
var Template = require('../../templates/welcome.hbs');


var WelcomeView = Marionette.Layout.extend({
  template: Template,
  regions: {
    infoTeaser: '#welcome-info-teaser',
    nearby: '#welcome-nearby',
    search: '#welcome-search'
  },
  initialize: function(options) {
    this.options = options;
    console.log('init welcome view');
    Communicator.mediator.on('position:error', this.onPositionError, this);
    this.collection = this.options.appModel.get('stops');
  },
  onRender: function() {
    this.infoTeaser.show(new InfoTeaserView());
    this.search.show(new SearchView());
    this.nearby.show(
      new NearbyView({collection: this.collection})
    );
  },
  serializeData: function() {
    var context = {
      geoLocation: ('geolocation' in navigator)
    };
    return context;
  },
  onPositionError: function() {
    console.log('welcome view: position error');
    this.$('#welcome-nearby').hide();
  }
});

module.exports = WelcomeView;
},{"../../templates/welcome.hbs":37,"./infoTeaserView":14,"./welcome/nearbyView":23,"./welcome/searchView":24,"backbone.marionette":"IlFL/y"}],27:[function(require,module,exports){
// hbsfy compiled Handlebars template
var Handlebars = require('hbsfy/runtime');
module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {
  this.compilerInfo = [4,'>= 1.0.0'];
helpers = this.merge(helpers, Handlebars.helpers); data = data || {};
  var buffer = "", stack1, helper, functionType="function", escapeExpression=this.escapeExpression, self=this;

function program1(depth0,data) {
  
  var buffer = "", stack1, helper;
  buffer += "\n<div class=\"row header\">\n  <div class=\"col-xs-12 col-sm-12\">\n    <h2>Ryhdy pysäkin <span>";
  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "</span> kummiksi!</h2>\n  </div>\n</div>\n";
  return buffer;
  }

  stack1 = helpers['if'].call(depth0, (depth0 && depth0.name), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\n\n<form role=\"form\" id=\"adopt-form\">\n  <fieldset>\n    <div class=\"form-inline form-group\">\n      <div class=\"form-group\">\n        <label for=\"firstname\">Etunimi</label>\n        <input type=\"text\" id=\"firstname\" name=\"firstname\" class=\"form-control\" required autofocus=\"autofocus\" value=\"";
  if (helper = helpers.firstname) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.firstname); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\"/>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"lastname\">Sukunimi</label>\n        <input type=\"text\" id=\"lastname\" name=\"lastname\" class=\"form-control\" required value=\"";
  if (helper = helpers.lastname) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.lastname); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\"/>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"email\">Sähköposti</label>\n      <input type=\"email\" id=\"email\" class=\"form-control\" required value=\"";
  if (helper = helpers.email) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.email); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\"/>\n    </div>\n\n    <button id=\"send-adopt\" type=\"submit\" class=\"btn btn-default\">Ryhdy kummiksi</button>\n  </fieldset>\n</form>";
  return buffer;
  });

},{"hbsfy/runtime":58}],28:[function(require,module,exports){
// hbsfy compiled Handlebars template
var Handlebars = require('hbsfy/runtime');
module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {
  this.compilerInfo = [4,'>= 1.0.0'];
helpers = this.merge(helpers, Handlebars.helpers); data = data || {};
  


  return "<div class=\"col-xs-12 col-sm-6 col-md-8\">\n  <h3>Mikä on pysäkkikummi?</h3>\n  <p>Pysäkkikummi on palvelu, jonka avulla ihmiset voivat kertoa jos HSL:n pysäkeillä on jotain pielessä.</p>\n  <a href=\"#\" class=\"btn btn-default\">Lue lisää &raquo;</a>\n</div>";
  });

},{"hbsfy/runtime":58}],29:[function(require,module,exports){
// hbsfy compiled Handlebars template
var Handlebars = require('hbsfy/runtime');
module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {
  this.compilerInfo = [4,'>= 1.0.0'];
helpers = this.merge(helpers, Handlebars.helpers); data = data || {};
  var buffer = "", stack1, functionType="function", escapeExpression=this.escapeExpression, self=this;

function program1(depth0,data) {
  
  var buffer = "", stack1, helper;
  buffer += "\n      <div class=\"radio\">\n        <label>\n          <input type=\"radio\" name=\"service-code\" id=\"service_code_";
  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\" value=\"";
  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\" />\n          ";
  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\n        </label>\n      </div>\n      ";
  return buffer;
  }

  buffer += "<div id=\"report-stop-name\" class=\"row\"></div>\n\n<form role=\"form\" id=\"report-form\">\n  <fieldset>\n    <p>Valitse vaihtoehdoista sopivin ja kuvaile ongelmaa muutamalla sanalla.</p>\n    <div class=\"form-group\">\n      <label for=\"service_code_201\">Ongelma</label>\n      ";
  stack1 = helpers.each.call(depth0, (depth0 && depth0.services), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"description\">Mikä on pielessä?</label>\n      <textarea name=\"description\" id=\"description\" class=\"form-control\" rows=\"3\"></textarea>\n      <span class=\"help-block\" id=\"char-count\"></span>\n    </div>\n\n    <div class=\"form-group hidden\">\n      <label for=\"image-picker\">Ota kuva</label>\n      <input id=\"image-picker\" type=\"file\" accept=\"image/*\" />\n    </div>\n\n    <p>Tarvitsemme myös nimesi. Anna lisäksi sähköpostiosoitteesi, jos haluat kuittauksen kun olemme käsitelleet ilmoituksesi.</p>\n\n    <div class=\"form-inline form-group\">\n      <div class=\"form-group\">\n        <label for=\"firstname\">Etunimi</label>\n        <input type=\"text\" id=\"firstname\" name=\"firstname\" class=\"form-control\" required />\n      </div>\n      <div class=\"form-group\">\n        <label for=\"lastname\">Sukunimi</label>\n        <input type=\"text\" id=\"lastname\" name=\"lastname\" class=\"form-control\" required />\n      </div>\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"email\">Sähköposti (jos haluat kuittauksen)</label>\n      <input type=\"email\" id=\"email\" class=\"form-control\" />\n    </div>\n\n    <button id=\"send-report\" type=\"submit\" class=\"btn btn-default\" disabled=\"disabled\">Lähetä</button>\n  </fieldset>\n</form>\n\n<div id=\"report-sent\" class=\"hidden\">\n  <p class=\"text-success\">Viestisi on lähetetty!</p>\n  <button type=\"button\" class=\"btn btn-default\" id=\"report-back\">Takaisin</button>\n</div>\n\n<div id=\"report-error\" class=\"hidden\">\n  <p class=\"text-warning\">Viestin lähettäminen epäonnistui.</p>\n  <button type=\"button\" class=\"btn btn-default\" id=\"report-back\">Takaisin</button>\n</div>";
  return buffer;
  });

},{"hbsfy/runtime":58}],30:[function(require,module,exports){
// hbsfy compiled Handlebars template
var Handlebars = require('hbsfy/runtime');
module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {
  this.compilerInfo = [4,'>= 1.0.0'];
helpers = this.merge(helpers, Handlebars.helpers); data = data || {};
  


  return "<div class=\"row\" id=\"name\"></div>\n\n<div class=\"row\" id=\"stop-users-container\" style=\"display: none\">\n  <div class=\"col-xs-12 col-sm-12\">\n    <h3>Pysäkin kummit</h3>\n    <div id=\"stop-users\"></div>\n  </div>\n</div>\n<div class=\"row\" id=\"stop-report-status\"></div>\n<div class=\"row\" id=\"stop-reports-container\"></div>\n<div class=\"row\" id=\"stop-ask-adoption\"></div>\n<div class=\"row\" id=\"stop-info-teaser\"></div>";
  });

},{"hbsfy/runtime":58}],31:[function(require,module,exports){
// hbsfy compiled Handlebars template
var Handlebars = require('hbsfy/runtime');
module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {
  this.compilerInfo = [4,'>= 1.0.0'];
helpers = this.merge(helpers, Handlebars.helpers); data = data || {};
  var stack1, self=this;

function program1(depth0,data) {
  
  
  return "\n<div class=\"col-xs-12 col-sm-12\">\n  <h3>Käytkö usein tällä pysäkillä?</h3>\n  <p>Jos käyt pysäkillä lähes päivittäin, voit ryhtyä sen kummiksi.</p>\n  <p>Pysäkkikummin velvollisuutena on...</p>\n  <ul>\n    <li>Tarkkailla pysäkin kuntoa</li>\n    <li>Raportoida jos jotain on pielessä</li>\n  </ul>\n  <p>Kummina autat pitämään kaupunkimme paremmassa kunnossa.</p>\n  \n  <button id=\"adopt-stop\" type=\"button\" class=\"btn btn-primary\">Ryhdy pysäkin kummiksi</button>\n  <div id=\"adopt-form\" class=\"hidden\">\n    <div class=\"form-group\">\n      <label for=\"email\">Sähköpostiosoitteesi</label>\n      <input type=\"email\" name=\"email\" id=\"email\" placeholder=\"\" />\n      <button id=\"adopt-send\" type=\"submit\" class=\"btn btn-default\">Lähetä</button>\n    </div>\n  </div>\n</div>\n";
  }

  stack1 = helpers['if'].call(depth0, (depth0 && depth0.showButton), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});
  if(stack1 || stack1 === 0) { return stack1; }
  else { return ''; }
  });

},{"hbsfy/runtime":58}],32:[function(require,module,exports){
// hbsfy compiled Handlebars template
var Handlebars = require('hbsfy/runtime');
module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {
  this.compilerInfo = [4,'>= 1.0.0'];
helpers = this.merge(helpers, Handlebars.helpers); data = data || {};
  var buffer = "", stack1, helper, functionType="function", escapeExpression=this.escapeExpression;


  if (helper = helpers.date) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.date); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + ": ";
  if (helper = helpers.description) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.description); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1);
  return buffer;
  });

},{"hbsfy/runtime":58}],33:[function(require,module,exports){
// hbsfy compiled Handlebars template
var Handlebars = require('hbsfy/runtime');
module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {
  this.compilerInfo = [4,'>= 1.0.0'];
helpers = this.merge(helpers, Handlebars.helpers); data = data || {};
  


  return "<div class=\"col-xs-12 col-sm-12\">\n  <h2>Mitä pysäkille kuuluu?</h2>\n  <button type=\"button\" class=\"btn btn-success\" id=\"report-ok\">Pysäkillä on kaikki OK</button>\n  <button type=\"button\" class=\"btn btn-danger\" id=\"report-problem\">Pysäkillä on ongelma!</button>\n</div>";
  });

},{"hbsfy/runtime":58}],34:[function(require,module,exports){
// hbsfy compiled Handlebars template
var Handlebars = require('hbsfy/runtime');
module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {
  this.compilerInfo = [4,'>= 1.0.0'];
helpers = this.merge(helpers, Handlebars.helpers); data = data || {};
  


  return "<div class=\"col-xs-12 col-sm-12\">\n  <h3>Raportoidut ongelmat</h3>\n  <div id=\"stop-reports\">\n    <ul></ul>\n  </div>\n</div>";
  });

},{"hbsfy/runtime":58}],35:[function(require,module,exports){
// hbsfy compiled Handlebars template
var Handlebars = require('hbsfy/runtime');
module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {
  this.compilerInfo = [4,'>= 1.0.0'];
helpers = this.merge(helpers, Handlebars.helpers); data = data || {};
  


  return "<p>Tällä pysäkillä ei ole raportoituja ongelmia.</p>";
  });

},{"hbsfy/runtime":58}],36:[function(require,module,exports){
// hbsfy compiled Handlebars template
var Handlebars = require('hbsfy/runtime');
module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {
  this.compilerInfo = [4,'>= 1.0.0'];
helpers = this.merge(helpers, Handlebars.helpers); data = data || {};
  var stack1, functionType="function", escapeExpression=this.escapeExpression, self=this;

function program1(depth0,data) {
  
  var buffer = "", stack1, helper;
  buffer += "\n  <h1>";
  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "</h1>\n  <p class=\"info\">";
  if (helper = helpers.address) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.address); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + ", ";
  if (helper = helpers.city) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.city); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "</p>\n";
  return buffer;
  }

function program3(depth0,data) {
  
  
  return "\n  <p>Ladataan pysäkin tietoja...</p>\n";
  }

  stack1 = helpers['if'].call(depth0, (depth0 && depth0.name), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});
  if(stack1 || stack1 === 0) { return stack1; }
  else { return ''; }
  });

},{"hbsfy/runtime":58}],37:[function(require,module,exports){
// hbsfy compiled Handlebars template
var Handlebars = require('hbsfy/runtime');
module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {
  this.compilerInfo = [4,'>= 1.0.0'];
helpers = this.merge(helpers, Handlebars.helpers); data = data || {};
  


  return "<div class=\"row\" id=\"welcome-info-teaser\"></div>\n<div class=\"row\" id=\"welcome-nearby\"></div>\n<div class=\"row\" id=\"welcome-search\"></div>";
  });

},{"hbsfy/runtime":58}],38:[function(require,module,exports){
// hbsfy compiled Handlebars template
var Handlebars = require('hbsfy/runtime');
module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {
  this.compilerInfo = [4,'>= 1.0.0'];
helpers = this.merge(helpers, Handlebars.helpers); data = data || {};
  


  return "<div class=\"col-xs-12 col-sm-6 col-md-8\">\n  <h3>Lähistön pysäkit</h3>\n  <p id=\"loading-stops\">Ladataan...</p>\n  <ul id=\"stops\"></ul>\n</div>";
  });

},{"hbsfy/runtime":58}],39:[function(require,module,exports){
// hbsfy compiled Handlebars template
var Handlebars = require('hbsfy/runtime');
module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {
  this.compilerInfo = [4,'>= 1.0.0'];
helpers = this.merge(helpers, Handlebars.helpers); data = data || {};
  


  return "<div class=\"col-xs-12 col-sm-6 col-md-8\">\n  <h3>Etsi pysäkki</h3>\n  <label for=\"stop-id\">Anna pysäkin koodi</label>\n  <input type=\"text\" name=\"stop-id\" id=\"stop-id\" placeholder=\"1251\" />\n  <button class=\"btn btn-primary\" id=\"find-stop\">Hae</button>\n</div>";
  });

},{"hbsfy/runtime":58}],40:[function(require,module,exports){
// hbsfy compiled Handlebars template
var Handlebars = require('hbsfy/runtime');
module.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {
  this.compilerInfo = [4,'>= 1.0.0'];
helpers = this.merge(helpers, Handlebars.helpers); data = data || {};
  var buffer = "", stack1, helper, functionType="function", escapeExpression=this.escapeExpression, self=this;

function program1(depth0,data) {
  
  var buffer = "", stack1, helper;
  buffer += "(";
  if (helper = helpers.codeShort) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.codeShort); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + ")";
  return buffer;
  }

  buffer += "<a href=\"#stop/";
  if (helper = helpers.code) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.code); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\">";
  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + " ";
  stack1 = helpers['if'].call(depth0, (depth0 && depth0.codeShort), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "</a>";
  return buffer;
  });

},{"hbsfy/runtime":58}],"backbone.babysitter":[function(require,module,exports){
module.exports=require('cljjeY');
},{}],"cljjeY":[function(require,module,exports){
(function (global){(function browserifyShim(module, exports, define, browserify_shim__define__module__export__) {

; global.Backbone = require("backbone");
// Backbone.BabySitter
// -------------------
// v0.0.6
//
// Copyright (c)2013 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
//
// http://github.com/babysitterjs/backbone.babysitter

Backbone.ChildViewContainer=function(i,t){var e=function(i){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(i,this.add,this)};t.extend(e.prototype,{add:function(i,t){var e=i.cid;this._views[e]=i,i.model&&(this._indexByModel[i.model.cid]=e),t&&(this._indexByCustom[t]=e),this._updateLength()},findByModel:function(i){return this.findByModelCid(i.cid)},findByModelCid:function(i){var t=this._indexByModel[i];return this.findByCid(t)},findByCustom:function(i){var t=this._indexByCustom[i];return this.findByCid(t)},findByIndex:function(i){return t.values(this._views)[i]},findByCid:function(i){return this._views[i]},remove:function(i){var e=i.cid;i.model&&delete this._indexByModel[i.model.cid],t.any(this._indexByCustom,function(i,t){return i===e?(delete this._indexByCustom[t],!0):void 0},this),delete this._views[e],this._updateLength()},call:function(i){this.apply(i,t.tail(arguments))},apply:function(i,e){t.each(this._views,function(n){t.isFunction(n[i])&&n[i].apply(n,e||[])})},_updateLength:function(){this.length=t.size(this._views)}});var n=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return t.each(n,function(i){e.prototype[i]=function(){var e=t.values(this._views),n=[e].concat(t.toArray(arguments));return t[i].apply(t,n)}}),e}(Backbone,_);
//@ sourceMappingURL=backbone.babysitter.map
; browserify_shim__define__module__export__(typeof Backbone.Babysitter != "undefined" ? Backbone.Babysitter : window.Backbone.Babysitter);

}).call(global, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"backbone":"4NNQbm"}],"backbone.marionette":[function(require,module,exports){
module.exports=require('IlFL/y');
},{}],"IlFL/y":[function(require,module,exports){
(function (global){(function browserifyShim(module, exports, define, browserify_shim__define__module__export__) {

; global.$ = require("jquery");
global.Backbone = require("backbone");
global._ = require("underscore");
// MarionetteJS (Backbone.Marionette)
// ----------------------------------
// v1.3.0
//
// Copyright (c)2013 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
//
// http://marionettejs.com



/*!
 * Includes BabySitter
 * https://github.com/marionettejs/backbone.babysitter/
 *
 * Includes Wreqr
 * https://github.com/marionettejs/backbone.wreqr/
 */

Backbone.ChildViewContainer=function(a,b){var c=function(a){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),b.each(a,this.add,this)};b.extend(c.prototype,{add:function(a,b){var c=a.cid;this._views[c]=a,a.model&&(this._indexByModel[a.model.cid]=c),b&&(this._indexByCustom[b]=c),this._updateLength()},findByModel:function(a){return this.findByModelCid(a.cid)},findByModelCid:function(a){var b=this._indexByModel[a];return this.findByCid(b)},findByCustom:function(a){var b=this._indexByCustom[a];return this.findByCid(b)},findByIndex:function(a){return b.values(this._views)[a]},findByCid:function(a){return this._views[a]},remove:function(a){var c=a.cid;a.model&&delete this._indexByModel[a.model.cid],b.any(this._indexByCustom,function(a,b){return a===c?(delete this._indexByCustom[b],!0):void 0},this),delete this._views[c],this._updateLength()},call:function(a){this.apply(a,b.tail(arguments))},apply:function(a,c){b.each(this._views,function(d){b.isFunction(d[a])&&d[a].apply(d,c||[])})},_updateLength:function(){this.length=b.size(this._views)}});var d=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return b.each(d,function(a){c.prototype[a]=function(){var c=b.values(this._views),d=[c].concat(b.toArray(arguments));return b[a].apply(b,d)}}),c}(Backbone,_),Backbone.Wreqr=function(a,b,c){"use strict";var d={};return d.Handlers=function(a,b){var c=function(a){this.options=a,this._wreqrHandlers={},b.isFunction(this.initialize)&&this.initialize(a)};return c.extend=a.Model.extend,b.extend(c.prototype,a.Events,{setHandlers:function(a){b.each(a,function(a,c){var d=null;b.isObject(a)&&!b.isFunction(a)&&(d=a.context,a=a.callback),this.setHandler(c,a,d)},this)},setHandler:function(a,b,c){var d={callback:b,context:c};this._wreqrHandlers[a]=d,this.trigger("handler:add",a,b,c)},hasHandler:function(a){return!!this._wreqrHandlers[a]},getHandler:function(a){var b=this._wreqrHandlers[a];if(!b)throw new Error("Handler not found for '"+a+"'");return function(){var a=Array.prototype.slice.apply(arguments);return b.callback.apply(b.context,a)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}}),c}(a,c),d.CommandStorage=function(){var b=function(a){this.options=a,this._commands={},c.isFunction(this.initialize)&&this.initialize(a)};return c.extend(b.prototype,a.Events,{getCommands:function(a){var b=this._commands[a];return b||(b={command:a,instances:[]},this._commands[a]=b),b},addCommand:function(a,b){var c=this.getCommands(a);c.instances.push(b)},clearCommands:function(a){var b=this.getCommands(a);b.instances=[]}}),b}(),d.Commands=function(a){return a.Handlers.extend({storageType:a.CommandStorage,constructor:function(b){this.options=b||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var c=Array.prototype.slice.call(arguments);a.Handlers.prototype.constructor.apply(this,c)},execute:function(a,b){a=arguments[0],b=Array.prototype.slice.call(arguments,1),this.hasHandler(a)?this.getHandler(a).apply(this,b):this.storage.addCommand(a,b)},_executeCommands:function(a,b,d){var e=this.storage.getCommands(a);c.each(e.instances,function(a){b.apply(d,a)}),this.storage.clearCommands(a)},_initializeStorage:function(a){var b,d=a.storageType||this.storageType;b=c.isFunction(d)?new d:d,this.storage=b}})}(d),d.RequestResponse=function(a){return a.Handlers.extend({request:function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);return this.getHandler(a).apply(this,b)}})}(d),d.EventAggregator=function(a,b){var c=function(){};return c.extend=a.Model.extend,b.extend(c.prototype,a.Events),c}(a,c),d}(Backbone,Backbone.Marionette,_);var Marionette=function(a,b,c){"use strict";function d(a){return g.call(a)}function e(a,b){var c=new Error(a);throw c.name=b||"Error",c}var f={};b.Marionette=f,f.$=b.$;var g=Array.prototype.slice;return f.extend=b.Model.extend,f.getOption=function(a,b){if(a&&b){var c;return c=a.options&&b in a.options&&void 0!==a.options[b]?a.options[b]:a[b]}},f.triggerMethod=function(){function a(a,b,c){return c.toUpperCase()}var b=/(^|:)(\w)/gi,d=function(d){var e="on"+d.replace(b,a),f=this[e];return c.isFunction(this.trigger)&&this.trigger.apply(this,arguments),c.isFunction(f)?f.apply(this,c.tail(arguments)):void 0};return d}(),f.MonitorDOMRefresh=function(){function a(a){a._isShown=!0,d(a)}function b(a){a._isRendered=!0,d(a)}function d(a){a._isShown&&a._isRendered&&c.isFunction(a.triggerMethod)&&a.triggerMethod("dom:refresh")}return function(c){c.listenTo(c,"show",function(){a(c)}),c.listenTo(c,"render",function(){b(c)})}}(),function(a){function b(a,b,d,f){var g=f.split(/\s+/);c.each(g,function(c){var f=a[c];f||e("Method '"+c+"' was configured as an event handler, but does not exist."),a.listenTo(b,d,f,a)})}function d(a,b,c,d){a.listenTo(b,c,d,a)}function f(a,b,d,e){var f=e.split(/\s+/);c.each(f,function(c){var e=a[c];a.stopListening(b,d,e,a)})}function g(a,b,c,d){a.stopListening(b,c,d,a)}function h(a,b,d,e,f){b&&d&&(c.isFunction(d)&&(d=d.call(a)),c.each(d,function(d,g){c.isFunction(d)?e(a,b,g,d):f(a,b,g,d)}))}a.bindEntityEvents=function(a,c,e){h(a,c,e,d,b)},a.unbindEntityEvents=function(a,b,c){h(a,b,c,g,f)}}(f),f.Callbacks=function(){this._deferred=f.$.Deferred(),this._callbacks=[]},c.extend(f.Callbacks.prototype,{add:function(a,b){this._callbacks.push({cb:a,ctx:b}),this._deferred.done(function(c,d){b&&(c=b),a.call(c,d)})},run:function(a,b){this._deferred.resolve(b,a)},reset:function(){var a=this._callbacks;this._deferred=f.$.Deferred(),this._callbacks=[],c.each(a,function(a){this.add(a.cb,a.ctx)},this)}}),f.Controller=function(a){this.triggerMethod=f.triggerMethod,this.options=a||{},c.isFunction(this.initialize)&&this.initialize(this.options)},f.Controller.extend=f.extend,c.extend(f.Controller.prototype,b.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),f.Region=function(a){if(this.options=a||{},this.el=f.getOption(this,"el"),!this.el){var b=new Error("An 'el' must be specified for a region.");throw b.name="NoElError",b}if(this.initialize){var c=Array.prototype.slice.apply(arguments);this.initialize.apply(this,c)}},c.extend(f.Region,{buildRegion:function(a,b){var d="string"==typeof a,e="string"==typeof a.selector,f="undefined"==typeof a.regionType,g="function"==typeof a;if(!g&&!d&&!e)throw new Error("Region must be specified as a Region type, a selector string or an object with selector property");var h,i;d&&(h=a),a.selector&&(h=a.selector),g&&(i=a),!g&&f&&(i=b),a.regionType&&(i=a.regionType);var j=new i({el:h});return a.parentEl&&(j.getEl=function(b){var d=a.parentEl;return c.isFunction(d)&&(d=d()),d.find(b)}),j}}),c.extend(f.Region.prototype,b.Events,{show:function(a){this.ensureEl();var b=a.isClosed||c.isUndefined(a.$el),d=a!==this.currentView;d&&this.close(),a.render(),(d||b)&&this.open(a),this.currentView=a,f.triggerMethod.call(this,"show",a),f.triggerMethod.call(a,"show")},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(a){return f.$(a)},open:function(a){this.$el.empty().append(a.el)},close:function(){var a=this.currentView;a&&!a.isClosed&&(a.close?a.close():a.remove&&a.remove(),f.triggerMethod.call(this,"close"),delete this.currentView)},attachView:function(a){this.currentView=a},reset:function(){this.close(),delete this.$el}}),f.Region.extend=f.extend,f.RegionManager=function(a){var b=a.Controller.extend({constructor:function(b){this._regions={},a.Controller.prototype.constructor.call(this,b)},addRegions:function(a,b){var d={};return c.each(a,function(a,e){"string"==typeof a&&(a={selector:a}),a.selector&&(a=c.defaults({},a,b));var f=this.addRegion(e,a);d[e]=f},this),d},addRegion:function(b,d){var e,f=c.isObject(d),g=c.isString(d),h=!!d.selector;return e=g||f&&h?a.Region.buildRegion(d,a.Region):c.isFunction(d)?a.Region.buildRegion(d,a.Region):d,this._store(b,e),this.triggerMethod("region:add",b,e),e},get:function(a){return this._regions[a]},removeRegion:function(a){var b=this._regions[a];this._remove(a,b)},removeRegions:function(){c.each(this._regions,function(a,b){this._remove(b,a)},this)},closeRegions:function(){c.each(this._regions,function(a){a.close()},this)},close:function(){this.removeRegions();var b=Array.prototype.slice.call(arguments);a.Controller.prototype.close.apply(this,b)},_store:function(a,b){this._regions[a]=b,this._setLength()},_remove:function(a,b){b.close(),delete this._regions[a],this._setLength(),this.triggerMethod("region:remove",a,b)},_setLength:function(){this.length=c.size(this._regions)}}),d=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return c.each(d,function(a){b.prototype[a]=function(){var b=c.values(this._regions),d=[b].concat(c.toArray(arguments));return c[a].apply(c,d)}}),b}(f),f.TemplateCache=function(a){this.templateId=a},c.extend(f.TemplateCache,{templateCaches:{},get:function(a){var b=this.templateCaches[a];return b||(b=new f.TemplateCache(a),this.templateCaches[a]=b),b.load()},clear:function(){var a,b=d(arguments),c=b.length;if(c>0)for(a=0;c>a;a++)delete this.templateCaches[b[a]];else this.templateCaches={}}}),c.extend(f.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var a=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(a),this.compiledTemplate},loadTemplate:function(a){var b=f.$(a).html();return b&&0!==b.length||e("Could not find template: '"+a+"'","NoTemplateError"),b},compileTemplate:function(a){return c.template(a)}}),f.Renderer={render:function(a,b){if(!a){var c=new Error("Cannot render the template since it's false, null or undefined.");throw c.name="TemplateNotFoundError",c}var d;return d="function"==typeof a?a:f.TemplateCache.get(a),d(b)}},f.View=b.View.extend({constructor:function(a){c.bindAll(this,"render");var d=Array.prototype.slice.apply(arguments);this.options=a||{},b.View.prototype.constructor.apply(this,d),f.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:f.triggerMethod,getTemplate:function(){return f.getOption(this,"template")},mixinTemplateHelpers:function(a){a=a||{};var b=f.getOption(this,"templateHelpers");return c.isFunction(b)&&(b=b.call(this)),c.extend(a,b)},configureTriggers:function(){if(this.triggers){var a={},b=c.result(this,"triggers");return c.each(b,function(b,d){var e=c.isObject(b),f=e?b.event:b;a[d]=function(a){if(a){var c=a.preventDefault,d=a.stopPropagation,g=e?b.preventDefault:c,h=e?b.stopPropagation:d;g&&c&&c.apply(a),h&&d&&d.apply(a)}var i={view:this,model:this.model,collection:this.collection};this.triggerMethod(f,i)}},this),a}},delegateEvents:function(a){this._delegateDOMEvents(a),f.bindEntityEvents(this,this.model,f.getOption(this,"modelEvents")),f.bindEntityEvents(this,this.collection,f.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(a){a=a||this.events,c.isFunction(a)&&(a=a.call(this));var d={},e=this.configureTriggers();c.extend(d,a,e),b.View.prototype.delegateEvents.call(this,d)},undelegateEvents:function(){var a=Array.prototype.slice.call(arguments);b.View.prototype.undelegateEvents.apply(this,a),f.unbindEntityEvents(this,this.model,f.getOption(this,"modelEvents")),f.unbindEntityEvents(this,this.collection,f.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){if(!this.isClosed){var a=this.triggerMethod("before:close");a!==!1&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())}},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=c.result(this,"_uiBindings");this.ui={},c.each(c.keys(a),function(b){var c=a[b];this.ui[b]=this.$(c)},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(c.each(this.ui,function(a,b){delete this.ui[b]},this),this.ui=this._uiBindings,delete this._uiBindings)}}),f.ItemView=f.View.extend({constructor:function(){f.View.prototype.constructor.apply(this,d(arguments))},serializeData:function(){var a={};return this.model?a=this.model.toJSON():this.collection&&(a={items:this.collection.toJSON()}),a},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var a=this.serializeData();a=this.mixinTemplateHelpers(a);var b=this.getTemplate(),c=f.Renderer.render(b,a);return this.$el.html(c),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),f.View.prototype.close.apply(this,d(arguments)),this.triggerMethod("item:closed"))}}),f.CollectionView=f.View.extend({itemViewEventPrefix:"itemview",constructor:function(){this._initChildViewStorage(),f.View.prototype.constructor.apply(this,d(arguments)),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment()},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.appendBuffer(this,this.elBuffer),this.initRenderBuffer(),this.isBuffering=!1},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,this))},addChildView:function(a){this.closeEmptyView();var b=this.getItemView(a),c=this.collection.indexOf(a);this.addItemView(a,b,c)},onShowCalled:function(){this.children.each(function(a){f.triggerMethod.call(a,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.startBuffering(),this.closeEmptyView(),this.closeChildren(),this.collection&&this.collection.length>0?this.showCollection():this.showEmptyView(),this.endBuffering()},showCollection:function(){var a;this.collection.each(function(b,c){a=this.getItemView(b),this.addItemView(b,a,c)},this)},showEmptyView:function(){var a=this.getEmptyView();if(a&&!this._showingEmptyView){this._showingEmptyView=!0;var c=new b.Model;this.addItemView(c,a,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return f.getOption(this,"emptyView")},getItemView:function(){var a=f.getOption(this,"itemView");return a||e("An `itemView` must be specified","NoItemViewError"),a},addItemView:function(a,b,d){var e=f.getOption(this,"itemViewOptions");c.isFunction(e)&&(e=e.call(this,a,d));var g=this.buildItemView(a,b,e);this.addChildViewEventForwarding(g),this.triggerMethod("before:item:added",g),this.children.add(g),this.renderItemView(g,d),this._isShown&&f.triggerMethod.call(g,"show"),this.triggerMethod("after:item:added",g)},addChildViewEventForwarding:function(a){var b=f.getOption(this,"itemViewEventPrefix");this.listenTo(a,"all",function(){var c=d(arguments);c[0]=b+":"+c[0],c.splice(1,0,a),f.triggerMethod.apply(this,c)},this)},renderItemView:function(a,b){a.render(),this.appendHtml(this,a,b)},buildItemView:function(a,b,d){var e=c.extend({model:a},d);return new b(e)},removeItemView:function(a){var b=this.children.findByModel(a);this.removeChildView(b),this.checkEmpty()},removeChildView:function(a){a&&(this.stopListening(a),a.close?a.close():a.remove&&a.remove(),this.children.remove(a)),this.triggerMethod("item:removed",a)},checkEmpty:function(){this.collection&&0!==this.collection.length||this.showEmptyView()},appendBuffer:function(a,b){a.$el.append(b)},appendHtml:function(a,b){a.isBuffering?a.elBuffer.appendChild(b.el):a.$el.append(b.el)},_initChildViewStorage:function(){this.children=new b.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),f.View.prototype.close.apply(this,d(arguments)))},closeChildren:function(){this.children.each(function(a){this.removeChildView(a)},this),this.checkEmpty()}}),f.CompositeView=f.CollectionView.extend({constructor:function(){f.CollectionView.prototype.constructor.apply(this,d(arguments))},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))})},getItemView:function(){var a=f.getOption(this,"itemView")||this.constructor;return a||e("An `itemView` must be specified","NoItemViewError"),a},serializeData:function(){var a={};return this.model&&(a=this.model.toJSON()),a},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var a=this.renderModel();return this.$el.html(a),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(f.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var a={};a=this.serializeData(),a=this.mixinTemplateHelpers(a);var b=this.getTemplate();return f.Renderer.render(b,a)},appendBuffer:function(a,b){var c=this.getItemViewContainer(a);c.append(b)},appendHtml:function(a,b){if(a.isBuffering)a.elBuffer.appendChild(b.el);else{var c=this.getItemViewContainer(a);c.append(b.el)}},getItemViewContainer:function(a){if("$itemViewContainer"in a)return a.$itemViewContainer;var b,d=f.getOption(a,"itemViewContainer");if(d){var g=c.isFunction(d)?d():d;b=a.$(g),b.length<=0&&e("The specified `itemViewContainer` was not found: "+a.itemViewContainer,"ItemViewContainerMissingError")}else b=a.$el;return a.$itemViewContainer=b,b},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),f.Layout=f.ItemView.extend({regionType:f.Region,constructor:function(a){a=a||{},this._firstRender=!0,this._initializeRegions(a),f.ItemView.prototype.constructor.call(this,a)},render:function(){this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions();var a=Array.prototype.slice.apply(arguments),b=f.ItemView.prototype.render.apply(this,a);return b},close:function(){if(!this.isClosed){this.regionManager.close();var a=Array.prototype.slice.apply(arguments);f.ItemView.prototype.close.apply(this,a)}},addRegion:function(a,b){var c={};return c[a]=b,this._buildRegions(c)[a]},addRegions:function(a){return this.regions=c.extend({},this.regions,a),this._buildRegions(a)},removeRegion:function(a){return delete this.regions[a],this.regionManager.removeRegion(a)},_buildRegions:function(a){var b=this,c={regionType:f.getOption(this,"regionType"),parentEl:function(){return b.$el}};return this.regionManager.addRegions(a,c)},_initializeRegions:function(a){var b;this._initRegionManager(),b=c.isFunction(this.regions)?this.regions(a):this.regions||{},this.addRegions(b)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each(function(a){a.reset()})},_initRegionManager:function(){this.regionManager=new f.RegionManager,this.listenTo(this.regionManager,"region:add",function(a,b){this[a]=b,this.trigger("region:add",a,b)}),this.listenTo(this.regionManager,"region:remove",function(a,b){delete this[a],this.trigger("region:remove",a,b)})}}),f.AppRouter=b.Router.extend({constructor:function(a){b.Router.prototype.constructor.apply(this,d(arguments)),this.options=a||{};var c=f.getOption(this,"appRoutes"),e=this._getController();this.processAppRoutes(e,c)},appRoute:function(a,b){var c=this._getController();this._addAppRoute(c,a,b)},processAppRoutes:function(a,b){if(b){var d=c.keys(b).reverse();c.each(d,function(c){this._addAppRoute(a,c,b[c])},this)}},_getController:function(){return f.getOption(this,"controller")},_addAppRoute:function(a,b,d){var e=a[d];if(!e)throw new Error("Method '"+d+"' was not found on the controller");this.route(b,d,c.bind(e,a))}}),f.Application=function(a){this._initRegionManager(),this._initCallbacks=new f.Callbacks,this.vent=new b.Wreqr.EventAggregator,this.commands=new b.Wreqr.Commands,this.reqres=new b.Wreqr.RequestResponse,this.submodules={},c.extend(this,a),this.triggerMethod=f.triggerMethod},c.extend(f.Application.prototype,b.Events,{execute:function(){var a=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,a)},request:function(){var a=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,a)},addInitializer:function(a){this._initCallbacks.add(a)},start:function(a){this.triggerMethod("initialize:before",a),this._initCallbacks.run(a,this),this.triggerMethod("initialize:after",a),this.triggerMethod("start",a)},addRegions:function(a){return this._regionManager.addRegions(a)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(a){this._regionManager.removeRegion(a)},getRegion:function(a){return this._regionManager.get(a)},module:function(){var a=d(arguments);return a.unshift(this),f.Module.create.apply(f.Module,a)},_initRegionManager:function(){this._regionManager=new f.RegionManager,this.listenTo(this._regionManager,"region:add",function(a,b){this[a]=b}),this.listenTo(this._regionManager,"region:remove",function(a){delete this[a]})}}),f.Application.extend=f.extend,f.Module=function(a,b){this.moduleName=a,this.submodules={},this._setupInitializersAndFinalizers(),this.app=b,this.startWithParent=!0,this.triggerMethod=f.triggerMethod},c.extend(f.Module.prototype,b.Events,{addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(c.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),this.triggerMethod("before:start",a),this._initializerCallbacks.run(a,this),this._isInitialized=!0,this.triggerMethod("start",a))},stop:function(){this._isInitialized&&(this._isInitialized=!1,f.triggerMethod.call(this,"before:stop"),c.each(this.submodules,function(a){a.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),f.triggerMethod.call(this,"stop"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,d){if(a){var e=c.flatten([this,this.app,b,f,f.$,c,d]);a.apply(this,e)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new f.Callbacks,this._finalizerCallbacks=new f.Callbacks}}),c.extend(f.Module,{create:function(a,b,e){var f=a,g=d(arguments);g.splice(0,3),b=b.split(".");var h=b.length,i=[];return i[h-1]=e,c.each(b,function(b,c){var d=f;f=this._getModule(d,b,a),this._addModuleDefinition(d,f,i[c],g)},this),f},_getModule:function(a,b,c){var d=a[b];return d||(d=new f.Module(b,c),a[b]=d,a.submodules[b]=d),d},_addModuleDefinition:function(a,b,d,e){var f,g;c.isFunction(d)?(f=d,g=!0):c.isObject(d)?(f=d.define,g=d.startWithParent):g=!0,f&&b.addDefinition(f,e),b.startWithParent=b.startWithParent&&g,b.startWithParent&&!b.startWithParentIsConfigured&&(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&b.start(a)}))}}),f}(this,Backbone,_);
//# sourceMappingURL=backbone.marionette.map
; browserify_shim__define__module__export__(typeof Marionette != "undefined" ? Marionette : window.Marionette);

}).call(global, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"backbone":"4NNQbm","jquery":"Cz4Dm0","underscore":"s+Ot9H"}],"4NNQbm":[function(require,module,exports){
(function (global){(function browserifyShim(module, exports, define, browserify_shim__define__module__export__) {

; global.$ = require("jquery");
global.underscore = require("underscore");
(function(){var t=this;var e=t.Backbone;var i=[];var r=i.push;var s=i.slice;var n=i.splice;var a;if(typeof exports!=="undefined"){a=exports}else{a=t.Backbone={}}a.VERSION="1.1.0";var h=t._;if(!h&&typeof require!=="undefined")h=require("underscore");a.$=t.jQuery||t.Zepto||t.ender||t.$;a.noConflict=function(){t.Backbone=e;return this};a.emulateHTTP=false;a.emulateJSON=false;var o=a.Events={on:function(t,e,i){if(!l(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});var r=this._events[t]||(this._events[t]=[]);r.push({callback:e,context:i,ctx:i||this});return this},once:function(t,e,i){if(!l(this,"once",t,[e,i])||!e)return this;var r=this;var s=h.once(function(){r.off(t,s);e.apply(this,arguments)});s._callback=e;return this.on(t,s,i)},off:function(t,e,i){var r,s,n,a,o,u,c,f;if(!this._events||!l(this,"off",t,[e,i]))return this;if(!t&&!e&&!i){this._events={};return this}a=t?[t]:h.keys(this._events);for(o=0,u=a.length;o<u;o++){t=a[o];if(n=this._events[t]){this._events[t]=r=[];if(e||i){for(c=0,f=n.length;c<f;c++){s=n[c];if(e&&e!==s.callback&&e!==s.callback._callback||i&&i!==s.context){r.push(s)}}}if(!r.length)delete this._events[t]}}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!l(this,"trigger",t,e))return this;var i=this._events[t];var r=this._events.all;if(i)c(i,e);if(r)c(r,arguments);return this},stopListening:function(t,e,i){var r=this._listeningTo;if(!r)return this;var s=!e&&!i;if(!i&&typeof e==="object")i=this;if(t)(r={})[t._listenId]=t;for(var n in r){t=r[n];t.off(e,i,this);if(s||h.isEmpty(t._events))delete this._listeningTo[n]}return this}};var u=/\s+/;var l=function(t,e,i,r){if(!i)return true;if(typeof i==="object"){for(var s in i){t[e].apply(t,[s,i[s]].concat(r))}return false}if(u.test(i)){var n=i.split(u);for(var a=0,h=n.length;a<h;a++){t[e].apply(t,[n[a]].concat(r))}return false}return true};var c=function(t,e){var i,r=-1,s=t.length,n=e[0],a=e[1],h=e[2];switch(e.length){case 0:while(++r<s)(i=t[r]).callback.call(i.ctx);return;case 1:while(++r<s)(i=t[r]).callback.call(i.ctx,n);return;case 2:while(++r<s)(i=t[r]).callback.call(i.ctx,n,a);return;case 3:while(++r<s)(i=t[r]).callback.call(i.ctx,n,a,h);return;default:while(++r<s)(i=t[r]).callback.apply(i.ctx,e)}};var f={listenTo:"on",listenToOnce:"once"};h.each(f,function(t,e){o[e]=function(e,i,r){var s=this._listeningTo||(this._listeningTo={});var n=e._listenId||(e._listenId=h.uniqueId("l"));s[n]=e;if(!r&&typeof i==="object")r=this;e[t](i,r,this);return this}});o.bind=o.on;o.unbind=o.off;h.extend(a,o);var d=a.Model=function(t,e){var i=t||{};e||(e={});this.cid=h.uniqueId("c");this.attributes={};if(e.collection)this.collection=e.collection;if(e.parse)i=this.parse(i,e)||{};i=h.defaults({},i,h.result(this,"defaults"));this.set(i,e);this.changed={};this.initialize.apply(this,arguments)};h.extend(d.prototype,o,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return h.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return h.escape(this.get(t))},has:function(t){return this.get(t)!=null},set:function(t,e,i){var r,s,n,a,o,u,l,c;if(t==null)return this;if(typeof t==="object"){s=t;i=e}else{(s={})[t]=e}i||(i={});if(!this._validate(s,i))return false;n=i.unset;o=i.silent;a=[];u=this._changing;this._changing=true;if(!u){this._previousAttributes=h.clone(this.attributes);this.changed={}}c=this.attributes,l=this._previousAttributes;if(this.idAttribute in s)this.id=s[this.idAttribute];for(r in s){e=s[r];if(!h.isEqual(c[r],e))a.push(r);if(!h.isEqual(l[r],e)){this.changed[r]=e}else{delete this.changed[r]}n?delete c[r]:c[r]=e}if(!o){if(a.length)this._pending=true;for(var f=0,d=a.length;f<d;f++){this.trigger("change:"+a[f],this,c[a[f]],i)}}if(u)return this;if(!o){while(this._pending){this._pending=false;this.trigger("change",this,i)}}this._pending=false;this._changing=false;return this},unset:function(t,e){return this.set(t,void 0,h.extend({},e,{unset:true}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,h.extend({},t,{unset:true}))},hasChanged:function(t){if(t==null)return!h.isEmpty(this.changed);return h.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?h.clone(this.changed):false;var e,i=false;var r=this._changing?this._previousAttributes:this.attributes;for(var s in t){if(h.isEqual(r[s],e=t[s]))continue;(i||(i={}))[s]=e}return i},previous:function(t){if(t==null||!this._previousAttributes)return null;return this._previousAttributes[t]},previousAttributes:function(){return h.clone(this._previousAttributes)},fetch:function(t){t=t?h.clone(t):{};if(t.parse===void 0)t.parse=true;var e=this;var i=t.success;t.success=function(r){if(!e.set(e.parse(r,t),t))return false;if(i)i(e,r,t);e.trigger("sync",e,r,t)};M(this,t);return this.sync("read",this,t)},save:function(t,e,i){var r,s,n,a=this.attributes;if(t==null||typeof t==="object"){r=t;i=e}else{(r={})[t]=e}i=h.extend({validate:true},i);if(r&&!i.wait){if(!this.set(r,i))return false}else{if(!this._validate(r,i))return false}if(r&&i.wait){this.attributes=h.extend({},a,r)}if(i.parse===void 0)i.parse=true;var o=this;var u=i.success;i.success=function(t){o.attributes=a;var e=o.parse(t,i);if(i.wait)e=h.extend(r||{},e);if(h.isObject(e)&&!o.set(e,i)){return false}if(u)u(o,t,i);o.trigger("sync",o,t,i)};M(this,i);s=this.isNew()?"create":i.patch?"patch":"update";if(s==="patch")i.attrs=r;n=this.sync(s,this,i);if(r&&i.wait)this.attributes=a;return n},destroy:function(t){t=t?h.clone(t):{};var e=this;var i=t.success;var r=function(){e.trigger("destroy",e,e.collection,t)};t.success=function(s){if(t.wait||e.isNew())r();if(i)i(e,s,t);if(!e.isNew())e.trigger("sync",e,s,t)};if(this.isNew()){t.success();return false}M(this,t);var s=this.sync("delete",this,t);if(!t.wait)r();return s},url:function(){var t=h.result(this,"urlRoot")||h.result(this.collection,"url")||U();if(this.isNew())return t;return t+(t.charAt(t.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(t){return this._validate({},h.extend(t||{},{validate:true}))},_validate:function(t,e){if(!e.validate||!this.validate)return true;t=h.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;if(!i)return true;this.trigger("invalid",this,i,h.extend(e,{validationError:i}));return false}});var p=["keys","values","pairs","invert","pick","omit"];h.each(p,function(t){d.prototype[t]=function(){var e=s.call(arguments);e.unshift(this.attributes);return h[t].apply(h,e)}});var v=a.Collection=function(t,e){e||(e={});if(e.model)this.model=e.model;if(e.comparator!==void 0)this.comparator=e.comparator;this._reset();this.initialize.apply(this,arguments);if(t)this.reset(t,h.extend({silent:true},e))};var g={add:true,remove:true,merge:true};var m={add:true,remove:false};h.extend(v.prototype,o,{model:d,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return a.sync.apply(this,arguments)},add:function(t,e){return this.set(t,h.extend({merge:false},e,m))},remove:function(t,e){var i=!h.isArray(t);t=i?[t]:h.clone(t);e||(e={});var r,s,n,a;for(r=0,s=t.length;r<s;r++){a=t[r]=this.get(t[r]);if(!a)continue;delete this._byId[a.id];delete this._byId[a.cid];n=this.indexOf(a);this.models.splice(n,1);this.length--;if(!e.silent){e.index=n;a.trigger("remove",a,this,e)}this._removeReference(a)}return i?t[0]:t},set:function(t,e){e=h.defaults({},e,g);if(e.parse)t=this.parse(t,e);var i=!h.isArray(t);t=i?t?[t]:[]:h.clone(t);var r,s,n,a,o,u,l;var c=e.at;var f=this.model;var p=this.comparator&&c==null&&e.sort!==false;var v=h.isString(this.comparator)?this.comparator:null;var m=[],y=[],_={};var w=e.add,b=e.merge,x=e.remove;var E=!p&&w&&x?[]:false;for(r=0,s=t.length;r<s;r++){o=t[r];if(o instanceof d){n=a=o}else{n=o[f.prototype.idAttribute]}if(u=this.get(n)){if(x)_[u.cid]=true;if(b){o=o===a?a.attributes:o;if(e.parse)o=u.parse(o,e);u.set(o,e);if(p&&!l&&u.hasChanged(v))l=true}t[r]=u}else if(w){a=t[r]=this._prepareModel(o,e);if(!a)continue;m.push(a);a.on("all",this._onModelEvent,this);this._byId[a.cid]=a;if(a.id!=null)this._byId[a.id]=a}if(E)E.push(u||a)}if(x){for(r=0,s=this.length;r<s;++r){if(!_[(a=this.models[r]).cid])y.push(a)}if(y.length)this.remove(y,e)}if(m.length||E&&E.length){if(p)l=true;this.length+=m.length;if(c!=null){for(r=0,s=m.length;r<s;r++){this.models.splice(c+r,0,m[r])}}else{if(E)this.models.length=0;var T=E||m;for(r=0,s=T.length;r<s;r++){this.models.push(T[r])}}}if(l)this.sort({silent:true});if(!e.silent){for(r=0,s=m.length;r<s;r++){(a=m[r]).trigger("add",a,this,e)}if(l||E&&E.length)this.trigger("sort",this,e)}return i?t[0]:t},reset:function(t,e){e||(e={});for(var i=0,r=this.models.length;i<r;i++){this._removeReference(this.models[i])}e.previousModels=this.models;this._reset();t=this.add(t,h.extend({silent:true},e));if(!e.silent)this.trigger("reset",this,e);return t},push:function(t,e){return this.add(t,h.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);this.remove(e,t);return e},unshift:function(t,e){return this.add(t,h.extend({at:0},e))},shift:function(t){var e=this.at(0);this.remove(e,t);return e},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(t==null)return void 0;return this._byId[t.id]||this._byId[t.cid]||this._byId[t]},at:function(t){return this.models[t]},where:function(t,e){if(h.isEmpty(t))return e?void 0:[];return this[e?"find":"filter"](function(e){for(var i in t){if(t[i]!==e.get(i))return false}return true})},findWhere:function(t){return this.where(t,true)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");t||(t={});if(h.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(h.bind(this.comparator,this))}if(!t.silent)this.trigger("sort",this,t);return this},pluck:function(t){return h.invoke(this.models,"get",t)},fetch:function(t){t=t?h.clone(t):{};if(t.parse===void 0)t.parse=true;var e=t.success;var i=this;t.success=function(r){var s=t.reset?"reset":"set";i[s](r,t);if(e)e(i,r,t);i.trigger("sync",i,r,t)};M(this,t);return this.sync("read",this,t)},create:function(t,e){e=e?h.clone(e):{};if(!(t=this._prepareModel(t,e)))return false;if(!e.wait)this.add(t,e);var i=this;var r=e.success;e.success=function(t,e,s){if(s.wait)i.add(t,s);if(r)r(t,e,s)};t.save(null,e);return t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(t,e){if(t instanceof d){if(!t.collection)t.collection=this;return t}e=e?h.clone(e):{};e.collection=this;var i=new this.model(t,e);if(!i.validationError)return i;this.trigger("invalid",this,i.validationError,e);return false},_removeReference:function(t){if(this===t.collection)delete t.collection;t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,r){if((t==="add"||t==="remove")&&i!==this)return;if(t==="destroy")this.remove(e,r);if(e&&t==="change:"+e.idAttribute){delete this._byId[e.previous(e.idAttribute)];if(e.id!=null)this._byId[e.id]=e}this.trigger.apply(this,arguments)}});var y=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];h.each(y,function(t){v.prototype[t]=function(){var e=s.call(arguments);e.unshift(this.models);return h[t].apply(h,e)}});var _=["groupBy","countBy","sortBy"];h.each(_,function(t){v.prototype[t]=function(e,i){var r=h.isFunction(e)?e:function(t){return t.get(e)};return h[t](this.models,r,i)}});var w=a.View=function(t){this.cid=h.uniqueId("view");t||(t={});h.extend(this,h.pick(t,x));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var b=/^(\S+)\s*(.*)$/;var x=["model","collection","el","id","attributes","className","tagName","events"];h.extend(w.prototype,o,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(t,e){if(this.$el)this.undelegateEvents();this.$el=t instanceof a.$?t:a.$(t);this.el=this.$el[0];if(e!==false)this.delegateEvents();return this},delegateEvents:function(t){if(!(t||(t=h.result(this,"events"))))return this;this.undelegateEvents();for(var e in t){var i=t[e];if(!h.isFunction(i))i=this[t[e]];if(!i)continue;var r=e.match(b);var s=r[1],n=r[2];i=h.bind(i,this);s+=".delegateEvents"+this.cid;if(n===""){this.$el.on(s,i)}else{this.$el.on(s,n,i)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(!this.el){var t=h.extend({},h.result(this,"attributes"));if(this.id)t.id=h.result(this,"id");if(this.className)t["class"]=h.result(this,"className");var e=a.$("<"+h.result(this,"tagName")+">").attr(t);this.setElement(e,false)}else{this.setElement(h.result(this,"el"),false)}}});a.sync=function(t,e,i){var r=T[t];h.defaults(i||(i={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var s={type:r,dataType:"json"};if(!i.url){s.url=h.result(e,"url")||U()}if(i.data==null&&e&&(t==="create"||t==="update"||t==="patch")){s.contentType="application/json";s.data=JSON.stringify(i.attrs||e.toJSON(i))}if(i.emulateJSON){s.contentType="application/x-www-form-urlencoded";s.data=s.data?{model:s.data}:{}}if(i.emulateHTTP&&(r==="PUT"||r==="DELETE"||r==="PATCH")){s.type="POST";if(i.emulateJSON)s.data._method=r;var n=i.beforeSend;i.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",r);if(n)return n.apply(this,arguments)}}if(s.type!=="GET"&&!i.emulateJSON){s.processData=false}if(s.type==="PATCH"&&E){s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var o=i.xhr=a.ajax(h.extend(s,i));e.trigger("request",e,o,i);return o};var E=typeof window!=="undefined"&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent);var T={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var k=a.Router=function(t){t||(t={});if(t.routes)this.routes=t.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var S=/\((.*?)\)/g;var $=/(\(\?)?:\w+/g;var H=/\*\w+/g;var A=/[\-{}\[\]+?.,\\\^$|#\s]/g;h.extend(k.prototype,o,{initialize:function(){},route:function(t,e,i){if(!h.isRegExp(t))t=this._routeToRegExp(t);if(h.isFunction(e)){i=e;e=""}if(!i)i=this[e];var r=this;a.history.route(t,function(s){var n=r._extractParameters(t,s);i&&i.apply(r,n);r.trigger.apply(r,["route:"+e].concat(n));r.trigger("route",e,n);a.history.trigger("route",r,e,n)});return this},navigate:function(t,e){a.history.navigate(t,e);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=h.result(this,"routes");var t,e=h.keys(this.routes);while((t=e.pop())!=null){this.route(t,this.routes[t])}},_routeToRegExp:function(t){t=t.replace(A,"\\$&").replace(S,"(?:$1)?").replace($,function(t,e){return e?t:"([^/]+)"}).replace(H,"(.*?)");return new RegExp("^"+t+"$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return h.map(i,function(t){return t?decodeURIComponent(t):null})}});var I=a.History=function(){this.handlers=[];h.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var N=/^[#\/]|\s+$/g;var O=/^\/+|\/+$/g;var P=/msie [\w.]+/;var C=/\/$/;var j=/[?#].*$/;I.started=false;h.extend(I.prototype,o,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(t==null){if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var i=this.root.replace(C,"");if(!t.indexOf(i))t=t.slice(i.length)}else{t=this.getHash()}}return t.replace(N,"")},start:function(t){if(I.started)throw new Error("Backbone.history has already been started");I.started=true;this.options=h.extend({root:"/"},this.options,t);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var e=this.getFragment();var i=document.documentMode;var r=P.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);this.root=("/"+this.root+"/").replace(O,"/");if(r&&this._wantsHashChange){this.iframe=a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(e)}if(this._hasPushState){a.$(window).on("popstate",this.checkUrl)}else if(this._wantsHashChange&&"onhashchange"in window&&!r){a.$(window).on("hashchange",this.checkUrl)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}this.fragment=e;var s=this.location;var n=s.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!n){this.fragment=this.getFragment(null,true);this.location.replace(this.root+this.location.search+"#"+this.fragment);return true}else if(this._hasPushState&&n&&s.hash){this.fragment=this.getHash().replace(N,"");this.history.replaceState({},document.title,this.root+this.fragment+s.search)}}if(!this.options.silent)return this.loadUrl()},stop:function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);I.started=false},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe){e=this.getFragment(this.getHash(this.iframe))}if(e===this.fragment)return false;if(this.iframe)this.navigate(e);this.loadUrl()},loadUrl:function(t){t=this.fragment=this.getFragment(t);return h.any(this.handlers,function(e){if(e.route.test(t)){e.callback(t);return true}})},navigate:function(t,e){if(!I.started)return false;if(!e||e===true)e={trigger:!!e};var i=this.root+(t=this.getFragment(t||""));t=t.replace(j,"");if(this.fragment===t)return;this.fragment=t;if(t===""&&i!=="/")i=i.slice(0,-1);if(this._hasPushState){this.history[e.replace?"replaceState":"pushState"]({},document.title,i)}else if(this._wantsHashChange){this._updateHash(this.location,t,e.replace);if(this.iframe&&t!==this.getFragment(this.getHash(this.iframe))){if(!e.replace)this.iframe.document.open().close();this._updateHash(this.iframe.location,t,e.replace)}}else{return this.location.assign(i)}if(e.trigger)return this.loadUrl(t)},_updateHash:function(t,e,i){if(i){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else{t.hash="#"+e}}});a.history=new I;var R=function(t,e){var i=this;var r;if(t&&h.has(t,"constructor")){r=t.constructor}else{r=function(){return i.apply(this,arguments)}}h.extend(r,i,e);var s=function(){this.constructor=r};s.prototype=i.prototype;r.prototype=new s;if(t)h.extend(r.prototype,t);r.__super__=i.prototype;return r};d.extend=v.extend=k.extend=w.extend=I.extend=R;var U=function(){throw new Error('A "url" property or function must be specified')};var M=function(t,e){var i=e.error;e.error=function(r){if(i)i(t,r,e);t.trigger("error",t,r,e)}}}).call(this);
//# sourceMappingURL=backbone-min.map
; browserify_shim__define__module__export__(typeof Backbone != "undefined" ? Backbone : window.Backbone);

}).call(global, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"jquery":"Cz4Dm0","underscore":"s+Ot9H"}],"backbone":[function(require,module,exports){
module.exports=require('4NNQbm');
},{}],"Cz4Dm0":[function(require,module,exports){
(function (global){(function browserifyShim(module, exports, define, browserify_shim__define__module__export__) {
/*! jQuery v1.10.2 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery.min.map
*/
(function(e,t){var n,r,i=typeof t,o=e.location,a=e.document,s=a.documentElement,l=e.jQuery,u=e.$,c={},p=[],f="1.10.2",d=p.concat,h=p.push,g=p.slice,m=p.indexOf,y=c.toString,v=c.hasOwnProperty,b=f.trim,x=function(e,t){return new x.fn.init(e,t,r)},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=/\S+/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,k=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^[\],:{}\s]*$/,S=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,j=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,D=/^-ms-/,L=/-([\da-z])/gi,H=function(e,t){return t.toUpperCase()},q=function(e){(a.addEventListener||"load"===e.type||"complete"===a.readyState)&&(_(),x.ready())},_=function(){a.addEventListener?(a.removeEventListener("DOMContentLoaded",q,!1),e.removeEventListener("load",q,!1)):(a.detachEvent("onreadystatechange",q),e.detachEvent("onload",q))};x.fn=x.prototype={jquery:f,constructor:x,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof x?n[0]:n,x.merge(this,x.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:a,!0)),k.test(i[1])&&x.isPlainObject(n))for(i in n)x.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(o=a.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=a,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))},selector:"",length:0,toArray:function(){return g.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(g.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||x.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(o=arguments[l]))for(i in o)e=s[i],r=o[i],s!==r&&(c&&r&&(x.isPlainObject(r)||(n=x.isArray(r)))?(n?(n=!1,a=e&&x.isArray(e)?e:[]):a=e&&x.isPlainObject(e)?e:{},s[i]=x.extend(c,a,r)):r!==t&&(s[i]=r));return s},x.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=l),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){if(e===!0?!--x.readyWait:!x.isReady){if(!a.body)return setTimeout(x.ready);x.isReady=!0,e!==!0&&--x.readyWait>0||(n.resolveWith(a,[x]),x.fn.trigger&&x(a).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===x.type(e)},isArray:Array.isArray||function(e){return"array"===x.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[y.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==x.type(e)||e.nodeType||x.isWindow(e))return!1;try{if(e.constructor&&!v.call(e,"constructor")&&!v.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(x.support.ownLast)for(n in e)return v.call(e,n);for(n in e);return n===t||v.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||a;var r=k.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=x.trim(n),n&&E.test(n.replace(A,"@").replace(j,"]").replace(S,"")))?Function("return "+n)():(x.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&x.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(D,"ms-").replace(L,H)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(a){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:b&&!b.call("\ufeff\u00a0")?function(e){return null==e?"":b.call(e)}:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?x.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(m)return m.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else while(n[o]!==t)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a)for(;o>i;i++)r=t(e[i],i,n),null!=r&&(s[s.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(s[s.length]=r);return d.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),x.isFunction(e)?(r=g.call(arguments,2),i=function(){return e.apply(n||this,r.concat(g.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i):t},access:function(e,n,r,i,o,a,s){var l=0,u=e.length,c=null==r;if("object"===x.type(r)){o=!0;for(l in r)x.access(e,n,l,r[l],!0,a,s)}else if(i!==t&&(o=!0,x.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(x(e),n)})),n))for(;u>l;l++)n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));return o?e:c?n.call(e):u?n(e[0],r):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),x.ready.promise=function(t){if(!n)if(n=x.Deferred(),"complete"===a.readyState)setTimeout(x.ready);else if(a.addEventListener)a.addEventListener("DOMContentLoaded",q,!1),e.addEventListener("load",q,!1);else{a.attachEvent("onreadystatechange",q),e.attachEvent("onload",q);var r=!1;try{r=null==e.frameElement&&a.documentElement}catch(i){}r&&r.doScroll&&function o(){if(!x.isReady){try{r.doScroll("left")}catch(e){return setTimeout(o,50)}_(),x.ready()}}()}return n.promise(t)},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});function M(e){var t=e.length,n=x.type(e);return x.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}r=x(a),function(e,t){var n,r,i,o,a,s,l,u,c,p,f,d,h,g,m,y,v,b="sizzle"+-new Date,w=e.document,T=0,C=0,N=st(),k=st(),E=st(),S=!1,A=function(e,t){return e===t?(S=!0,0):0},j=typeof t,D=1<<31,L={}.hasOwnProperty,H=[],q=H.pop,_=H.push,M=H.push,O=H.slice,F=H.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",W=R.replace("w","w#"),$="\\["+P+"*("+R+")"+P+"*(?:([*^$|!~]?=)"+P+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)"+P+"*\\]",I=":("+R+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+$.replace(3,8)+")*)|.*)\\)|)",z=RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),X=RegExp("^"+P+"*,"+P+"*"),U=RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),V=RegExp(P+"*[+~]"),Y=RegExp("="+P+"*([^\\]'\"]*)"+P+"*\\]","g"),J=RegExp(I),G=RegExp("^"+W+"$"),Q={ID:RegExp("^#("+R+")"),CLASS:RegExp("^\\.("+R+")"),TAG:RegExp("^("+R.replace("w","w*")+")"),ATTR:RegExp("^"+$),PSEUDO:RegExp("^"+I),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:RegExp("^(?:"+B+")$","i"),needsContext:RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{M.apply(H=O.call(w.childNodes),w.childNodes),H[w.childNodes.length].nodeType}catch(ot){M={apply:H.length?function(e,t){_.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function at(e,t,n,i){var o,a,s,l,u,c,d,m,y,x;if((t?t.ownerDocument||t:w)!==f&&p(t),t=t||f,n=n||[],!e||"string"!=typeof e)return n;if(1!==(l=t.nodeType)&&9!==l)return[];if(h&&!i){if(o=Z.exec(e))if(s=o[1]){if(9===l){if(a=t.getElementById(s),!a||!a.parentNode)return n;if(a.id===s)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&v(t,a)&&a.id===s)return n.push(a),n}else{if(o[2])return M.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&&r.getElementsByClassName&&t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(s)),n}if(r.qsa&&(!g||!g.test(e))){if(m=d=b,y=t,x=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){c=mt(e),(d=t.getAttribute("id"))?m=d.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",u=c.length;while(u--)c[u]=m+yt(c[u]);y=V.test(e)&&t.parentNode||t,x=c.join(",")}if(x)try{return M.apply(n,y.querySelectorAll(x)),n}catch(T){}finally{d||t.removeAttribute("id")}}}return kt(e.replace(z,"$1"),t,n,i)}function st(){var e=[];function t(n,r){return e.push(n+=" ")>o.cacheLength&&delete t[e.shift()],t[n]=r}return t}function lt(e){return e[b]=!0,e}function ut(e){var t=f.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ct(e,t){var n=e.split("|"),r=e.length;while(r--)o.attrHandle[n[r]]=t}function pt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function dt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ht(e){return lt(function(t){return t=+t,lt(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}s=at.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},r=at.support={},p=at.setDocument=function(e){var n=e?e.ownerDocument||e:w,i=n.defaultView;return n!==f&&9===n.nodeType&&n.documentElement?(f=n,d=n.documentElement,h=!s(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){p()}),r.attributes=ut(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ut(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=ut(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),r.getById=ut(function(e){return d.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length}),r.getById?(o.find.ID=function(e,t){if(typeof t.getElementById!==j&&h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}):(delete o.find.ID,o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==j&&e.getAttributeNode("id");return n&&n.value===t}}),o.find.TAG=r.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==j?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},o.find.CLASS=r.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==j&&h?n.getElementsByClassName(e):t},m=[],g=[],(r.qsa=K.test(n.querySelectorAll))&&(ut(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||g.push("\\["+P+"*(?:value|"+B+")"),e.querySelectorAll(":checked").length||g.push(":checked")}),ut(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&g.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(r.matchesSelector=K.test(y=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ut(function(e){r.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),m.push("!=",I)}),g=g.length&&RegExp(g.join("|")),m=m.length&&RegExp(m.join("|")),v=K.test(d.contains)||d.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},A=d.compareDocumentPosition?function(e,t){if(e===t)return S=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===n||v(w,e)?-1:t===n||v(w,t)?1:c?F.call(c,e)-F.call(c,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t)return S=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:c?F.call(c,e)-F.call(c,t):0;if(o===a)return pt(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)l.unshift(r);while(s[i]===l[i])i++;return i?pt(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},n):f},at.matches=function(e,t){return at(e,null,null,t)},at.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&p(e),t=t.replace(Y,"='$1']"),!(!r.matchesSelector||!h||m&&m.test(t)||g&&g.test(t)))try{var n=y.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return at(t,f,null,[e]).length>0},at.contains=function(e,t){return(e.ownerDocument||e)!==f&&p(e),v(e,t)},at.attr=function(e,n){(e.ownerDocument||e)!==f&&p(e);var i=o.attrHandle[n.toLowerCase()],a=i&&L.call(o.attrHandle,n.toLowerCase())?i(e,n,!h):t;return a===t?r.attributes||!h?e.getAttribute(n):(a=e.getAttributeNode(n))&&a.specified?a.value:null:a},at.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},at.uniqueSort=function(e){var t,n=[],i=0,o=0;if(S=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(A),S){while(t=e[o++])t===e[o]&&(i=n.push(o));while(i--)e.splice(n[i],1)}return e},a=at.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=a(t);return n},o=at.selectors={cacheLength:50,createPseudo:lt,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||at.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&at.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&J.test(r)&&(n=mt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+" "];return t||(t=RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&N(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==j&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=at.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(m){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[b]||(m[b]={}),u=c[e]||[],d=u[0]===T&&u[1],f=u[0]===T&&u[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if(1===p.nodeType&&++f&&p===t){c[e]=[T,d,f];break}}else if(v&&(u=(t[b]||(t[b]={}))[e])&&u[0]===T)f=u[1];else while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[b]||(p[b]={}))[e]=[T,f]),p===t))break;return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||at.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?lt(function(e,n){var i,o=r(e,t),a=o.length;while(a--)i=F.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:lt(function(e){var t=[],n=[],r=l(e.replace(z,"$1"));return r[b]?lt(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:lt(function(e){return function(t){return at(e,t).length>0}}),contains:lt(function(e){return function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1}}),lang:lt(function(e){return G.test(e||"")||at.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:ht(function(){return[0]}),last:ht(function(e,t){return[t-1]}),eq:ht(function(e,t,n){return[0>n?n+t:n]}),even:ht(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:ht(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:ht(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ht(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}},o.pseudos.nth=o.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[n]=ft(n);for(n in{submit:!0,reset:!0})o.pseudos[n]=dt(n);function gt(){}gt.prototype=o.filters=o.pseudos,o.setFilters=new gt;function mt(e,t){var n,r,i,a,s,l,u,c=k[e+" "];if(c)return t?0:c.slice(0);s=e,l=[],u=o.preFilter;while(s){(!n||(r=X.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length));for(a in o.filter)!(r=Q[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?at.error(e):k(e,l).slice(0)}function yt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function vt(e,t,n){var r=t.dir,o=n&&"parentNode"===r,a=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,s){var l,u,c,p=T+" "+a;if(s){while(t=t[r])if((1===t.nodeType||o)&&e(t,n,s))return!0}else while(t=t[r])if(1===t.nodeType||o)if(c=t[b]||(t[b]={}),(u=c[r])&&u[0]===p){if((l=u[1])===!0||l===i)return l===!0}else if(u=c[r]=[p],u[1]=e(t,n,s)||i,u[1]===!0)return!0}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xt(e,t,n,r,i){var o,a=[],s=0,l=e.length,u=null!=t;for(;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function wt(e,t,n,r,i,o){return r&&!r[b]&&(r=wt(r)),i&&!i[b]&&(i=wt(i,o)),lt(function(o,a,s,l){var u,c,p,f=[],d=[],h=a.length,g=o||Nt(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:xt(g,f,e,s,l),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,l),r){u=xt(y,d),r(u,[],s,l),c=u.length;while(c--)(p=u[c])&&(y[d[c]]=!(m[d[c]]=p))}if(o){if(i||e){if(i){u=[],c=y.length;while(c--)(p=y[c])&&u.push(m[c]=p);i(null,y=[],u,l)}c=y.length;while(c--)(p=y[c])&&(u=i?F.call(o,p):f[c])>-1&&(o[u]=!(a[u]=p))}}else y=xt(y===a?y.splice(h,y.length):y),i?i(null,a,y,l):M.apply(a,y)})}function Tt(e){var t,n,r,i=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],l=a?1:0,c=vt(function(e){return e===t},s,!0),p=vt(function(e){return F.call(t,e)>-1},s,!0),f=[function(e,n,r){return!a&&(r||n!==u)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;i>l;l++)if(n=o.relative[e[l].type])f=[vt(bt(f),n)];else{if(n=o.filter[e[l].type].apply(null,e[l].matches),n[b]){for(r=++l;i>r;r++)if(o.relative[e[r].type])break;return wt(l>1&&bt(f),l>1&&yt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,r>l&&Tt(e.slice(l,r)),i>r&&Tt(e=e.slice(r)),i>r&&yt(e))}f.push(n)}return bt(f)}function Ct(e,t){var n=0,r=t.length>0,a=e.length>0,s=function(s,l,c,p,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,C=u,N=s||a&&o.find.TAG("*",d&&l.parentNode||l),k=T+=null==C?1:Math.random()||.1;for(w&&(u=l!==f&&l,i=n);null!=(h=N[b]);b++){if(a&&h){g=0;while(m=e[g++])if(m(h,l,c)){p.push(h);break}w&&(T=k,i=++n)}r&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,r&&b!==v){g=0;while(m=t[g++])m(x,y,l,c);if(s){if(v>0)while(b--)x[b]||y[b]||(y[b]=q.call(p));y=xt(y)}M.apply(p,y),w&&!s&&y.length>0&&v+t.length>1&&at.uniqueSort(p)}return w&&(T=k,u=C),x};return r?lt(s):s}l=at.compile=function(e,t){var n,r=[],i=[],o=E[e+" "];if(!o){t||(t=mt(e)),n=t.length;while(n--)o=Tt(t[n]),o[b]?r.push(o):i.push(o);o=E(e,Ct(i,r))}return o};function Nt(e,t,n){var r=0,i=t.length;for(;i>r;r++)at(e,t[r],n);return n}function kt(e,t,n,i){var a,s,u,c,p,f=mt(e);if(!i&&1===f.length){if(s=f[0]=f[0].slice(0),s.length>2&&"ID"===(u=s[0]).type&&r.getById&&9===t.nodeType&&h&&o.relative[s[1].type]){if(t=(o.find.ID(u.matches[0].replace(rt,it),t)||[])[0],!t)return n;e=e.slice(s.shift().value.length)}a=Q.needsContext.test(e)?0:s.length;while(a--){if(u=s[a],o.relative[c=u.type])break;if((p=o.find[c])&&(i=p(u.matches[0].replace(rt,it),V.test(s[0].type)&&t.parentNode||t))){if(s.splice(a,1),e=i.length&&yt(s),!e)return M.apply(n,i),n;break}}}return l(e,f)(i,t,!h,n,V.test(e)),n}r.sortStable=b.split("").sort(A).join("")===b,r.detectDuplicates=S,p(),r.sortDetached=ut(function(e){return 1&e.compareDocumentPosition(f.createElement("div"))}),ut(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ct("type|href|height|width",function(e,n,r){return r?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),r.attributes&&ut(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ct("value",function(e,n,r){return r||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),ut(function(e){return null==e.getAttribute("disabled")})||ct(B,function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.specified?i.value:e[n]===!0?n.toLowerCase():null}),x.find=at,x.expr=at.selectors,x.expr[":"]=x.expr.pseudos,x.unique=at.uniqueSort,x.text=at.getText,x.isXMLDoc=at.isXML,x.contains=at.contains}(e);var O={};function F(e){var t=O[e]={};return x.each(e.match(T)||[],function(e,n){t[n]=!0}),t}x.Callbacks=function(e){e="string"==typeof e?O[e]||F(e):x.extend({},e);var n,r,i,o,a,s,l=[],u=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=l.length,n=!0;l&&o>a;a++)if(l[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,l&&(u?u.length&&c(u.shift()):r?l=[]:p.disable())},p={add:function(){if(l){var t=l.length;(function i(t){x.each(t,function(t,n){var r=x.type(n);"function"===r?e.unique&&p.has(n)||l.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=l.length:r&&(s=t,c(r))}return this},remove:function(){return l&&x.each(arguments,function(e,t){var r;while((r=x.inArray(t,l,r))>-1)l.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?x.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=u=r=t,this},disabled:function(){return!l},lock:function(){return u=t,r||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||i&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,o){var a=o[0],s=x.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=g.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?g.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,l,u;if(r>1)for(s=Array(r),l=Array(r),u=Array(r);r>t;t++)n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i;return i||o.resolveWith(u,n),o.promise()}}),x.support=function(t){var n,r,o,s,l,u,c,p,f,d=a.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],r=d.getElementsByTagName("a")[0],!r||!r.style||!n.length)return t;s=a.createElement("select"),u=s.appendChild(a.createElement("option")),o=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!o.value,t.optSelected=u.selected,t.enctype=!!a.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==a.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!u.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}o=a.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),l=a.createDocumentFragment(),l.appendChild(o),t.appendChecked=o.checked,t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(f in x(t))break;return t.ownLast="0"!==f,x(function(){var n,r,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",l=a.getElementsByTagName("body")[0];l&&(n=a.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",l.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=p&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",x.swap(l,null!=l.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(a.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(l.style.zoom=1)),l.removeChild(n),n=d=o=r=null)}),n=s=l=u=r=o=null,t
}({});var B=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;function R(e,n,r,i){if(x.acceptData(e)){var o,a,s=x.expando,l=e.nodeType,u=l?x.cache:e,c=l?e[s]:e[s]&&s;if(c&&u[c]&&(i||u[c].data)||r!==t||"string"!=typeof n)return c||(c=l?e[s]=p.pop()||x.guid++:s),u[c]||(u[c]=l?{}:{toJSON:x.noop}),("object"==typeof n||"function"==typeof n)&&(i?u[c]=x.extend(u[c],n):u[c].data=x.extend(u[c].data,n)),a=u[c],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[x.camelCase(n)]=r),"string"==typeof n?(o=a[n],null==o&&(o=a[x.camelCase(n)])):o=a,o}}function W(e,t,n){if(x.acceptData(e)){var r,i,o=e.nodeType,a=o?x.cache:e,s=o?e[x.expando]:x.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){x.isArray(t)?t=t.concat(x.map(t,x.camelCase)):t in r?t=[t]:(t=x.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!I(r):!x.isEmptyObject(r))return}(n||(delete a[s].data,I(a[s])))&&(o?x.cleanData([e],!0):x.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}x.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?x.cache[e[x.expando]]:e[x.expando],!!e&&!I(e)},data:function(e,t,n){return R(e,t,n)},removeData:function(e,t){return W(e,t)},_data:function(e,t,n){return R(e,t,n,!0)},_removeData:function(e,t){return W(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&x.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),x.fn.extend({data:function(e,n){var r,i,o=null,a=0,s=this[0];if(e===t){if(this.length&&(o=x.data(s),1===s.nodeType&&!x._data(s,"parsedAttrs"))){for(r=s.attributes;r.length>a;a++)i=r[a].name,0===i.indexOf("data-")&&(i=x.camelCase(i.slice(5)),$(s,i,o[i]));x._data(s,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){x.data(this,e)}):arguments.length>1?this.each(function(){x.data(this,e,n)}):s?$(s,e,x.data(s,e)):null},removeData:function(e){return this.each(function(){x.removeData(this,e)})}});function $(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(P,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:B.test(r)?x.parseJSON(r):r}catch(o){}x.data(e,n,r)}else r=t}return r}function I(e){var t;for(t in e)if(("data"!==t||!x.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}x.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=x._data(e,n),r&&(!i||x.isArray(r)?i=x._data(e,n,x.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t),a=function(){x.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return x._data(e,n)||x._data(e,n,{empty:x.Callbacks("once memory").add(function(){x._removeData(e,t+"queue"),x._removeData(e,n)})})}}),x.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?x.queue(this[0],e):n===t?this:this.each(function(){var t=x.queue(this,e,n);x._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=x.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--)r=x._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var z,X,U=/[\t\r\n\f]/g,V=/\r/g,Y=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Q=x.support.getSetAttribute,K=x.support.input;x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return e=x.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l="string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(T)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):" ")){o=0;while(i=t[o++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=x.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(T)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):"")){o=0;while(i=t[o++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?x.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var t,r=0,o=x(this),a=e.match(T)||[];while(t=a[r++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else(n===i||"boolean"===n)&&(this.className&&x._data(this,"__className__",this.className),this.className=this.className||e===!1?"":x._data(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(U," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=x.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,x(this).val()):e,null==o?o="":"number"==typeof o?o+="":x.isArray(o)&&(o=x.map(o,function(e){return null==e?"":e+""})),r=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))});if(o)return r=x.valHooks[o.type]||x.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(V,""):null==n?"":n)}}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;for(;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(t=x(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n,r,i=e.options,o=x.makeArray(t),a=i.length;while(a--)r=i[a],(r.selected=x.inArray(x(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===i?x.prop(e,n,r):(1===s&&x.isXMLDoc(e)||(n=n.toLowerCase(),o=x.attrHooks[n]||(x.expr.match.bool.test(n)?X:z)),r===t?o&&"get"in o&&null!==(a=o.get(e,n))?a:(a=x.find.attr(e,n),null==a?t:a):null!==r?o&&"set"in o&&(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,r+""),r):(x.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(T);if(o&&1===e.nodeType)while(n=o[i++])r=x.propFix[n]||n,x.expr.match.bool.test(n)?K&&Q||!G.test(n)?e[r]=!1:e[x.camelCase("default-"+n)]=e[r]=!1:x.attr(e,n,""),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!x.isXMLDoc(e),a&&(n=x.propFix[n]||n,o=x.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):Y.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:-1}}}}),X={set:function(e,t,n){return t===!1?x.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&x.propFix[n]||n,n):e[x.camelCase("default-"+n)]=e[n]=!0,n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,n){var r=x.expr.attrHandle[n]||x.find.attr;x.expr.attrHandle[n]=K&&Q||!G.test(n)?function(e,n,i){var o=x.expr.attrHandle[n],a=i?t:(x.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return x.expr.attrHandle[n]=o,a}:function(e,n,r){return r?t:e[x.camelCase("default-"+n)]?n.toLowerCase():null}}),K&&Q||(x.attrHooks.value={set:function(e,n,r){return x.nodeName(e,"input")?(e.defaultValue=n,t):z&&z.set(e,n,r)}}),Q||(z={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},x.expr.attrHandle.id=x.expr.attrHandle.name=x.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&""!==i.value?i.value:null},x.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:z.set},x.attrHooks.contenteditable={set:function(e,t,n){z.set(e,""===t?!1:t,n)}},x.each(["width","height"],function(e,n){x.attrHooks[n]={set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}}})),x.support.hrefNormalized||x.each(["href","src"],function(e,t){x.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),x.support.style||(x.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.support.enctype||(x.propFix.enctype="encoding"),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,n){return x.isArray(n)?e.checked=x.inArray(x(e).val(),n)>=0:t}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return!0}function ot(){return!1}function at(){try{return a.activeElement}catch(e){}}x.event={global:{},add:function(e,n,r,o,a){var s,l,u,c,p,f,d,h,g,m,y,v=x._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=x.guid++),(l=v.events)||(l=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof x===i||e&&x.event.triggered===e.type?t:x.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(T)||[""],u=n.length;while(u--)s=rt.exec(n[u])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),g&&(p=x.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=x.event.special[g]||{},d=x.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&x.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=l[g])||(h=l[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),x.event.global[g]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,p,f,d,h,g,m=x.hasData(e)&&x._data(e);if(m&&(c=m.events)){t=(t||"").match(T)||[""],u=t.length;while(u--)if(s=rt.exec(t[u])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=x.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;while(o--)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a));l&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||x.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)x.event.remove(e,d+t[u],n,r,!0);x.isEmptyObject(c)&&(delete m.handle,x._removeData(e,"events"))}},trigger:function(n,r,i,o){var s,l,u,c,p,f,d,h=[i||a],g=v.call(n,"type")?n.type:n,m=v.call(n,"namespace")?n.namespace.split("."):[];if(u=f=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+x.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),l=0>g.indexOf(":")&&"on"+g,n=n[x.expando]?n:new x.Event(g,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:x.makeArray(r,[n]),p=x.event.special[g]||{},o||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!o&&!p.noBubble&&!x.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(u=u.parentNode);u;u=u.parentNode)h.push(u),f=u;f===(i.ownerDocument||a)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((u=h[d++])&&!n.isPropagationStopped())n.type=d>1?c:p.bindType||g,s=(x._data(u,"events")||{})[n.type]&&x._data(u,"handle"),s&&s.apply(u,r),s=l&&u[l],s&&x.acceptData(u)&&s.apply&&s.apply(u,r)===!1&&n.preventDefault();if(n.type=g,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(h.pop(),r)===!1)&&x.acceptData(i)&&l&&i[g]&&!x.isWindow(i)){f=i[l],f&&(i[l]=null),x.event.triggered=g;try{i[g]()}catch(y){}x.event.triggered=t,f&&(i[l]=f)}return n.result}},dispatch:function(e){e=x.event.fix(e);var n,r,i,o,a,s=[],l=g.call(arguments),u=(x._data(this,"events")||{})[e.type]||[],c=x.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=x.event.handlers.call(this,e,u),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((x.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(o=[],a=0;l>a;a++)i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?x(r,this).index(u)>=0:x.find(r,this,null,[u]).length),o[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[x.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new x.Event(o),t=r.length;while(t--)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,s=n.button,l=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||a,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?n.toElement:l),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==at()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===at()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return x.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return x.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},x.removeEvent=a.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},x.Event=function(e,n){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&x.extend(this,n),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,t):new x.Event(e,n)},x.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!x.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.support.submitBubbles||(x.event.special.submit={setup:function(){return x.nodeName(this,"form")?!1:(x.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=x.nodeName(n,"input")||x.nodeName(n,"button")?n.form:t;r&&!x._data(r,"submitBubbles")&&(x.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),x._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&x.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return x.nodeName(this,"form")?!1:(x.event.remove(this,"._submit"),t)}}),x.support.changeBubbles||(x.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(x.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),x.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),x.event.simulate("change",this,e,!0)})),!1):(x.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!x._data(t,"changeBubbles")&&(x.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||x.event.simulate("change",this.parentNode,e,!0)}),x._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return x.event.remove(this,"._change"),!Z.test(this.nodeName)}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)};x.event.special[t]={setup:function(){0===n++&&a.addEventListener(e,r,!0)},teardown:function(){0===--n&&a.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=ot;else if(!i)return this;return 1===o&&(s=i,i=function(e){return x().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=x.guid++)),this.each(function(){x.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){x.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?x.event.trigger(e,n,r,!0):t}});var st=/^.[^:#\[\.,]*$/,lt=/^(?:parents|prev(?:Until|All))/,ut=x.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;i>t;t++)if(x.contains(r[t],this))return!0}));for(t=0;i>t;t++)x.find(e,r[t],n);return n=this.pushStack(i>1?x.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=x(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(x.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e||[],!0))},filter:function(e){return this.pushStack(ft(this,e||[],!1))},is:function(e){return!!ft(this,"string"==typeof e&&ut.test(e)?x(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,o=[],a=ut.test(e)||"string"!=typeof e?x(e,t||this.context):0;for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(a?a.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?x.unique(o):o)},index:function(e){return e?"string"==typeof e?x.inArray(this[0],x(e)):x.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function pt(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x.dir(e,"parentNode")},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return x.dir(e,"nextSibling")},prevAll:function(e){return x.dir(e,"previousSibling")},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return x.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:x.merge([],e.childNodes)}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(ct[e]||(i=x.unique(i)),lt.test(e)&&(i=i.reverse())),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!x(o).is(r)))1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function ft(e,t,n){if(x.isFunction(t))return x.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return x.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(st.test(t))return x.filter(t,e,n);t=x.filter(t,e)}return x.grep(e,function(e){return x.inArray(e,t)>=0!==n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Ct=/^(?:checkbox|radio)$/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:x.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(a),Dt=jt.appendChild(a.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===t?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||a).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++)t||1!==n.nodeType||x.cleanData(Ft(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&_t(Ft(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&x.cleanData(Ft(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&x.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(gt,""):t;if(!("string"!=typeof e||Tt.test(e)||!x.support.htmlSerialize&&mt.test(e)||!x.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(x.cleanData(Ft(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=d.apply([],e);var r,i,o,a,s,l,u=0,c=this.length,p=this,f=c-1,h=e[0],g=x.isFunction(h);if(g||!(1>=c||"string"!=typeof h||x.support.checkClone)&&Nt.test(h))return this.each(function(r){var i=p.eq(r);g&&(e[0]=h.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(l=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=l.firstChild,1===l.childNodes.length&&(l=r),r)){for(a=x.map(Ft(l,"script"),Ht),o=a.length;c>u;u++)i=l,u!==f&&(i=x.clone(i,!0,!0),o&&x.merge(a,Ft(i,"script"))),t.call(this[u],i,u);if(o)for(s=a[a.length-1].ownerDocument,x.map(a,qt),u=0;o>u;u++)i=a[u],kt.test(i.type||"")&&!x._data(i,"globalEval")&&x.contains(s,i)&&(i.src?x._evalUrl(i.src):x.globalEval((i.text||i.textContent||i.innerHTML||"").replace(St,"")));l=r=null}return this}});function Lt(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Ht(e){return e.type=(null!==x.find.attr(e,"type"))+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _t(e,t){var n,r=0;for(;null!=(n=e[r]);r++)x._data(n,"globalEval",!t||x._data(t[r],"globalEval"))}function Mt(e,t){if(1===t.nodeType&&x.hasData(e)){var n,r,i,o=x._data(e),a=x._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)x.event.add(t,n,s[n][r])}a.data&&(a.data=x.extend({},a.data))}}function Ot(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!x.support.noCloneEvent&&t[x.expando]){i=x._data(t);for(r in i.events)x.removeEvent(t,r,i.handle);t.removeAttribute(x.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),x.support.html5Clone&&e.innerHTML&&!x.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ct.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){var n,r=0,i=[],o=x(e),a=o.length-1;for(;a>=r;r++)n=r===a?this:this.clone(!0),x(o[r])[t](n),h.apply(i,n.get());return this.pushStack(i)}});function Ft(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||x.nodeName(o,n)?s.push(o):x.merge(s,Ft(o,n));return n===t||n&&x.nodeName(e,n)?x.merge([e],s):s}function Bt(e){Ct.test(e.type)&&(e.defaultChecked=e.checked)}x.extend({clone:function(e,t,n){var r,i,o,a,s,l=x.contains(e.ownerDocument,e);if(x.support.html5Clone||x.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(x.support.noCloneEvent&&x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(r=Ft(o),s=Ft(e),a=0;null!=(i=s[a]);++a)r[a]&&Ot(i,r[a]);if(t)if(n)for(s=s||Ft(e),r=r||Ft(o),a=0;null!=(i=s[a]);a++)Mt(i,r[a]);else Mt(e,o);return r=Ft(o,"script"),r.length>0&&_t(r,!l&&Ft(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,l,u,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++)if(o=e[h],o||0===o)if("object"===x.type(o))x.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),l=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[l]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--)s=s.lastChild;if(!x.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!x.support.tbody){o="table"!==l||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--)x.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u)}x.merge(d,s.childNodes),s.textContent="";while(s.firstChild)s.removeChild(s.firstChild);s=f.lastChild}else d.push(t.createTextNode(o));s&&f.removeChild(s),x.support.appendChecked||x.grep(Ft(d,"input"),Bt),h=0;while(o=d[h++])if((!r||-1===x.inArray(o,r))&&(a=x.contains(o.ownerDocument,o),s=Ft(f.appendChild(o),"script"),a&&_t(s),n)){i=0;while(o=s[i++])kt.test(o.type||"")&&n.push(o)}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,l=x.expando,u=x.cache,c=x.support.deleteExpando,f=x.event.special;for(;null!=(n=e[s]);s++)if((t||x.acceptData(n))&&(o=n[l],a=o&&u[o])){if(a.events)for(r in a.events)f[r]?x.event.remove(n,r):x.removeEvent(n,r,a.handle);
u[o]&&(delete u[o],c?delete n[l]:typeof n.removeAttribute!==i?n.removeAttribute(l):n[l]=null,p.push(o))}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),x.fn.extend({wrapAll:function(e){if(x.isFunction(e))return this.each(function(t){x(this).wrapAll(e.call(this,t))});if(this[0]){var t=x(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes)}).end()}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+w+")(.*)$","i"),Yt=RegExp("^("+w+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+w+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--)if(t=en[i]+n,t in e)return t;return r}function nn(e,t){return e=t||e,"none"===x.css(e,"display")||!x.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++)r=e[a],r.style&&(o[a]=x._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=x._data(r,"olddisplay",ln(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&x._data(r,"olddisplay",i?n:x.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}x.fn.extend({css:function(e,n){return x.access(this,function(e,n,r){var i,o,a={},s=0;if(x.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++)a[n[s]]=x.css(e,n[s],!1,o);return a}return r!==t?x.style(e,n,r):x.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){nn(this)?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":x.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=x.camelCase(n),u=e.style;if(n=x.cssProps[l]||(x.cssProps[l]=tn(u,l)),s=x.cssHooks[n]||x.cssHooks[l],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:u[n];if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(x.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||x.cssNumber[l]||(r+="px"),x.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{u[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,l=x.camelCase(n);return n=x.cssProps[l]||(x.cssProps[l]=tn(e.style,l)),s=x.cssHooks[n]||x.cssHooks[l],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||x.isNumeric(o)?o||0:a):a}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s.getPropertyValue(n)||s[n]:t,u=e.style;return s&&(""!==l||x.contains(e.ownerDocument,e)||(l=x.style(e,n)),Yt.test(l)&&Ut.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),l}):a.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s[n]:t,u=e.style;return null==l&&u&&u[n]&&(l=u[n]),Yt.test(l)&&!zt.test(n)&&(i=u.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=i,a&&(o.left=a)),""===l?"auto":l});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2)"margin"===n&&(a+=x.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=x.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=x.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=x.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=x.css(e,"border"+Zt[o]+"Width",!0,i)));return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i))return i;r=a&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function ln(e){var t=a,n=Gt[e];return n||(n=un(e,t),"none"!==n&&n||(Pt=(Pt||x("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=un(e,t),Pt.detach()),Gt[e]=n),n}function un(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],"display");return n.remove(),r}x.each(["height","width"],function(e,n){x.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(x.css(e,"display"))?x.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0)}}}),x.support.opacity||(x.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=x.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===x.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,n){return n?x.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,n){x.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?x(e).position()[n]+"px":r):t}}})}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!x.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||x.css(e,"display"))},x.expr.filters.visible=function(e){return!x.expr.filters.hidden(e)}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+Zt[r]+t]=o[r]||o[r-2]||o[0];return i}},Ut.test(e)||(x.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Ct.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),x.param=function(e,n){var r,i=[],o=function(e,t){t=x.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){o(this.name,this.value)});else for(r in e)gn(r,e[r],n,o);return i.join("&").replace(cn,"+")};function gn(e,t,n,r){var i;if(x.isArray(t))x.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==x.type(t))r(e,t);else for(i in t)gn(e+"["+i+"]",t[i],n,r)}x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var mn,yn,vn=x.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=x.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=o.href}catch(Ln){yn=a.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(T)||[];if(x.isFunction(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,n,r,i){var o={},a=e===jn;function s(l){var u;return o[l]=!0,x.each(e[l]||[],function(e,l){var c=l(n,r,i);return"string"!=typeof c||a||o[c]?a?!(u=c):t:(n.dataTypes.unshift(c),s(c),!1)}),u}return s(n.dataTypes[0])||!o["*"]&&s("*")}function _n(e,n){var r,i,o=x.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&x.extend(!0,e,r),e}x.fn.load=function(e,n,r){if("string"!=typeof e&&Sn)return Sn.apply(this,arguments);var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),x.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&x.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?x("<div>").append(x.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Cn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_n(_n(e,x.ajaxSettings),t):_n(x.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,l,u,c,p=x.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?x(f):x.event,h=x.Deferred(),g=x.Callbacks("once memory"),m=p.statusCode||{},y={},v={},b=0,w="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c){c={};while(t=Tn.exec(a))c[t[1].toLowerCase()]=t[2]}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),k(0,t),this}};if(h.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=x.trim(p.dataType||"*").toLowerCase().match(T)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(mn[3]||("http:"===mn[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),qn(An,p,n,C),2===b)return C;l=p.global,l&&0===x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Nn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(x.lastModified[o]&&C.setRequestHeader("If-Modified-Since",x.lastModified[o]),x.etag[o]&&C.setRequestHeader("If-None-Match",x.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers)C.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(p.beforeSend.call(f,C,p)===!1||2===b))return C.abort();w="abort";for(i in{success:1,error:1,complete:1})C[i](p[i]);if(u=qn(jn,p,n,C)){C.readyState=1,l&&d.trigger("ajaxSend",[C,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){C.abort("timeout")},p.timeout));try{b=1,u.send(y,k)}catch(N){if(!(2>b))throw N;k(-1,N)}}else k(-1,"No Transport");function k(e,n,r,i){var c,y,v,w,T,N=n;2!==b&&(b=2,s&&clearTimeout(s),u=t,a=i||"",C.readyState=e>0?4:0,c=e>=200&&300>e||304===e,r&&(w=Mn(p,C,r)),w=On(p,w,C,c),c?(p.ifModified&&(T=C.getResponseHeader("Last-Modified"),T&&(x.lastModified[o]=T),T=C.getResponseHeader("etag"),T&&(x.etag[o]=T)),204===e||"HEAD"===p.type?N="nocontent":304===e?N="notmodified":(N=w.state,y=w.data,v=w.error,c=!v)):(v=N,(e||!N)&&(N="error",0>e&&(e=0))),C.status=e,C.statusText=(n||N)+"",c?h.resolveWith(f,[y,N,C]):h.rejectWith(f,[C,N,v]),C.statusCode(m),m=t,l&&d.trigger(c?"ajaxSuccess":"ajaxError",[C,p,c?y:v]),g.fireWith(f,[C,N]),l&&(d.trigger("ajaxComplete",[C,p]),--x.active||x.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,n){return x.get(e,t,n,"script")}}),x.each(["get","post"],function(e,n){x[n]=function(e,r,i,o){return x.isFunction(r)&&(o=o||i,i=r,r=t),x.ajax({url:e,type:n,dataType:o,data:r,success:i})}});function Mn(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){u.unshift(s);break}if(u[0]in r)a=u[0];else{for(s in r){if(!u[0]||e.converters[s+" "+u[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==u[0]&&u.unshift(a),r[a]):t}function On(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(p){return{state:"parsererror",error:a?p:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),x.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=a.head||x("head")[0]||a.documentElement;return{send:function(t,i){n=a.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Fn=[],Bn=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fn.pop()||x.expando+"_"+vn++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=x.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||x.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Fn.push(o)),s&&x.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn)Pn[e](t,!0)};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}x.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&In()||zn()}:In,Rn=x.ajaxSettings.xhr(),x.support.cors=!!Rn&&"withCredentials"in Rn,Rn=x.support.ajax=!!Rn,Rn&&x.ajaxTransport(function(n){if(!n.crossDomain||x.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,p;try{if(r&&(i||4===l.readyState))if(r=t,a&&(l.onreadystatechange=x.noop,$n&&delete Pn[a]),i)4!==l.readyState&&l.abort();else{p={},s=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(p.text=l.responseText);try{c=l.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(d){i||o(-1,d)}p&&o(s,c,p,u)},n.async?4===l.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},x(e).unload($n)),Pn[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+w+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Yn.exec(t),o=i&&i[3]||(x.cssNumber[e]?"":"px"),a=(x.cssNumber[e]||"px"!==o&&+r)&&Yn.exec(x.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,x.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=x.now()}function Zn(e,t,n){var r,i=(Qn[t]||[]).concat(Qn["*"]),o=0,a=i.length;for(;a>o;o++)if(r=i[o].call(n,t,e))return r}function er(e,t,n){var r,i,o=0,a=Gn.length,s=x.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;var t=Xn||Kn(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;for(;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(tr(c,u.opts.specialEasing);a>o;o++)if(r=Gn[o].call(u,e,c,u.opts))return r;return x.map(c,Zn,u),x.isFunction(u.opts.start)&&u.opts.start.call(e,u),x.fx.timer(x.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function tr(e,t){var n,r,i,o,a;for(n in e)if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=x.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}x.Animation=x.extend(er,{tweener:function(e,t){x.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,l,u=this,c={},p=e.style,f=e.nodeType&&nn(e),d=x._data(e,"fxshow");n.queue||(s=x._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(x.support.inlineBlockNeedsLayout&&"inline"!==ln(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",x.support.shrinkWrapBlocks||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Vn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(f?"hide":"show"))continue;c[r]=d&&d[r]||x.style(e,r)}if(!x.isEmptyObject(c)){d?"hidden"in d&&(f=d.hidden):d=x._data(e,"fxshow",{}),o&&(d.hidden=!f),f?x(e).show():u.done(function(){x(e).hide()}),u.done(function(){var t;x._removeData(e,"fxshow");for(t in c)x.style(e,t,c[t])});for(r in c)a=Zn(f?d[r]:0,r,u),r in d||(d[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}x.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),a=function(){var t=er(this,x.extend({},e),o);(i||x._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=x.timers,a=x._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Jn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&x.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=x._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,a=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}x.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=rr.prototype.init,x.fx.tick=function(){var e,n=x.timers,r=0;for(Xn=x.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||x.fx.stop(),Xn=t},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()},x.fx.interval=13,x.fx.start=function(){Un||(Un=setInterval(x.fx.tick,x.fx.interval))},x.fx.stop=function(){clearInterval(Un),Un=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){x.offset.setOffset(this,e,t)});var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s)return n=s.documentElement,x.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},x.offset={setOffset:function(e,t,n){var r=x.css(e,"position");"static"===r&&(e.style.position="relative");var i=x(e),o=i.offset(),a=x.css(e,"top"),s=x.css(e,"left"),l=("absolute"===r||"fixed"===r)&&x.inArray("auto",[a,s])>-1,u={},c={},p,f;l?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),x.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(u.top=t.top-o.top+p),null!=t.left&&(u.left=t.left-o.left+f),"using"in t?t.using.call(e,u):i.css(u)}},x.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===x.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],"html")||(n=e.offset()),n.top+=x.css(e[0],"borderTopWidth",!0),n.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-x.css(r,"marginTop",!0),left:t.left-n.left-x.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;while(e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position"))e=e.offsetParent;return e||s})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);x.fn[e]=function(i){return x.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?x(a).scrollLeft():o,r?o:x(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return x.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}x.each({Height:"height",Width:"width"},function(e,n){x.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){x.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return x.access(this,function(n,r,i){var o;return x.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?x.css(n,r,s):x.style(n,r,i,s)},n,a?i:t,a,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=x:(e.jQuery=e.$=x,"function"==typeof define&&define.amd&&define("jquery",[],function(){return x}))})(window);

; browserify_shim__define__module__export__(typeof $ != "undefined" ? $ : window.$);

}).call(global, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],"jquery":[function(require,module,exports){
module.exports=require('Cz4Dm0');
},{}],"s+Ot9H":[function(require,module,exports){
(function (global){(function browserifyShim(module, exports, define, browserify_shim__define__module__export__) {
//     Underscore.js 1.5.2
//     http://underscorejs.org
//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,d=e.filter,g=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,_=Object.keys,j=i.bind,w=function(n){return n instanceof w?n:this instanceof w?(this._wrapped=n,void 0):new w(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=w),exports._=w):n._=w,w.VERSION="1.5.2";var A=w.each=w.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a=w.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return};w.map=w.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var E="Reduce of empty array with no initial value";w.reduce=w.foldl=w.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=w.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(E);return r},w.reduceRight=w.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=w.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=w.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(E);return r},w.find=w.detect=function(n,t,r){var e;return O(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},w.filter=w.select=function(n,t,r){var e=[];return null==n?e:d&&n.filter===d?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},w.reject=function(n,t,r){return w.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},w.every=w.all=function(n,t,e){t||(t=w.identity);var u=!0;return null==n?u:g&&n.every===g?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var O=w.some=w.any=function(n,t,e){t||(t=w.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};w.contains=w.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:O(n,function(n){return n===t})},w.invoke=function(n,t){var r=o.call(arguments,2),e=w.isFunction(t);return w.map(n,function(n){return(e?t:n[t]).apply(n,r)})},w.pluck=function(n,t){return w.map(n,function(n){return n[t]})},w.where=function(n,t,r){return w.isEmpty(t)?r?void 0:[]:w[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},w.findWhere=function(n,t){return w.where(n,t,!0)},w.max=function(n,t,r){if(!t&&w.isArray(n)&&n[0]===+n[0]&&65535>n.length)return Math.max.apply(Math,n);if(!t&&w.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),e.value},w.min=function(n,t,r){if(!t&&w.isArray(n)&&n[0]===+n[0]&&65535>n.length)return Math.min.apply(Math,n);if(!t&&w.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;e.computed>a&&(e={value:n,computed:a})}),e.value},w.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=w.random(r++),e[r-1]=e[t],e[t]=n}),e},w.sample=function(n,t,r){return 2>arguments.length||r?n[w.random(n.length-1)]:w.shuffle(n).slice(0,Math.max(0,t))};var k=function(n){return w.isFunction(n)?n:function(t){return t[n]}};w.sortBy=function(n,t,r){var e=k(t);return w.pluck(w.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={},i=null==r?w.identity:k(r);return A(t,function(r,a){var o=i.call(e,r,a,t);n(u,o,r)}),u}};w.groupBy=F(function(n,t,r){(w.has(n,t)?n[t]:n[t]=[]).push(r)}),w.indexBy=F(function(n,t,r){n[t]=r}),w.countBy=F(function(n,t){w.has(n,t)?n[t]++:n[t]=1}),w.sortedIndex=function(n,t,r,e){r=null==r?w.identity:k(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;u>r.call(e,n[o])?i=o+1:a=o}return i},w.toArray=function(n){return n?w.isArray(n)?o.call(n):n.length===+n.length?w.map(n,w.identity):w.values(n):[]},w.size=function(n){return null==n?0:n.length===+n.length?n.length:w.keys(n).length},w.first=w.head=w.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:o.call(n,0,t)},w.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},w.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},w.rest=w.tail=w.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},w.compact=function(n){return w.filter(n,w.identity)};var M=function(n,t,r){return t&&w.every(n,w.isArray)?c.apply(r,n):(A(n,function(n){w.isArray(n)||w.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};w.flatten=function(n,t){return M(n,t,[])},w.without=function(n){return w.difference(n,o.call(arguments,1))},w.uniq=w.unique=function(n,t,r,e){w.isFunction(t)&&(e=r,r=t,t=!1);var u=r?w.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:w.contains(a,r))||(a.push(r),i.push(n[e]))}),i},w.union=function(){return w.uniq(w.flatten(arguments,!0))},w.intersection=function(n){var t=o.call(arguments,1);return w.filter(w.uniq(n),function(n){return w.every(t,function(t){return w.indexOf(t,n)>=0})})},w.difference=function(n){var t=c.apply(e,o.call(arguments,1));return w.filter(n,function(n){return!w.contains(t,n)})},w.zip=function(){for(var n=w.max(w.pluck(arguments,"length").concat(0)),t=Array(n),r=0;n>r;r++)t[r]=w.pluck(arguments,""+r);return t},w.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},w.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=w.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},w.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},w.range=function(n,t,r){1>=arguments.length&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};w.bind=function(n,t){var r,e;if(j&&n.bind===j)return j.apply(n,o.call(arguments,1));if(!w.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},w.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},w.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw Error("bindAll must be passed function names");return A(t,function(t){n[t]=w.bind(n[t],n)}),n},w.memoize=function(n,t){var r={};return t||(t=w.identity),function(){var e=t.apply(this,arguments);return w.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},w.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},w.defer=function(n){return w.delay.apply(w,[n,1].concat(o.call(arguments,1)))},w.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,u)};return function(){var l=new Date;o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||r.trailing===!1||(a=setTimeout(c,f)),i}},w.debounce=function(n,t,r){var e,u,i,a,o;return function(){i=this,u=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u)),o}},w.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},w.wrap=function(n,t){return function(){var r=[n];return a.apply(r,arguments),t.apply(this,r)}},w.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},w.after=function(n,t){return function(){return 1>--n?t.apply(this,arguments):void 0}},w.keys=_||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)w.has(n,r)&&t.push(r);return t},w.values=function(n){for(var t=w.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},w.pairs=function(n){for(var t=w.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},w.invert=function(n){for(var t={},r=w.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},w.functions=w.methods=function(n){var t=[];for(var r in n)w.isFunction(n[r])&&t.push(r);return t.sort()},w.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},w.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},w.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)w.contains(r,u)||(t[u]=n[u]);return t},w.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},w.clone=function(n){return w.isObject(n)?w.isArray(n)?n.slice():w.extend({},n):n},w.tap=function(n,t){return t(n),n};var I=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof w&&(n=n._wrapped),t instanceof w&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case"[object String]":return n==t+"";case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(w.isFunction(a)&&a instanceof a&&w.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=I(n[c],t[c],r,e)););}else{for(var s in n)if(w.has(n,s)&&(c++,!(f=w.has(t,s)&&I(n[s],t[s],r,e))))break;if(f){for(s in t)if(w.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};w.isEqual=function(n,t){return I(n,t,[],[])},w.isEmpty=function(n){if(null==n)return!0;if(w.isArray(n)||w.isString(n))return 0===n.length;for(var t in n)if(w.has(n,t))return!1;return!0},w.isElement=function(n){return!(!n||1!==n.nodeType)},w.isArray=x||function(n){return"[object Array]"==l.call(n)},w.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){w["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),w.isArguments(arguments)||(w.isArguments=function(n){return!(!n||!w.has(n,"callee"))}),"function"!=typeof/./&&(w.isFunction=function(n){return"function"==typeof n}),w.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},w.isNaN=function(n){return w.isNumber(n)&&n!=+n},w.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},w.isNull=function(n){return null===n},w.isUndefined=function(n){return n===void 0},w.has=function(n,t){return f.call(n,t)},w.noConflict=function(){return n._=t,this},w.identity=function(n){return n},w.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},w.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var S={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};S.unescape=w.invert(S.escape);var T={escape:RegExp("["+w.keys(S.escape).join("")+"]","g"),unescape:RegExp("("+w.keys(S.unescape).join("|")+")","g")};w.each(["escape","unescape"],function(n){w[n]=function(t){return null==t?"":(""+t).replace(T[n],function(t){return S[n][t]})}}),w.result=function(n,t){if(null==n)return void 0;var r=n[t];return w.isFunction(r)?r.call(n):r},w.mixin=function(n){A(w.functions(n),function(t){var r=w[t]=n[t];w.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(w,n))}})};var N=0;w.uniqueId=function(n){var t=++N+"";return n?n+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;w.template=function(n,t,r){var e;r=w.defaults({},r,w.templateSettings);var u=RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,w);var c=function(n){return e.call(this,n,w)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},w.chain=function(n){return w(n).chain()};var z=function(n){return this._chain?w(n).chain():n};w.mixin(w),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];w.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];w.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),w.extend(w.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",function(){return w})}).call(this);
//@ sourceMappingURL=underscore-min.map
; browserify_shim__define__module__export__(typeof _ != "undefined" ? _ : window._);

}).call(global, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });
}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],"underscore":[function(require,module,exports){
module.exports=require('s+Ot9H');
},{}],51:[function(require,module,exports){
"use strict";
/*globals Handlebars: true */
var base = require("./handlebars/base");

// Each of these augment the Handlebars object. No need to setup here.
// (This is done to easily share code between commonjs and browse envs)
var SafeString = require("./handlebars/safe-string")["default"];
var Exception = require("./handlebars/exception")["default"];
var Utils = require("./handlebars/utils");
var runtime = require("./handlebars/runtime");

// For compatibility and usage outside of module systems, make the Handlebars object a namespace
var create = function() {
  var hb = new base.HandlebarsEnvironment();

  Utils.extend(hb, base);
  hb.SafeString = SafeString;
  hb.Exception = Exception;
  hb.Utils = Utils;

  hb.VM = runtime;
  hb.template = function(spec) {
    return runtime.template(spec, hb);
  };

  return hb;
};

var Handlebars = create();
Handlebars.create = create;

exports["default"] = Handlebars;
},{"./handlebars/base":52,"./handlebars/exception":53,"./handlebars/runtime":54,"./handlebars/safe-string":55,"./handlebars/utils":56}],52:[function(require,module,exports){
"use strict";
var Utils = require("./utils");
var Exception = require("./exception")["default"];

var VERSION = "1.3.0";
exports.VERSION = VERSION;var COMPILER_REVISION = 4;
exports.COMPILER_REVISION = COMPILER_REVISION;
var REVISION_CHANGES = {
  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it
  2: '== 1.0.0-rc.3',
  3: '== 1.0.0-rc.4',
  4: '>= 1.0.0'
};
exports.REVISION_CHANGES = REVISION_CHANGES;
var isArray = Utils.isArray,
    isFunction = Utils.isFunction,
    toString = Utils.toString,
    objectType = '[object Object]';

function HandlebarsEnvironment(helpers, partials) {
  this.helpers = helpers || {};
  this.partials = partials || {};

  registerDefaultHelpers(this);
}

exports.HandlebarsEnvironment = HandlebarsEnvironment;HandlebarsEnvironment.prototype = {
  constructor: HandlebarsEnvironment,

  logger: logger,
  log: log,

  registerHelper: function(name, fn, inverse) {
    if (toString.call(name) === objectType) {
      if (inverse || fn) { throw new Exception('Arg not supported with multiple helpers'); }
      Utils.extend(this.helpers, name);
    } else {
      if (inverse) { fn.not = inverse; }
      this.helpers[name] = fn;
    }
  },

  registerPartial: function(name, str) {
    if (toString.call(name) === objectType) {
      Utils.extend(this.partials,  name);
    } else {
      this.partials[name] = str;
    }
  }
};

function registerDefaultHelpers(instance) {
  instance.registerHelper('helperMissing', function(arg) {
    if(arguments.length === 2) {
      return undefined;
    } else {
      throw new Exception("Missing helper: '" + arg + "'");
    }
  });

  instance.registerHelper('blockHelperMissing', function(context, options) {
    var inverse = options.inverse || function() {}, fn = options.fn;

    if (isFunction(context)) { context = context.call(this); }

    if(context === true) {
      return fn(this);
    } else if(context === false || context == null) {
      return inverse(this);
    } else if (isArray(context)) {
      if(context.length > 0) {
        return instance.helpers.each(context, options);
      } else {
        return inverse(this);
      }
    } else {
      return fn(context);
    }
  });

  instance.registerHelper('each', function(context, options) {
    var fn = options.fn, inverse = options.inverse;
    var i = 0, ret = "", data;

    if (isFunction(context)) { context = context.call(this); }

    if (options.data) {
      data = createFrame(options.data);
    }

    if(context && typeof context === 'object') {
      if (isArray(context)) {
        for(var j = context.length; i<j; i++) {
          if (data) {
            data.index = i;
            data.first = (i === 0);
            data.last  = (i === (context.length-1));
          }
          ret = ret + fn(context[i], { data: data });
        }
      } else {
        for(var key in context) {
          if(context.hasOwnProperty(key)) {
            if(data) { 
              data.key = key; 
              data.index = i;
              data.first = (i === 0);
            }
            ret = ret + fn(context[key], {data: data});
            i++;
          }
        }
      }
    }

    if(i === 0){
      ret = inverse(this);
    }

    return ret;
  });

  instance.registerHelper('if', function(conditional, options) {
    if (isFunction(conditional)) { conditional = conditional.call(this); }

    // Default behavior is to render the positive path if the value is truthy and not empty.
    // The `includeZero` option may be set to treat the condtional as purely not empty based on the
    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.
    if ((!options.hash.includeZero && !conditional) || Utils.isEmpty(conditional)) {
      return options.inverse(this);
    } else {
      return options.fn(this);
    }
  });

  instance.registerHelper('unless', function(conditional, options) {
    return instance.helpers['if'].call(this, conditional, {fn: options.inverse, inverse: options.fn, hash: options.hash});
  });

  instance.registerHelper('with', function(context, options) {
    if (isFunction(context)) { context = context.call(this); }

    if (!Utils.isEmpty(context)) return options.fn(context);
  });

  instance.registerHelper('log', function(context, options) {
    var level = options.data && options.data.level != null ? parseInt(options.data.level, 10) : 1;
    instance.log(level, context);
  });
}

var logger = {
  methodMap: { 0: 'debug', 1: 'info', 2: 'warn', 3: 'error' },

  // State enum
  DEBUG: 0,
  INFO: 1,
  WARN: 2,
  ERROR: 3,
  level: 3,

  // can be overridden in the host environment
  log: function(level, obj) {
    if (logger.level <= level) {
      var method = logger.methodMap[level];
      if (typeof console !== 'undefined' && console[method]) {
        console[method].call(console, obj);
      }
    }
  }
};
exports.logger = logger;
function log(level, obj) { logger.log(level, obj); }

exports.log = log;var createFrame = function(object) {
  var obj = {};
  Utils.extend(obj, object);
  return obj;
};
exports.createFrame = createFrame;
},{"./exception":53,"./utils":56}],53:[function(require,module,exports){
"use strict";

var errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];

function Exception(message, node) {
  var line;
  if (node && node.firstLine) {
    line = node.firstLine;

    message += ' - ' + line + ':' + node.firstColumn;
  }

  var tmp = Error.prototype.constructor.call(this, message);

  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.
  for (var idx = 0; idx < errorProps.length; idx++) {
    this[errorProps[idx]] = tmp[errorProps[idx]];
  }

  if (line) {
    this.lineNumber = line;
    this.column = node.firstColumn;
  }
}

Exception.prototype = new Error();

exports["default"] = Exception;
},{}],54:[function(require,module,exports){
"use strict";
var Utils = require("./utils");
var Exception = require("./exception")["default"];
var COMPILER_REVISION = require("./base").COMPILER_REVISION;
var REVISION_CHANGES = require("./base").REVISION_CHANGES;

function checkRevision(compilerInfo) {
  var compilerRevision = compilerInfo && compilerInfo[0] || 1,
      currentRevision = COMPILER_REVISION;

  if (compilerRevision !== currentRevision) {
    if (compilerRevision < currentRevision) {
      var runtimeVersions = REVISION_CHANGES[currentRevision],
          compilerVersions = REVISION_CHANGES[compilerRevision];
      throw new Exception("Template was precompiled with an older version of Handlebars than the current runtime. "+
            "Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").");
    } else {
      // Use the embedded version info since the runtime doesn't know about this revision yet
      throw new Exception("Template was precompiled with a newer version of Handlebars than the current runtime. "+
            "Please update your runtime to a newer version ("+compilerInfo[1]+").");
    }
  }
}

exports.checkRevision = checkRevision;// TODO: Remove this line and break up compilePartial

function template(templateSpec, env) {
  if (!env) {
    throw new Exception("No environment passed to template");
  }

  // Note: Using env.VM references rather than local var references throughout this section to allow
  // for external users to override these as psuedo-supported APIs.
  var invokePartialWrapper = function(partial, name, context, helpers, partials, data) {
    var result = env.VM.invokePartial.apply(this, arguments);
    if (result != null) { return result; }

    if (env.compile) {
      var options = { helpers: helpers, partials: partials, data: data };
      partials[name] = env.compile(partial, { data: data !== undefined }, env);
      return partials[name](context, options);
    } else {
      throw new Exception("The partial " + name + " could not be compiled when running in runtime-only mode");
    }
  };

  // Just add water
  var container = {
    escapeExpression: Utils.escapeExpression,
    invokePartial: invokePartialWrapper,
    programs: [],
    program: function(i, fn, data) {
      var programWrapper = this.programs[i];
      if(data) {
        programWrapper = program(i, fn, data);
      } else if (!programWrapper) {
        programWrapper = this.programs[i] = program(i, fn);
      }
      return programWrapper;
    },
    merge: function(param, common) {
      var ret = param || common;

      if (param && common && (param !== common)) {
        ret = {};
        Utils.extend(ret, common);
        Utils.extend(ret, param);
      }
      return ret;
    },
    programWithDepth: env.VM.programWithDepth,
    noop: env.VM.noop,
    compilerInfo: null
  };

  return function(context, options) {
    options = options || {};
    var namespace = options.partial ? options : env,
        helpers,
        partials;

    if (!options.partial) {
      helpers = options.helpers;
      partials = options.partials;
    }
    var result = templateSpec.call(
          container,
          namespace, context,
          helpers,
          partials,
          options.data);

    if (!options.partial) {
      env.VM.checkRevision(container.compilerInfo);
    }

    return result;
  };
}

exports.template = template;function programWithDepth(i, fn, data /*, $depth */) {
  var args = Array.prototype.slice.call(arguments, 3);

  var prog = function(context, options) {
    options = options || {};

    return fn.apply(this, [context, options.data || data].concat(args));
  };
  prog.program = i;
  prog.depth = args.length;
  return prog;
}

exports.programWithDepth = programWithDepth;function program(i, fn, data) {
  var prog = function(context, options) {
    options = options || {};

    return fn(context, options.data || data);
  };
  prog.program = i;
  prog.depth = 0;
  return prog;
}

exports.program = program;function invokePartial(partial, name, context, helpers, partials, data) {
  var options = { partial: true, helpers: helpers, partials: partials, data: data };

  if(partial === undefined) {
    throw new Exception("The partial " + name + " could not be found");
  } else if(partial instanceof Function) {
    return partial(context, options);
  }
}

exports.invokePartial = invokePartial;function noop() { return ""; }

exports.noop = noop;
},{"./base":52,"./exception":53,"./utils":56}],55:[function(require,module,exports){
"use strict";
// Build out our basic SafeString type
function SafeString(string) {
  this.string = string;
}

SafeString.prototype.toString = function() {
  return "" + this.string;
};

exports["default"] = SafeString;
},{}],56:[function(require,module,exports){
"use strict";
/*jshint -W004 */
var SafeString = require("./safe-string")["default"];

var escape = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#x27;",
  "`": "&#x60;"
};

var badChars = /[&<>"'`]/g;
var possible = /[&<>"'`]/;

function escapeChar(chr) {
  return escape[chr] || "&amp;";
}

function extend(obj, value) {
  for(var key in value) {
    if(Object.prototype.hasOwnProperty.call(value, key)) {
      obj[key] = value[key];
    }
  }
}

exports.extend = extend;var toString = Object.prototype.toString;
exports.toString = toString;
// Sourced from lodash
// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt
var isFunction = function(value) {
  return typeof value === 'function';
};
// fallback for older versions of Chrome and Safari
if (isFunction(/x/)) {
  isFunction = function(value) {
    return typeof value === 'function' && toString.call(value) === '[object Function]';
  };
}
var isFunction;
exports.isFunction = isFunction;
var isArray = Array.isArray || function(value) {
  return (value && typeof value === 'object') ? toString.call(value) === '[object Array]' : false;
};
exports.isArray = isArray;

function escapeExpression(string) {
  // don't escape SafeStrings, since they're already safe
  if (string instanceof SafeString) {
    return string.toString();
  } else if (!string && string !== 0) {
    return "";
  }

  // Force a string conversion as this will be done by the append regardless and
  // the regex test will do this transparently behind the scenes, causing issues if
  // an object's to string has escaped characters in it.
  string = "" + string;

  if(!possible.test(string)) { return string; }
  return string.replace(badChars, escapeChar);
}

exports.escapeExpression = escapeExpression;function isEmpty(value) {
  if (!value && value !== 0) {
    return true;
  } else if (isArray(value) && value.length === 0) {
    return true;
  } else {
    return false;
  }
}

exports.isEmpty = isEmpty;
},{"./safe-string":55}],57:[function(require,module,exports){
// Create a simple path alias to allow browserify to resolve
// the runtime on a supported path.
module.exports = require('./dist/cjs/handlebars.runtime');

},{"./dist/cjs/handlebars.runtime":51}],58:[function(require,module,exports){
module.exports = require("handlebars/runtime")["default"];

},{"handlebars/runtime":57}]},{},[7])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlcyI6WyIvVXNlcnMvb2l2YS9Ecm9wYm94L3Byb2pla3RpdC9rdW1taS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwiL1VzZXJzL29pdmEvRHJvcGJveC9wcm9qZWt0aXQva3VtbWkvYXBwL3NjcmlwdHMvYXBwbGljYXRpb24uanMiLCIvVXNlcnMvb2l2YS9Ecm9wYm94L3Byb2pla3RpdC9rdW1taS9hcHAvc2NyaXB0cy9jb2xsZWN0aW9ucy9yZXBvcnRzLmpzIiwiL1VzZXJzL29pdmEvRHJvcGJveC9wcm9qZWt0aXQva3VtbWkvYXBwL3NjcmlwdHMvY29sbGVjdGlvbnMvc3RvcHMuanMiLCIvVXNlcnMvb2l2YS9Ecm9wYm94L3Byb2pla3RpdC9rdW1taS9hcHAvc2NyaXB0cy9jb2xsZWN0aW9ucy91c2Vycy5qcyIsIi9Vc2Vycy9vaXZhL0Ryb3Bib3gvcHJvamVrdGl0L2t1bW1pL2FwcC9zY3JpcHRzL2NvbW11bmljYXRvci5qcyIsIi9Vc2Vycy9vaXZhL0Ryb3Bib3gvcHJvamVrdGl0L2t1bW1pL2FwcC9zY3JpcHRzL2NvbnRyb2xsZXIuanMiLCIvVXNlcnMvb2l2YS9Ecm9wYm94L3Byb2pla3RpdC9rdW1taS9hcHAvc2NyaXB0cy9tYWluLmpzIiwiL1VzZXJzL29pdmEvRHJvcGJveC9wcm9qZWt0aXQva3VtbWkvYXBwL3NjcmlwdHMvbW9kZWxzL2FwcE1vZGVsLmpzIiwiL1VzZXJzL29pdmEvRHJvcGJveC9wcm9qZWt0aXQva3VtbWkvYXBwL3NjcmlwdHMvbW9kZWxzL3JlcG9ydC5qcyIsIi9Vc2Vycy9vaXZhL0Ryb3Bib3gvcHJvamVrdGl0L2t1bW1pL2FwcC9zY3JpcHRzL21vZGVscy9zdG9wLmpzIiwiL1VzZXJzL29pdmEvRHJvcGJveC9wcm9qZWt0aXQva3VtbWkvYXBwL3NjcmlwdHMvbW9kZWxzL3VzZXIuanMiLCIvVXNlcnMvb2l2YS9Ecm9wYm94L3Byb2pla3RpdC9rdW1taS9hcHAvc2NyaXB0cy9yb3V0ZXIuanMiLCIvVXNlcnMvb2l2YS9Ecm9wYm94L3Byb2pla3RpdC9rdW1taS9hcHAvc2NyaXB0cy92aWV3cy9hZG9wdC9hZG9wdFZpZXcuanMiLCIvVXNlcnMvb2l2YS9Ecm9wYm94L3Byb2pla3RpdC9rdW1taS9hcHAvc2NyaXB0cy92aWV3cy9pbmZvVGVhc2VyVmlldy5qcyIsIi9Vc2Vycy9vaXZhL0Ryb3Bib3gvcHJvamVrdGl0L2t1bW1pL2FwcC9zY3JpcHRzL3ZpZXdzL3JlcG9ydFZpZXcuanMiLCIvVXNlcnMvb2l2YS9Ecm9wYm94L3Byb2pla3RpdC9rdW1taS9hcHAvc2NyaXB0cy92aWV3cy9zdG9wL2Fza0Fkb3B0aW9uLmpzIiwiL1VzZXJzL29pdmEvRHJvcGJveC9wcm9qZWt0aXQva3VtbWkvYXBwL3NjcmlwdHMvdmlld3Mvc3RvcC9yZXBvcnRJdGVtVmlldy5qcyIsIi9Vc2Vycy9vaXZhL0Ryb3Bib3gvcHJvamVrdGl0L2t1bW1pL2FwcC9zY3JpcHRzL3ZpZXdzL3N0b3AvcmVwb3J0TGlua1ZpZXcuanMiLCIvVXNlcnMvb2l2YS9Ecm9wYm94L3Byb2pla3RpdC9rdW1taS9hcHAvc2NyaXB0cy92aWV3cy9zdG9wL3JlcG9ydHNFbXB0eVZpZXcuanMiLCIvVXNlcnMvb2l2YS9Ecm9wYm94L3Byb2pla3RpdC9rdW1taS9hcHAvc2NyaXB0cy92aWV3cy9zdG9wL3JlcG9ydHNWaWV3LmpzIiwiL1VzZXJzL29pdmEvRHJvcGJveC9wcm9qZWt0aXQva3VtbWkvYXBwL3NjcmlwdHMvdmlld3Mvc3RvcC9zdG9wTmFtZVZpZXcuanMiLCIvVXNlcnMvb2l2YS9Ecm9wYm94L3Byb2pla3RpdC9rdW1taS9hcHAvc2NyaXB0cy92aWV3cy9zdG9wVmlldy5qcyIsIi9Vc2Vycy9vaXZhL0Ryb3Bib3gvcHJvamVrdGl0L2t1bW1pL2FwcC9zY3JpcHRzL3ZpZXdzL3dlbGNvbWUvbmVhcmJ5Vmlldy5qcyIsIi9Vc2Vycy9vaXZhL0Ryb3Bib3gvcHJvamVrdGl0L2t1bW1pL2FwcC9zY3JpcHRzL3ZpZXdzL3dlbGNvbWUvc2VhcmNoVmlldy5qcyIsIi9Vc2Vycy9vaXZhL0Ryb3Bib3gvcHJvamVrdGl0L2t1bW1pL2FwcC9zY3JpcHRzL3ZpZXdzL3dlbGNvbWUvc3RvcEl0ZW1WaWV3LmpzIiwiL1VzZXJzL29pdmEvRHJvcGJveC9wcm9qZWt0aXQva3VtbWkvYXBwL3NjcmlwdHMvdmlld3Mvd2VsY29tZVZpZXcuanMiLCIvVXNlcnMvb2l2YS9Ecm9wYm94L3Byb2pla3RpdC9rdW1taS9hcHAvdGVtcGxhdGVzL2Fkb3B0L2Fkb3B0LmhicyIsIi9Vc2Vycy9vaXZhL0Ryb3Bib3gvcHJvamVrdGl0L2t1bW1pL2FwcC90ZW1wbGF0ZXMvaW5mb1RlYXNlci5oYnMiLCIvVXNlcnMvb2l2YS9Ecm9wYm94L3Byb2pla3RpdC9rdW1taS9hcHAvdGVtcGxhdGVzL3JlcG9ydC5oYnMiLCIvVXNlcnMvb2l2YS9Ecm9wYm94L3Byb2pla3RpdC9rdW1taS9hcHAvdGVtcGxhdGVzL3N0b3AuaGJzIiwiL1VzZXJzL29pdmEvRHJvcGJveC9wcm9qZWt0aXQva3VtbWkvYXBwL3RlbXBsYXRlcy9zdG9wL2Fza0Fkb3B0aW9uLmhicyIsIi9Vc2Vycy9vaXZhL0Ryb3Bib3gvcHJvamVrdGl0L2t1bW1pL2FwcC90ZW1wbGF0ZXMvc3RvcC9yZXBvcnRJdGVtLmhicyIsIi9Vc2Vycy9vaXZhL0Ryb3Bib3gvcHJvamVrdGl0L2t1bW1pL2FwcC90ZW1wbGF0ZXMvc3RvcC9yZXBvcnRMaW5rLmhicyIsIi9Vc2Vycy9vaXZhL0Ryb3Bib3gvcHJvamVrdGl0L2t1bW1pL2FwcC90ZW1wbGF0ZXMvc3RvcC9yZXBvcnRzLmhicyIsIi9Vc2Vycy9vaXZhL0Ryb3Bib3gvcHJvamVrdGl0L2t1bW1pL2FwcC90ZW1wbGF0ZXMvc3RvcC9yZXBvcnRzRW1wdHkuaGJzIiwiL1VzZXJzL29pdmEvRHJvcGJveC9wcm9qZWt0aXQva3VtbWkvYXBwL3RlbXBsYXRlcy9zdG9wL3N0b3BOYW1lLmhicyIsIi9Vc2Vycy9vaXZhL0Ryb3Bib3gvcHJvamVrdGl0L2t1bW1pL2FwcC90ZW1wbGF0ZXMvd2VsY29tZS5oYnMiLCIvVXNlcnMvb2l2YS9Ecm9wYm94L3Byb2pla3RpdC9rdW1taS9hcHAvdGVtcGxhdGVzL3dlbGNvbWUvbmVhcmJ5LmhicyIsIi9Vc2Vycy9vaXZhL0Ryb3Bib3gvcHJvamVrdGl0L2t1bW1pL2FwcC90ZW1wbGF0ZXMvd2VsY29tZS9zZWFyY2guaGJzIiwiL1VzZXJzL29pdmEvRHJvcGJveC9wcm9qZWt0aXQva3VtbWkvYXBwL3RlbXBsYXRlcy93ZWxjb21lL3N0b3BJdGVtLmhicyIsIi9Vc2Vycy9vaXZhL0Ryb3Bib3gvcHJvamVrdGl0L2t1bW1pL2FwcC95L2JhY2tib25lLmJhYnlzaXR0ZXIvbGliL2JhY2tib25lLmJhYnlzaXR0ZXIubWluLmpzIiwiL1VzZXJzL29pdmEvRHJvcGJveC9wcm9qZWt0aXQva3VtbWkvYXBwL3kvYmFja2JvbmUubWFyaW9uZXR0ZS9saWIvYmFja2JvbmUubWFyaW9uZXR0ZS5taW4uanMiLCIvVXNlcnMvb2l2YS9Ecm9wYm94L3Byb2pla3RpdC9rdW1taS9hcHAveS9iYWNrYm9uZS9iYWNrYm9uZS1taW4uanMiLCIvVXNlcnMvb2l2YS9Ecm9wYm94L3Byb2pla3RpdC9rdW1taS9hcHAveS9qcXVlcnkvanF1ZXJ5Lm1pbi5qcyIsIi9Vc2Vycy9vaXZhL0Ryb3Bib3gvcHJvamVrdGl0L2t1bW1pL2FwcC95L3VuZGVyc2NvcmUtYW1kL3VuZGVyc2NvcmUtbWluLmpzIiwiL1VzZXJzL29pdmEvRHJvcGJveC9wcm9qZWt0aXQva3VtbWkvbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy5ydW50aW1lLmpzIiwiL1VzZXJzL29pdmEvRHJvcGJveC9wcm9qZWt0aXQva3VtbWkvbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9iYXNlLmpzIiwiL1VzZXJzL29pdmEvRHJvcGJveC9wcm9qZWt0aXQva3VtbWkvbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9leGNlcHRpb24uanMiLCIvVXNlcnMvb2l2YS9Ecm9wYm94L3Byb2pla3RpdC9rdW1taS9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL3J1bnRpbWUuanMiLCIvVXNlcnMvb2l2YS9Ecm9wYm94L3Byb2pla3RpdC9rdW1taS9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL3NhZmUtc3RyaW5nLmpzIiwiL1VzZXJzL29pdmEvRHJvcGJveC9wcm9qZWt0aXQva3VtbWkvbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy91dGlscy5qcyIsIi9Vc2Vycy9vaXZhL0Ryb3Bib3gvcHJvamVrdGl0L2t1bW1pL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL3J1bnRpbWUuanMiLCIvVXNlcnMvb2l2YS9Ecm9wYm94L3Byb2pla3RpdC9rdW1taS9ub2RlX21vZHVsZXMvaGJzZnkvcnVudGltZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25IQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDaENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0VBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIid1c2Ugc3RyaWN0JztcbnZhciBCYWNrYm9uZSA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG52YXIgTWFyaW9uZXR0ZSA9IHJlcXVpcmUoJ2JhY2tib25lLm1hcmlvbmV0dGUnKTtcbnZhciBjb21tdW5pY2F0b3IgPSByZXF1aXJlKCcuL2NvbW11bmljYXRvcicpO1xudmFyIEFwcENvbnRyb2xsZXIgPSByZXF1aXJlKCcuL2NvbnRyb2xsZXInKTtcbnZhciBBcHBSb3V0ZXIgPSByZXF1aXJlKCcuL3JvdXRlcicpO1xuXG52YXIgQXBwID0gbmV3IE1hcmlvbmV0dGUuQXBwbGljYXRpb24oKTtcblxuLyogQWRkIGFwcGxpY2F0aW9uIHJlZ2lvbnMgaGVyZSAqL1xuQXBwLmFkZFJlZ2lvbnMoe1xuXHQnaGVhZGVyJzogJyNoZWFkZXInLFxuXHQnbWFpbic6ICcjbWFpbidcbn0pO1xuXG4vKiBBZGQgaW5pdGlhbGl6ZXJzIGhlcmUgKi9cbkFwcC5hZGRJbml0aWFsaXplciggZnVuY3Rpb24gKCkge1xuXHR3aW5kb3cuQ29tbXVuaWNhdG9yID0gbmV3IGNvbW11bmljYXRvcigpO1xuXHRDb21tdW5pY2F0b3IubWVkaWF0b3IudHJpZ2dlcignQVBQOlNUQVJUJyk7XG5cblx0dmFyIGFwcENvbnRyb2xsZXIgPSBuZXcgQXBwQ29udHJvbGxlcih7YXBwOiB0aGlzfSk7XG5cdHZhciBhcHBSb3V0ZXIgPSBuZXcgQXBwUm91dGVyKHtjb250cm9sbGVyOiBhcHBDb250cm9sbGVyfSk7XG5cdHdpbmRvdy5hcHBSb3V0ZXIgPSBhcHBSb3V0ZXI7XG59KTtcblxuQXBwLm9uKCdpbml0aWFsaXplOmFmdGVyJywgZnVuY3Rpb24oKSB7XG5cdGNvbnNvbGUubG9nKCdhcHAgaW5pdGlhbGl6ZWQnKTtcblx0QmFja2JvbmUuaGlzdG9yeS5zdGFydCgpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXBwOyIsIid1c2Ugc3RyaWN0JztcbnZhciBCYWNrYm9uZSA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG5cbnZhciBSZXBvcnQgPSByZXF1aXJlKCcuLi9tb2RlbHMvcmVwb3J0Jyk7XG5cblxudmFyIFJlcG9ydHNDb2xsZWN0aW9uID0gQmFja2JvbmUuQ29sbGVjdGlvbi5leHRlbmQoe1xuICBtb2RlbDogUmVwb3J0LFxuICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdGhpcy5jb2RlID0gb3B0aW9ucy5jb2RlO1xuICB9LFxuICB1cmw6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnYXBpL3JlcG9ydC8nK3RoaXMuY29kZTtcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVwb3J0c0NvbGxlY3Rpb247IiwiJ3VzZSBzdHJpY3QnO1xudmFyIEJhY2tib25lID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcblxudmFyIFN0b3AgPSByZXF1aXJlKCcuLi9tb2RlbHMvc3RvcCcpO1xuXG5cbnZhciBTdG9wc0NvbGxlY3Rpb24gPSBCYWNrYm9uZS5Db2xsZWN0aW9uLmV4dGVuZCh7XG4gIG1vZGVsOiBTdG9wLFxuICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHt9LFxuICB1cmw6IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5sYXQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgdHlwZW9mIHRoaXMubG9uICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIHRoaXMubGF0ICE9PSBudWxsICYmXG4gICAgICB0aGlzLmxvbiAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuICdhcGkvc3RvcC8nK3RoaXMubGF0KycvJyt0aGlzLmxvbjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIHBhcnNlOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgIHJldHVybiBfLmZpcnN0KHJlc3BvbnNlLCA1KTtcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU3RvcHNDb2xsZWN0aW9uOyIsIid1c2Ugc3RyaWN0JztcbnZhciBCYWNrYm9uZSA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG5cbnZhciBVc2VyID0gcmVxdWlyZSgnLi4vbW9kZWxzL3VzZXInKTtcblxuXG52YXIgVXNlcnNDb2xsZWN0aW9uID0gQmFja2JvbmUuQ29sbGVjdGlvbi5leHRlbmQoe1xuICBtb2RlbDogVXNlcixcbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHRoaXMuY29kZSA9IG9wdGlvbnMuY29kZTtcbiAgfSxcbiAgdXJsOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJ2FwaS91c2VyLycrdGhpcy5jb2RlO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBVc2Vyc0NvbGxlY3Rpb247IiwiJ3VzZSBzdHJpY3QnO1xudmFyIE1hcmlvbmV0dGUgPSByZXF1aXJlKCdiYWNrYm9uZS5tYXJpb25ldHRlJyk7XG52YXIgQmFja2JvbmUgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xuXG52YXIgQ29tbXVuaWNhdG9yID0gTWFyaW9uZXR0ZS5Db250cm9sbGVyLmV4dGVuZCh7XG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuXG5cdFx0Ly8gY3JlYXRlIGEgcHViIHN1YlxuXHRcdHRoaXMubWVkaWF0b3IgPSBuZXcgQmFja2JvbmUuV3JlcXIuRXZlbnRBZ2dyZWdhdG9yKCk7XG5cblx0XHQvL2NyZWF0ZSBhIHJlcS9yZXNcblx0XHR0aGlzLnJlcXJlcyA9IG5ldyBCYWNrYm9uZS5XcmVxci5SZXF1ZXN0UmVzcG9uc2UoKTtcblxuXHRcdC8vIGNyZWF0ZSBjb21tYW5kc1xuXHRcdHRoaXMuY29tbWFuZCA9IG5ldyBCYWNrYm9uZS5XcmVxci5Db21tYW5kcygpO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb21tdW5pY2F0b3I7IiwiJ3VzZSBzdHJpY3QnO1xudmFyIE1hcmlvbmV0dGUgPSByZXF1aXJlKCdiYWNrYm9uZS5tYXJpb25ldHRlJyk7XG5cbnZhciBBcHBNb2RlbCA9IHJlcXVpcmUoJy4vbW9kZWxzL2FwcE1vZGVsJyk7XG52YXIgQWRvcHRWaWV3ID0gcmVxdWlyZSgnLi92aWV3cy9hZG9wdC9hZG9wdFZpZXcnKTtcbnZhciBXZWxjb21lVmlldyA9IHJlcXVpcmUoJy4vdmlld3Mvd2VsY29tZVZpZXcnKTtcbnZhciBTdG9wVmlldyA9IHJlcXVpcmUoJy4vdmlld3Mvc3RvcFZpZXcnKTtcbnZhciBSZXBvcnRWaWV3ID0gcmVxdWlyZSgnLi92aWV3cy9yZXBvcnRWaWV3Jyk7XG5cbnZhciBDb250cm9sbGVyID0gTWFyaW9uZXR0ZS5Db250cm9sbGVyLmV4dGVuZCh7XG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdjb250cm9sbGVyIGluaXQnKTtcbiAgICB0aGlzLmFwcCA9IHRoaXMub3B0aW9ucy5hcHA7XG4gICAgdGhpcy5hcHBNb2RlbCA9IG5ldyBBcHBNb2RlbCgpO1xuICB9LFxuXG4gIHdlbGNvbWU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB3ZWxjb21lVmlldyA9IG5ldyBXZWxjb21lVmlldyh7YXBwTW9kZWw6IHRoaXMuYXBwTW9kZWx9KTtcbiAgICB0aGlzLmFwcC5tYWluLnNob3cod2VsY29tZVZpZXcpO1xuXG4gICAgLy8gdXBkYXRlIGxvY2F0aW9uXG4gICAgLy8gdG9kbzogZ2V0IHBvc2l0aW9uXG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgX3RoaXMuX3VwZGF0ZVBvc2l0aW9uKCk7XG4gICAgfSwgMTAwKTtcbiAgfSxcblxuICBzdG9wOiBmdW5jdGlvbihjb2RlKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICBhcHBNb2RlbDogdGhpcy5hcHBNb2RlbFxuICAgIH07XG5cbiAgICBpZiAoY29kZS5sZW5ndGggPD0gNikge1xuICAgICAgb3B0aW9ucy5jb2RlX3Nob3J0ID0gY29kZTtcbiAgICAgIHRoaXMuX3N0b3BXaXRoU2hvcnRDb2RlKGNvZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb25zLmNvZGUgPSBjb2RlO1xuICAgICAgdGhpcy5fc3RvcFdpdGhMb25nQ29kZShjb2RlKTtcbiAgICB9XG5cbiAgICB2YXIgc3RvcFZpZXcgPSBuZXcgU3RvcFZpZXcob3B0aW9ucyk7XG4gICAgdGhpcy5hcHAubWFpbi5zaG93KHN0b3BWaWV3KTtcbiAgfSxcblxuICByZXBvcnQ6IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgcmVwb3J0VmlldyA9IG5ldyBSZXBvcnRWaWV3KHtjb2RlOiBjb2RlLCBtb2RlbDogdGhpcy5hcHBNb2RlbC5nZXQoJ3N0b3AnKX0pO1xuICAgIHRoaXMuYXBwLm1haW4uc2hvdyhyZXBvcnRWaWV3KTtcblxuICAgIGlmICh0aGlzLmFwcE1vZGVsLmdldCgnc3RvcCcpLmdldCgnY29kZScpICE9PSBjb2RlICYmXG4gICAgICB0aGlzLmFwcE1vZGVsLmdldCgnc3RvcCcpLmdldCgnY29kZV9zaG9ydCcpICE9PSBjb2RlKSB7XG4gICAgICB0aGlzLmFwcE1vZGVsLmxvYWRTdG9wKHtjb2RlOiBjb2RlfSk7XG4gICAgfVxuICB9LFxuXG4gIGFkb3B0OiBmdW5jdGlvbihjb2RlKSB7XG4gICAgdmFyIGFkb3B0VmlldyA9IG5ldyBBZG9wdFZpZXcoe2NvZGU6IGNvZGUsIG1vZGVsOiB0aGlzLmFwcE1vZGVsLmdldCgnc3RvcCcpfSk7XG4gICAgdGhpcy5hcHAubWFpbi5zaG93KGFkb3B0Vmlldyk7XG5cbiAgICBpZiAodGhpcy5hcHBNb2RlbC5nZXQoJ3N0b3AnKS5nZXQoJ2NvZGUnKSAhPT0gY29kZSAmJlxuICAgICAgdGhpcy5hcHBNb2RlbC5nZXQoJ3N0b3AnKS5nZXQoJ2NvZGVfc2hvcnQnKSAhPT0gY29kZSkge1xuICAgICAgdGhpcy5hcHBNb2RlbC5sb2FkU3RvcCh7Y29kZTogY29kZX0pO1xuICAgIH1cbiAgfSxcblxuICBfc3RvcFdpdGhMb25nQ29kZTogZnVuY3Rpb24oY29kZSkge1xuICAgIGlmICh0aGlzLmFwcE1vZGVsLmdldCgnc3RvcCcpLmdldCgnY29kZScpICE9PSBjb2RlKSB7XG4gICAgICB0aGlzLmFwcE1vZGVsLmxvYWRTdG9wKHtjb2RlOiBjb2RlfSk7XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgaWYgc3RvcCBleGlzdHMgaW4gY29sbGVjdGlvblxuICAgIHZhciBtYXRjaGluZ1N0b3BzID0gdGhpcy5hcHBNb2RlbC5nZXQoJ3N0b3BzJykud2hlcmUoe2NvZGU6IGNvZGV9KTtcbiAgICBpZiAobWF0Y2hpbmdTdG9wcy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmFwcE1vZGVsLnNldCh7c3RvcDogbWF0Y2hpbmdTdG9wc1swXX0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSxcblxuICBfc3RvcFdpdGhTaG9ydENvZGU6IGZ1bmN0aW9uKGNvZGVfc2hvcnQpIHtcbiAgICBpZiAodGhpcy5hcHBNb2RlbC5nZXQoJ3N0b3AnKS5nZXQoJ2NvZGVfc2hvcnQnKSAhPT0gY29kZV9zaG9ydCkge1xuICAgICAgdGhpcy5hcHBNb2RlbC5sb2FkU3RvcCh7Y29kZV9zaG9ydDogY29kZV9zaG9ydH0pO1xuICAgIH1cbiAgICB2YXIgbWF0Y2hpbmdTaG9ydENvZGUgPSB0aGlzLmFwcE1vZGVsLmdldCgnc3RvcHMnKS53aGVyZSh7Y29kZV9zaG9ydDogY29kZV9zaG9ydH0pO1xuICAgIGlmIChtYXRjaGluZ1Nob3J0Q29kZS5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmFwcE1vZGVsLnNldCh7c3RvcDogbWF0Y2hpbmdTaG9ydENvZGVbMF19KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0sXG5cbiAgX3VwZGF0ZVBvc2l0aW9uOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZ2VvbG9jYXRpb25FbmFibGVkID0gJ2dlb2xvY2F0aW9uJyBpbiBuYXZpZ2F0b3I7XG4gICAgaWYgKCFnZW9sb2NhdGlvbkVuYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKFxuICAgICAgXy5iaW5kKHRoaXMuX29uUG9zaXRpb24sIHRoaXMpLFxuICAgICAgXy5iaW5kKHRoaXMuX29uUG9zaXRpb25FcnJvciwgdGhpcylcbiAgICApO1xuICB9LFxuXG4gIF9vblBvc2l0aW9uOiBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgIGNvbnNvbGUubG9nKCdvblBvc2l0aW9uJywgcG9zaXRpb24pO1xuICAgIHZhciBsYXQgPSBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7XG4gICAgdmFyIGxvbiA9IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7XG4gICAgdGhpcy5hcHBNb2RlbC51cGRhdGVMb2NhdGlvbihsYXQsIGxvbik7XG4gIH0sXG5cbiAgX29uUG9zaXRpb25FcnJvcjogZnVuY3Rpb24oZXJyb3IsIG1zZykge1xuICAgIENvbW11bmljYXRvci5tZWRpYXRvci50cmlnZ2VyKCdwb3NpdGlvbjplcnJvcicsIGVycm9yLmNvZGUpO1xuICAgIGNvbnNvbGUubG9nKCdwb3NpdGlvbiBlcnJvcjogJytlcnJvci5jb2RlKTtcbiAgICBjb25zb2xlLmxvZyhtc2cpO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb250cm9sbGVyOyIsInZhciBBcHAgPSByZXF1aXJlKCcuL2FwcGxpY2F0aW9uJyk7XG5cbkFwcC5zdGFydCgpOyIsIid1c2Ugc3RyaWN0JztcbnZhciBCYWNrYm9uZSA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG5cbnZhciBTdG9wcyA9IHJlcXVpcmUoJy4uL2NvbGxlY3Rpb25zL3N0b3BzJyk7XG52YXIgU3RvcCA9IHJlcXVpcmUoJy4vc3RvcCcpO1xuXG5cbnZhciBBcHBNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gIGRlZmF1bHRzOiB7XG4gICAgc3RvcHM6IG51bGwsXG4gICAgc3RvcDogbnVsbCxcbiAgICBjb29yZHM6IHt9XG4gIH0sXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2V0KHtzdG9wczogbmV3IFN0b3BzKCksIHN0b3A6IG5ldyBTdG9wKCl9KTtcbiAgfSxcbiAgdXBkYXRlTG9jYXRpb246IGZ1bmN0aW9uKGxhdCwgbG9uKSB7XG4gICAgaWYgKGxhdCA9PT0gdGhpcy5nZXQoJ2Nvb3JkcycpLmxhdCAmJiBsb24gPT09IHRoaXMuZ2V0KCdjb29yZHMnKS5sb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNldCh7Y29vcmRzOiB7bGF0OiBsYXQsIGxvbjogbG9ufX0pO1xuICAgIHRoaXMuZ2V0KCdzdG9wcycpLmxhdCA9IGxhdDtcbiAgICB0aGlzLmdldCgnc3RvcHMnKS5sb24gPSBsb247XG4gICAgdGhpcy5fZmV0Y2hTdG9wcygpO1xuICB9LFxuICBsb2FkU3RvcDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGNvbnNvbGUubG9nKCdhcHBNb2RlbDogbG9hZCBzdG9wICcsb3B0aW9ucyk7XG4gICAgdGhpcy5nZXQoJ3N0b3AnKS5zZXQob3B0aW9ucyk7XG4gICAgdGhpcy5nZXQoJ3N0b3AnKS5mZXRjaCgpO1xuICB9LFxuICBfZmV0Y2hTdG9wczogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ2FwcE1vZGVsOiBmZXRjaCBzdG9wcycpO1xuICAgIHRoaXMuZ2V0KCdzdG9wcycpLmZldGNoKHtcbiAgICAgIHN1Y2Nlc3M6IF8uYmluZCh0aGlzLl9vblN0b3BzLCB0aGlzKSxcbiAgICAgIGVycm9yOiBfLmJpbmQodGhpcy5fb25TdG9wc0Vycm9yLCB0aGlzKSxcbiAgICAgIHJlc2V0OiB0cnVlXG4gICAgfSk7XG4gIH0sXG4gIF9vblN0b3BzOiBmdW5jdGlvbihjb2xsZWN0aW9uKSB7XG4gICAgY29uc29sZS5sb2coJ2FwcE1vZGVsOiBzdG9wcyBmZXRjaGVkJywgY29sbGVjdGlvbik7XG4gICAgaWYgKGNvbGxlY3Rpb24uY29kZSAhPT0gbnVsbCAmJiBjb2xsZWN0aW9uLmxlbmd0aCA9PT0gMSkge1xuICAgICAgY29uc29sZS5sb2coJ2FwcE1vZGVsIGxvYWRlZCBzcGVjaWZpYyBzdG9wJyk7XG4gICAgICB0aGlzLnNldCh7c3RvcDogY29sbGVjdGlvbi5tb2RlbHNbMF19KTtcbiAgICB9XG4gIH0sXG4gIF9vblN0b3BzRXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ2FwcE1vZGVsOiBzdG9wcyBmZXRjaCBmYWlsZWQnKTtcbiAgfSxcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFwcE1vZGVsOyIsIid1c2Ugc3RyaWN0JztcbnZhciBCYWNrYm9uZSA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XG5cbnZhciBSZXBvcnQgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICB1cmw6ICcvYXBpL3JlcG9ydCcsXG4gIGRlZmF1bHRzOiB7XG4gICAgZGVzY3JpcHRpb246IG51bGwsXG4gICAgc2VydmljZV9jb2RlOiBudWxsLFxuICAgIGxhdDogbnVsbCxcbiAgICBsb246IG51bGwsXG4gICAgY29kZTogbnVsbFxuICB9LFxuICBzZXRXZ3NDb29yZHM6IGZ1bmN0aW9uKHdnc19jb29yZHMpIHtcbiAgICB2YXIgY29vcmRzID0gd2dzX2Nvb3Jkcy5zcGxpdCgnLCcpO1xuICAgIGlmIChjb29yZHMubGVuZ3RoICE9PSAyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ2Nvb3JkcyBmYWlsJywgd2dzX2Nvb3JkcywgY29vcmRzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZXQoe2xvbjogY29vcmRzWzBdLCBsYXQ6IGNvb3Jkc1sxXX0pO1xuICB9LFxuICBzZXRDb29yZHM6IGZ1bmN0aW9uKHh5KSB7XG4gICAgdmFyIGNvb3JkcyA9IHh5LnNwbGl0KCcsJyk7XG4gICAgaWYgKGNvb3Jkcy5sZW5ndGggIT09IDIpIHtcbiAgICAgIGNvbnNvbGUud2FybignY29vcmRzIGZhaWwnLCB4eSwgY29vcmRzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yICh2YXIgaT0wOyBpPDI7IGkrKykge1xuICAgICAgdmFyIGNvb3JkID0gKGNvb3Jkc1tpXSsnJykuc3Vic3RyaW5nKDAsIDcpO1xuICAgICAgY29vcmQgPSBwYXJzZUludChjb29yZCwgMTApO1xuICAgICAgY29vcmRzW2ldID0gY29vcmQgKiAwLjAwMDAxO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZygnY29vcmRzIG5vdyAnK2Nvb3Jkcyk7XG4gICAgdGhpcy5zZXQoe2xvbjogY29vcmRzWzBdLCBsYXQ6IGNvb3Jkc1sxXX0pO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZXBvcnQ7IiwiJ3VzZSBzdHJpY3QnO1xudmFyIEJhY2tib25lID0gcmVxdWlyZSgnYmFja2JvbmUnKTtcblxudmFyIFJlcG9ydHNDb2xsZWN0aW9uID0gcmVxdWlyZSgnLi4vY29sbGVjdGlvbnMvcmVwb3J0cycpO1xudmFyIFVzZXJzQ29sbGVjdGlvbiA9IHJlcXVpcmUoJy4uL2NvbGxlY3Rpb25zL3VzZXJzJyk7XG5cblxudmFyIFN0b3BNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gIGRlZmF1bHRzOiB7XG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIGRpc3Q6IG51bGwsXG4gICAgY29kZTogbnVsbCxcbiAgICBuYW1lX2ZpOiBudWxsLFxuICAgIG5hbWVfc3Y6IG51bGwsXG4gICAgY2l0eV9maTogbnVsbCxcbiAgICBjaXR5X3N2OiBudWxsLFxuICAgIGNvb3JkczogbnVsbCxcbiAgICBjb2RlX3Nob3J0OiBudWxsLFxuICAgIGFkZHJlc3NfZmk6IG51bGwsXG4gICAgYWRkcmVzc19zdjogbnVsbCxcbiAgICByZXBvcnRzOiBudWxsLFxuICAgIHVzZXJzOiBudWxsXG4gIH0sXG4gIHVybDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLmdldCgnY29kZScpICE9PSB1bmRlZmluZWQgJiYgdGhpcy5nZXQoJ2NvZGUnKSAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuICdhcGkvc3RvcC8nK3RoaXMuZ2V0KCdjb2RlJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdGhpcy5nZXQoJ2NvZGVfc2hvcnQnKSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuZ2V0KCdjb2RlX3Nob3J0JykgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiAnYXBpL3N0b3AvJyt0aGlzLmdldCgnY29kZV9zaG9ydCcpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlcG9ydHMgPSBuZXcgUmVwb3J0c0NvbGxlY3Rpb24oe2NvZGU6IHRoaXMuZ2V0KCdjb2RlJyl9KTtcbiAgICB2YXIgdXNlcnMgPSBuZXcgVXNlcnNDb2xsZWN0aW9uKHtjb2RlOiB0aGlzLmdldCgnY29kZScpfSk7XG4gICAgdGhpcy5zZXQoe3JlcG9ydHM6IHJlcG9ydHMsIHVzZXJzOiB1c2Vyc30pO1xuXG4gICAgdGhpcy5saXN0ZW5Ubyh0aGlzLCAnY2hhbmdlOmNvZGUnLCBfLmJpbmQodGhpcy5vbkNvZGVDaGFuZ2UsIHRoaXMpKTtcbiAgfSxcbiAgb25Db2RlQ2hhbmdlOiBmdW5jdGlvbihtb2RlbCwgY29kZSkge1xuICAgIGNvbnNvbGUubG9nKCdzdG9wIGNvZGUgY2hhbmdlZCB0byAnK2NvZGUpO1xuICAgIHZhciByZXBvcnRzID0gbmV3IFJlcG9ydHNDb2xsZWN0aW9uKHtjb2RlOiBjb2RlfSk7XG4gICAgdmFyIHVzZXJzID0gbmV3IFVzZXJzQ29sbGVjdGlvbih7Y29kZTogY29kZX0pO1xuICAgIHRoaXMuc2V0KHtyZXBvcnRzOiByZXBvcnRzLCB1c2VyczogdXNlcnN9KTtcbiAgfSxcbiAgcmVwb3J0T0s6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdzdG9wICcrdGhpcy5nZXQoJ2NvZGUnKSsnIGlzIE9LJyk7XG4gIH0sXG4gIGdldFJlcG9ydHM6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdzdG9wOiBnZXQgcmVwb3J0cycpO1xuICAgIGlmICh0aGlzLmdldCgnY29kZScpICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmdldCgncmVwb3J0cycpLmZldGNoKCk7XG4gICAgfVxuICB9LFxuICBnZXRVc2VyczogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ3N0b3A6IGdldCB1c2VycycpO1xuICAgIGlmICh0aGlzLmdldCgnY29kZScpICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmdldCgndXNlcnMnKS5mZXRjaCgpO1xuICAgIH1cbiAgfSxcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN0b3BNb2RlbDsiLCIndXNlIHN0cmljdCc7XG52YXIgQmFja2JvbmUgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xuXG52YXIgVXNlck1vZGVsID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHtcbiAgdXJsOiAnL2FwaS91c2VyJyxcbiAgZGVmYXVsdHM6IHtcbiAgICBlbWFpbDogbnVsbCxcbiAgICBjb2RlOiBudWxsXG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFVzZXJNb2RlbDsiLCIndXNlIHN0cmljdCc7XG52YXIgTWFyaW9uZXR0ZSA9IHJlcXVpcmUoJ2JhY2tib25lLm1hcmlvbmV0dGUnKTtcbiAgXG52YXIgcm91dGVyID0gTWFyaW9uZXR0ZS5BcHBSb3V0ZXIuZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ3JvdXRlciBpbml0Jyk7XG4gIH0sXG4gIGFwcFJvdXRlczoge1xuICAgICcnOiAnd2VsY29tZScsXG4gICAgJ3N0b3AvOmNvZGUnOiAnc3RvcCcsXG4gICAgJ3JlcG9ydC86Y29kZSc6ICdyZXBvcnQnLFxuICAgICdhZG9wdC86Y29kZSc6ICdhZG9wdCdcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyIsIid1c2Ugc3RyaWN0JztcbnZhciBNYXJpb25ldHRlID0gcmVxdWlyZSgnYmFja2JvbmUubWFyaW9uZXR0ZScpO1xuXG52YXIgVGVtcGxhdGUgPSByZXF1aXJlKCcuLi8uLi8uLi90ZW1wbGF0ZXMvYWRvcHQvYWRvcHQuaGJzJyk7XG5cbnZhciBBZG9wdFZpZXcgPSBNYXJpb25ldHRlLkl0ZW1WaWV3LmV4dGVuZCh7XG4gIHRlbXBsYXRlOiBUZW1wbGF0ZSxcbiAgaWQ6ICdhZG9wdCcsXG4gIHVpOiB7XG4gICAgJ2ZpcnN0TmFtZSc6ICcjZmlyc3RuYW1lJyxcbiAgICAnbGFzdE5hbWUnOiAnI2xhc3RuYW1lJyxcbiAgICAnZW1haWwnOiAnI2VtYWlsJ1xuICB9LFxuICBldmVudHM6IHtcbiAgICAnc3VibWl0ICNhZG9wdC1mb3JtJzogJ3N1Ym1pdEFkb3B0JyxcbiAgICAna2V5dXAgLmZvcm0tY29udHJvbCc6ICdvbklucHV0S2V5dXAnLFxuICB9LFxuICB0ZW1wVmFsdWVzOiB7XG4gICAgJ2ZpcnN0bmFtZSc6ICcnLFxuICAgICdsYXN0bmFtZSc6ICcnLFxuICAgICdlbWFpbCc6ICcnXG4gIH0sXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBjb25zb2xlLmxvZygnaW5pdCBhZG9wdCB2aWV3Jywgb3B0aW9ucyk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsICdjaGFuZ2U6bmFtZV9maScsIHRoaXMucmVuZGVyKTtcbiAgfSxcbiAgc2VyaWFsaXplRGF0YTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNvbnRleHQgPSB7fTtcbiAgICBpZiAodGhpcy5tb2RlbCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxuXG4gICAgY29udGV4dCA9IHRoaXMubW9kZWwudG9KU09OKCk7XG4gICAgaWYgKChjb250ZXh0Lm5hbWUgPT09IG51bGwgfHwgdHlwZW9mIGNvbnRleHQubmFtZSA9PT0gJ3VuZGVmaW5lZCcpICYmIGNvbnRleHQubmFtZV9maSAhPT0gbnVsbCkge1xuICAgICAgY29udGV4dC5uYW1lID0gY29udGV4dC5uYW1lX2ZpO1xuICAgICAgY29udGV4dC5hZGRyZXNzID0gY29udGV4dC5hZGRyZXNzX2ZpO1xuICAgICAgY29udGV4dC5jaXR5ID0gY29udGV4dC5jaXR5X2ZpO1xuICAgIH1cblxuICAgIGNvbnRleHQgPSBfLmV4dGVuZChjb250ZXh0LCB0aGlzLnRlbXBWYWx1ZXMpO1xuICAgIHJldHVybiBjb250ZXh0O1xuICB9LFxuICBzdWJtaXRBZG9wdDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRhdGEgPSB7XG4gICAgICBmaXN0TmFtZTogdGhpcy51aS5maXN0TmFtZS52YWwoKSxcbiAgICAgIGxhc3ROYW1lOiB0aGlzLnVpLmxhc3ROYW1lLnZhbCgpLFxuICAgICAgZW1haWw6IHRoaXMudWkuZW1haWwudmFsKCksXG4gICAgICBzdG9wOiB0aGlzLm9wdGlvbnMuY29kZVxuICAgIH07XG4gICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBvbklucHV0S2V5dXA6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGlucHV0ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICB0aGlzLnRlbXBWYWx1ZXNbaW5wdXQuYXR0cignaWQnKV0gPSBpbnB1dC52YWwoKTtcbiAgICByZXR1cm47XG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFkb3B0VmlldzsiLCIndXNlIHN0cmljdCc7XG52YXIgTWFyaW9uZXR0ZSA9IHJlcXVpcmUoJ2JhY2tib25lLm1hcmlvbmV0dGUnKTtcbnZhciBUZW1wbGF0ZSA9IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy9pbmZvVGVhc2VyLmhicycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hcmlvbmV0dGUuSXRlbVZpZXcuZXh0ZW5kKHtcbiAgdGVtcGxhdGU6IFRlbXBsYXRlXG59KTsiLCIndXNlIHN0cmljdCc7XG52YXIgTWFyaW9uZXR0ZSA9IHJlcXVpcmUoJ2JhY2tib25lLm1hcmlvbmV0dGUnKTtcblxudmFyIFRlbXBsYXRlID0gcmVxdWlyZSgnLi4vLi4vdGVtcGxhdGVzL3JlcG9ydC5oYnMnKTtcbnZhciBSZXBvcnQgPSByZXF1aXJlKCcuLi9tb2RlbHMvcmVwb3J0Jyk7XG52YXIgU3RvcE5hbWVWaWV3ID0gcmVxdWlyZSgnLi9zdG9wL3N0b3BOYW1lVmlldycpO1xuXG5cbnZhciBSZXBvcnRWaWV3ID0gTWFyaW9uZXR0ZS5MYXlvdXQuZXh0ZW5kKHtcbiAgdGVtcGxhdGU6IFRlbXBsYXRlLFxuICBtb2RlbDogbnVsbCxcbiAgcmVnaW9uczoge1xuICAgIHN0b3BOYW1lOiAnI3JlcG9ydC1zdG9wLW5hbWUnXG4gIH0sXG4gIGV2ZW50czoge1xuICAgICdjbGljayAjZ2V0LXBpY3R1cmUnOiAnZ2V0UGljdHVyZScsXG4gICAgLy8nY2xpY2sgI3NlbmQtcmVwb3J0JzogJ3NlbmRSZXBvcnQnXG4gICAgJ3N1Ym1pdCAjcmVwb3J0LWZvcm0nOiAnc2VuZFJlcG9ydCcsXG4gICAgJ2tleXVwICNkZXNjcmlwdGlvbic6ICd1cGRhdGVDaGFyQ291bnQnLFxuICAgICdjbGljayAjcmVwb3J0LWJhY2snOiAnZ29CYWNrJ1xuICB9LFxuICB1aToge1xuICAgICdkZXNjcmlwdGlvbic6ICcjZGVzY3JpcHRpb24nLFxuICAgICdjaGFyQ291bnQnOiAnI2NoYXItY291bnQnLFxuICAgICdzZW5kUmVwb3J0JzogJyNzZW5kLXJlcG9ydCdcbiAgfSxcbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgY29uc29sZS5sb2coJ3JlcG9ydCB2aWV3IGluaXQ6ICcrdGhpcy5vcHRpb25zLmNvZGUpO1xuICAgIHRoaXMuY29kZSA9IHRoaXMub3B0aW9ucy5jb2RlO1xuICAgIHRoaXMubW9kZWwgPSB0aGlzLm9wdGlvbnMubW9kZWw7XG4gICAgdGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLCAnY2hhbmdlOmNvZGUnLCB0aGlzLnJlbmRlclN0b3BOYW1lKTtcbiAgfSxcbiAgb25SZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVuZGVyU3RvcE5hbWUoKTtcbiAgfSxcbiAgcmVuZGVyU3RvcE5hbWU6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdyZW5kZXIgc3RvcCBuYW1lJyk7XG4gICAgdGhpcy5zdG9wTmFtZS5zaG93KG5ldyBTdG9wTmFtZVZpZXcoe21vZGVsOiB0aGlzLm1vZGVsfSkpO1xuICB9LFxuICBzZXJpYWxpemVEYXRhOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgY29udGV4dCA9IHt9O1xuICAgIGlmICh0aGlzLm1vZGVsID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gY29udGV4dDtcbiAgICB9XG5cbiAgICBjb250ZXh0ID0gdGhpcy5tb2RlbC50b0pTT04oKTtcbiAgICBpZiAoY29udGV4dC5uYW1lID09PSBudWxsICYmIGNvbnRleHQubmFtZV9maSAhPT0gbnVsbCkge1xuICAgICAgY29udGV4dC5uYW1lID0gY29udGV4dC5uYW1lX2ZpO1xuICAgICAgY29udGV4dC5hZGRyZXNzID0gY29udGV4dC5hZGRyZXNzX2ZpO1xuICAgICAgY29udGV4dC5jaXR5ID0gY29udGV4dC5jaXR5X2ZpO1xuICAgIH1cbiAgICBjb250ZXh0LnNlcnZpY2VzID0gdGhpcy5nZXRTZXJ2aWNlcygpO1xuICAgIGNvbnNvbGUubG9nKCdjb250ZXh0JywgY29udGV4dCk7XG4gICAgcmV0dXJuIGNvbnRleHQ7XG4gIH0sXG4gIGdldFNlcnZpY2VzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VydmljZXM7XG4gICAgaWYgKHRydWUpIHtcbiAgICAgIHNlcnZpY2VzID0gW1xuICAgICAgICB7aWQ6ICcyMDEnLCBuYW1lOiAnSWxraXZhbHRhJ30sXG4gICAgICAgIHtpZDogJzE3MicsIG5hbWU6ICdSb3NrYWFtaW5lbid9LFxuICAgICAgICB7aWQ6ICcxNzcnLCBuYW1lOiAnVMO2aHJ5amVuIHBvaXN0byd9LFxuICAgICAgICB7aWQ6ICcyMDMnLCBuYW1lOiAnS3lsdGl0IGphIG9wYXN0ZWV0J30sXG4gICAgICAgIHtpZDogJzIwNycsIG5hbWU6ICdNdXUga29yamF0dGF2YSBhc2lhJ31cbiAgICAgIF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlcnZpY2VzID0gW1xuICAgICAgICB7aWQ6ICcxNzInLCBuYW1lOiAnSWxraXZhbHRhJ30sXG4gICAgICAgIHtpZDogJzI0NicsIG5hbWU6ICdSb3NrYWFtaW5lbid9LFxuICAgICAgICB7aWQ6ICcxNzYnLCBuYW1lOiAnVMO2aHJ5amVuIHBvaXN0byd9LFxuICAgICAgICB7aWQ6ICcxOTknLCBuYW1lOiAnS3lsdGl0IGphIG9wYXN0ZWV0J30sXG4gICAgICAgIHtpZDogJzE4MCcsIG5hbWU6ICdNdXUga29yamF0dGF2YSBhc2lhJ31cbiAgICAgIF07XG4gICAgfVxuICAgIHJldHVybiBzZXJ2aWNlcztcbiAgfSxcbiAgZ2V0UGljdHVyZTogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ2dldFBpY3R1cmUnKTtcbiAgfSxcbiAgdXBkYXRlQ2hhckNvdW50OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgY2hhcnMgPSB0aGlzLnVpLmRlc2NyaXB0aW9uLnZhbCgpLmxlbmd0aDtcbiAgICBpZiAoY2hhcnMgPCA5KSB7XG4gICAgICB0aGlzLnVpLmNoYXJDb3VudC50ZXh0KCdTecO2dMOkIHZpZWzDpCAnKygxMC1jaGFycykrJyBtZXJra2nDpCcpO1xuICAgIH0gZWxzZSBpZiAoY2hhcnMgPT09IDkpIHtcbiAgICAgIHRoaXMudWkuY2hhckNvdW50LnRleHQoJ1N5w7Z0w6QgdmllbMOkIDEgbWVya2tpJyk7XG4gICAgfVxuXG4gICAgaWYgKGNoYXJzIDwgMTApIHtcbiAgICAgIHRoaXMudWkuY2hhckNvdW50LnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgIHRoaXMudWkuc2VuZFJlcG9ydC5hdHRyKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVpLmNoYXJDb3VudC5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICB0aGlzLnVpLnNlbmRSZXBvcnQucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICB9XG4gIH0sXG4gIHNlbmRSZXBvcnQ6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgY29uc29sZS5sb2coJ3NlbmRSZXBvcnQnKTtcbiAgICB2YXIgcmVwb3J0ID0gbmV3IFJlcG9ydCgpO1xuICAgIFxuICAgIHZhciBkZXNjcmlwdGlvbiA9IHRoaXMudWkuZGVzY3JpcHRpb24udmFsKCk7XG4gICAgdmFyIHNlcnZpY2VfY29kZSA9IHRoaXMuJCgnaW5wdXRbbmFtZT1zZXJ2aWNlLWNvZGVdOmNoZWNrZWQnKS52YWwoKTtcbiAgICB2YXIgY29kZSA9IHRoaXMubW9kZWwuZ2V0KCdjb2RlJyk7XG4gICAgdmFyIGZpcnN0bmFtZSA9IHRoaXMuJCgnI2ZpcnN0bmFtZScpLnZhbCgpO1xuICAgIHZhciBsYXN0bmFtZSA9IHRoaXMuJCgnI2xhc3RuYW1lJykudmFsKCk7XG4gICAgdmFyIGVtYWlsID0gdGhpcy4kKCcjZW1haWwnKS52YWwoKTtcblxuICAgIHJlcG9ydC5zZXQoe1xuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxuICAgICAgc2VydmljZV9jb2RlOiAnJytzZXJ2aWNlX2NvZGUsXG4gICAgICBjb2RlOiAnJytjb2RlLFxuICAgICAgZmlyc3RfbmFtZTogZmlyc3RuYW1lLFxuICAgICAgbGFzdF9uYW1lOiBsYXN0bmFtZSxcbiAgICAgIGVtYWlsOiBlbWFpbFxuICAgIH0pO1xuICAgIFxuICAgIGlmICh0aGlzLm1vZGVsLmdldCgnd2dzX2Nvb3JkcycpICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIHRoaXMubW9kZWwuZ2V0KCd3Z3NfY29vcmRzJykgIT09IG51bGwpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdzZXRXZ3NDb29yZHMgJyt0aGlzLm1vZGVsLmdldCgnd2dzX2Nvb3JkcycpKTtcbiAgICAgIHJlcG9ydC5zZXRXZ3NDb29yZHModGhpcy5tb2RlbC5nZXQoJ3dnc19jb29yZHMnKSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLm1vZGVsLmdldCgnY29vcmRzJykgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgdGhpcy5tb2RlbC5nZXQoJ2Nvb3JkcycpICE9PSBudWxsKSB7XG4gICAgICBjb25zb2xlLmxvZygnc2V0WFlDb29yZHMgJyt0aGlzLm1vZGVsLmdldCgnY29vcmRzJykpO1xuICAgICAgcmVwb3J0LnNldENvb3Jkcyh0aGlzLm1vZGVsLmdldCgnY29vcmRzJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oJ2Nvb3JkcyBub3QgZm91bmQnLCB0aGlzLm1vZGVsKTtcbiAgICB9XG4gICAgcmVwb3J0LnNhdmUoe30sIHtlcnJvcjogXy5iaW5kKHRoaXMub25TYXZlRXJyb3IsIHRoaXMpfSk7XG4gICAgdGhpcy5vblNhdmVTdWNjZXNzKCk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIG9uU2F2ZUVycm9yOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiQoJyNyZXBvcnQtc2VudCcpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICB0aGlzLiQoJyNyZXBvcnQtZXJyb3InKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gIH0sXG4gIG9uU2F2ZVN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJCgnI3JlcG9ydC1mb3JtJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgIHRoaXMuJCgnI3JlcG9ydC1zZW50JykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICB9LFxuICBnb0JhY2s6IGZ1bmN0aW9uKCkge1xuICAgIGFwcFJvdXRlci5uYXZpZ2F0ZSgnc3RvcC8nK3RoaXMubW9kZWwuZ2V0KCdjb2RlJyksIHt0cmlnZ2VyOiB0cnVlfSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZXBvcnRWaWV3OyIsIid1c2Ugc3RyaWN0JztcbnZhciBNYXJpb25ldHRlID0gcmVxdWlyZSgnYmFja2JvbmUubWFyaW9uZXR0ZScpO1xuXG52YXIgVGVtcGxhdGUgPSByZXF1aXJlKCcuLi8uLi8uLi90ZW1wbGF0ZXMvc3RvcC9hc2tBZG9wdGlvbi5oYnMnKTtcblxudmFyIEFza0Fkb3B0aW9uVmlldyA9IE1hcmlvbmV0dGUuSXRlbVZpZXcuZXh0ZW5kKHtcbiAgdGVtcGxhdGU6IFRlbXBsYXRlLFxuICBldmVudHM6IHtcbiAgICAnY2xpY2sgI2Fkb3B0LXN0b3AnOiAnYWRvcHRTdG9wJ1xuICB9LFxuICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsICdjaGFuZ2U6Y29kZScsIHRoaXMucmVuZGVyKTtcbiAgfSxcbiAgYWRvcHRTdG9wOiBmdW5jdGlvbigpIHtcbiAgICBhcHBSb3V0ZXIubmF2aWdhdGUoJ2Fkb3B0LycrdGhpcy5tb2RlbC5nZXQoJ2NvZGUnKSwge3RyaWdnZXI6IHRydWV9KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIHNlcmlhbGl6ZURhdGE6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjb250ZXh0ID0gdGhpcy5tb2RlbC50b0pTT04oKTtcbiAgICBjb250ZXh0LnNob3dCdXR0b24gPSBjb250ZXh0LmNvZGUgIT09IG51bGw7XG4gICAgY29uc29sZS5sb2coY29udGV4dCk7XG4gICAgcmV0dXJuIGNvbnRleHQ7XG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFza0Fkb3B0aW9uVmlldzsiLCIndXNlIHN0cmljdCc7XG52YXIgTWFyaW9uZXR0ZSA9IHJlcXVpcmUoJ2JhY2tib25lLm1hcmlvbmV0dGUnKTtcblxudmFyIFRlbXBsYXRlID0gcmVxdWlyZSgnLi4vLi4vLi4vdGVtcGxhdGVzL3N0b3AvcmVwb3J0SXRlbS5oYnMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBNYXJpb25ldHRlLkl0ZW1WaWV3LmV4dGVuZCh7XG4gIHRlbXBsYXRlOiBUZW1wbGF0ZSxcbiAgdGFnTmFtZTogJ2xpJ1xufSk7IiwiJ3VzZSBzdHJpY3QnO1xudmFyIE1hcmlvbmV0dGUgPSByZXF1aXJlKCdiYWNrYm9uZS5tYXJpb25ldHRlJyk7XG5cbnZhciBUZW1wbGF0ZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3RlbXBsYXRlcy9zdG9wL3JlcG9ydExpbmsuaGJzJyk7XG5cbnZhciBSZXBvcnRMaW5rVmlldyA9IE1hcmlvbmV0dGUuSXRlbVZpZXcuZXh0ZW5kKHtcbiAgdGVtcGxhdGU6IFRlbXBsYXRlLFxuICBldmVudHM6IHtcbiAgICAnY2xpY2sgI3JlcG9ydC1vayc6ICdyZXBvcnRPSycsXG4gICAgJ2NsaWNrICNyZXBvcnQtcHJvYmxlbSc6ICdyZXBvcnRQcm9ibGVtJ1xuICB9LFxuICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsICdjaGFuZ2U6Y29kZScsIHRoaXMuX29uQ2hhbmdlU3RvcCk7XG4gIH0sXG4gIHJlcG9ydE9LOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5tb2RlbCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLm1vZGVsLnJlcG9ydE9LKCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICByZXBvcnRQcm9ibGVtOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5tb2RlbCA9PT0gbnVsbCB8fCB0aGlzLm1vZGVsLmdldCgnY29kZScpID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHdpbmRvdy5hcHBSb3V0ZXIubmF2aWdhdGUoJ3JlcG9ydC8nK3RoaXMubW9kZWwuZ2V0KCdjb2RlJyksIHt0cmlnZ2VyOiB0cnVlfSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBfb25DaGFuZ2VTdG9wOiBmdW5jdGlvbihtb2RlbCwgY29kZSkge1xuICAgIHRoaXMuJCgnI3JlcG9ydC1wcm9ibGVtJykuYXR0cignZGlzYWJsZWQnLCBjb2RlID09PSBudWxsKTtcbiAgICB0aGlzLiQoJyNyZXBvcnQtb2snKS5hdHRyKCdkaXNhYmxlZCcsIGNvZGUgPT09IG51bGwpO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZXBvcnRMaW5rVmlldzsiLCIndXNlIHN0cmljdCc7XG52YXIgTWFyaW9uZXR0ZSA9IHJlcXVpcmUoJ2JhY2tib25lLm1hcmlvbmV0dGUnKTtcblxudmFyIFRlbXBsYXRlID0gcmVxdWlyZSgnLi4vLi4vLi4vdGVtcGxhdGVzL3N0b3AvcmVwb3J0c0VtcHR5LmhicycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hcmlvbmV0dGUuSXRlbVZpZXcuZXh0ZW5kKHtcbiAgdGVtcGxhdGU6IFRlbXBsYXRlLFxuICB0YWdOYW1lOiAnbGknXG59KTsiLCIndXNlIHN0cmljdCc7XG52YXIgTWFyaW9uZXR0ZSA9IHJlcXVpcmUoJ2JhY2tib25lLm1hcmlvbmV0dGUnKTtcblxudmFyIFJlcG9ydEl0ZW1WaWV3ID0gcmVxdWlyZSgnLi9yZXBvcnRJdGVtVmlldycpO1xudmFyIFJlcG9ydHNFbXB0eVZpZXcgPSByZXF1aXJlKCcuL3JlcG9ydHNFbXB0eVZpZXcnKTtcbnZhciBUZW1wbGF0ZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3RlbXBsYXRlcy9zdG9wL3JlcG9ydHMuaGJzJyk7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBNYXJpb25ldHRlLkNvbXBvc2l0ZVZpZXcuZXh0ZW5kKHtcbiAgdGVtcGxhdGU6IFRlbXBsYXRlLFxuICBpdGVtVmlldzogUmVwb3J0SXRlbVZpZXcsXG4gIGl0ZW1WaWV3Q29udGFpbmVyOiAndWwnLFxuICBlbXB0eVZpZXc6IFJlcG9ydHNFbXB0eVZpZXdcbn0pOyIsIid1c2Ugc3RyaWN0JztcbnZhciBNYXJpb25ldHRlID0gcmVxdWlyZSgnYmFja2JvbmUubWFyaW9uZXR0ZScpO1xuXG52YXIgVGVtcGxhdGUgPSByZXF1aXJlKCcuLi8uLi8uLi90ZW1wbGF0ZXMvc3RvcC9zdG9wTmFtZS5oYnMnKTtcblxudmFyIFN0b3BOYW1lVmlldyA9IE1hcmlvbmV0dGUuSXRlbVZpZXcuZXh0ZW5kKHtcbiAgdGVtcGxhdGU6IFRlbXBsYXRlLFxuICBjbGFzc05hbWU6ICdjb2wteHMtMTIgY29sLXNtLTEyJyxcbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ3N0b3AgbmFtZSB2aWV3OiBpbml0JywgdGhpcy5vcHRpb25zKTtcbiAgICB0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsICdjaGFuZ2U6bmFtZV9maScsIHRoaXMucmVuZGVyKTtcbiAgfSxcbiAgc2VyaWFsaXplRGF0YTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdmFyIGNvbnRleHQgPSB0aGlzLm1vZGVsLnRvSlNPTigpO1xuICAgIGlmIChjb250ZXh0Lm5hbWUgPT09IHVuZGVmaW5lZCAmJiBjb250ZXh0Lm5hbWVfZmkgIT09IG51bGwpIHtcbiAgICAgIGNvbnRleHQubmFtZSA9IGNvbnRleHQubmFtZV9maTtcbiAgICAgIGNvbnRleHQuYWRkcmVzcyA9IGNvbnRleHQuYWRkcmVzc19maTtcbiAgICAgIGNvbnRleHQuY2l0eSA9IGNvbnRleHQuY2l0eV9maTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coJ3N0b3AgbmFtZSB2aWV3OiByZW5kZXInLCBjb250ZXh0KTtcbiAgICByZXR1cm4gY29udGV4dDtcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU3RvcE5hbWVWaWV3OyIsIid1c2Ugc3RyaWN0JztcbnZhciBNYXJpb25ldHRlID0gcmVxdWlyZSgnYmFja2JvbmUubWFyaW9uZXR0ZScpO1xuXG52YXIgVGVtcGxhdGUgPSByZXF1aXJlKCcuLi8uLi90ZW1wbGF0ZXMvc3RvcC5oYnMnKTtcbnZhciBVc2VyTW9kZWwgPSByZXF1aXJlKCcuLi9tb2RlbHMvdXNlcicpO1xudmFyIEluZm9UZWFzZXJWaWV3ID0gcmVxdWlyZSgnLi9pbmZvVGVhc2VyVmlldycpO1xudmFyIEFza0Fkb3B0aW9uVmlldyA9IHJlcXVpcmUoJy4vc3RvcC9hc2tBZG9wdGlvbicpO1xudmFyIFJlcG9ydHNDb2xsZWN0aW9uVmlldyA9IHJlcXVpcmUoJy4vc3RvcC9yZXBvcnRzVmlldycpO1xudmFyIFJlcG9ydExpbmtWaWV3ID0gcmVxdWlyZSgnLi9zdG9wL3JlcG9ydExpbmtWaWV3Jyk7XG52YXIgU3RvcE5hbWVWaWV3ID0gcmVxdWlyZSgnLi9zdG9wL3N0b3BOYW1lVmlldycpO1xuXG5cbnZhciBTdG9wVmlldyA9IE1hcmlvbmV0dGUuTGF5b3V0LmV4dGVuZCh7XG4gIHRlbXBsYXRlOiBUZW1wbGF0ZSxcbiAgcmVnaW9uczoge1xuICAgIG5hbWU6ICcjbmFtZScsXG4gICAgcmVwb3J0czogJyNzdG9wLXJlcG9ydHMtY29udGFpbmVyJyxcbiAgICByZXBvcnQ6ICcjc3RvcC1yZXBvcnQtc3RhdHVzJyxcbiAgICBhc2tBZG9wdGlvbjogJyNzdG9wLWFzay1hZG9wdGlvbicsXG4gICAgaW5mb1RlYXNlcjogJyNzdG9wLWluZm8tdGVhc2VyJ1xuICB9LFxuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIGNvbnNvbGUubG9nKCdzdG9wIHZpZXcgaW5pdCcpO1xuICAgIHRoaXMuY29kZSA9IHRoaXMub3B0aW9ucy5jb2RlO1xuICAgIHRoaXMuY29kZV9zaG9ydCA9IHRoaXMub3B0aW9ucy5jb2RlX3Nob3J0O1xuICAgIHRoaXMubW9kZWwgPSB0aGlzLm9wdGlvbnMuYXBwTW9kZWwuZ2V0KCdzdG9wJyk7XG4gICAgXG4gICAgdGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLmdldCgndXNlcnMnKSwgJ3Jlc2V0JywgdGhpcy5fb25Vc2Vycyk7XG4gICAgdGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLCAnY2hhbmdlOmNvZGUnLCB0aGlzLl9vbkNoYW5nZVN0b3ApO1xuICAgIHRoaXMubGlzdGVuVG8odGhpcy5tb2RlbCwgJ2NoYW5nZTpjb2RlX3Nob3J0JywgdGhpcy5fb25DaGFuZ2VTdG9wKTtcbiAgfSxcbiAgb25SZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubmFtZS5zaG93KG5ldyBTdG9wTmFtZVZpZXcoe21vZGVsOiB0aGlzLm1vZGVsfSkpO1xuICAgIHRoaXMucmVwb3J0LnNob3cobmV3IFJlcG9ydExpbmtWaWV3KHttb2RlbDogdGhpcy5tb2RlbH0pKTtcbiAgICB0aGlzLnJlcG9ydHMuc2hvdyhuZXcgUmVwb3J0c0NvbGxlY3Rpb25WaWV3KHtjb2xsZWN0aW9uOiB0aGlzLm1vZGVsLmdldCgncmVwb3J0cycpfSkpO1xuICAgIHRoaXMuYXNrQWRvcHRpb24uc2hvdyhuZXcgQXNrQWRvcHRpb25WaWV3KHttb2RlbDogdGhpcy5tb2RlbH0pKTtcbiAgICB0aGlzLmluZm9UZWFzZXIuc2hvdyhuZXcgSW5mb1RlYXNlclZpZXcoKSk7XG4gIH0sXG4gIF9vbkNoYW5nZVN0b3A6IGZ1bmN0aW9uKHN0b3ApIHtcbiAgICBjb25zb2xlLmxvZygnc3RvcFZpZXc6IHN0b3AgJytzdG9wLmdldCgnY29kZScpKycgbG9hZGVkJywgc3RvcCk7XG4gICAgaWYgKChzdG9wLmdldCgnY29kZScpICE9PSB0aGlzLmNvZGUgfHwgdGhpcy5jb2RlID09PSBudWxsKSAmJlxuICAgICAgKHN0b3AuZ2V0KCdjb2RlX3Nob3J0JykgIT09IHRoaXMuY29kZV9zaG9ydCB8fCB0aGlzLmNvZGVfc2hvcnQgPT09IG51bGwpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubW9kZWwgPSBzdG9wO1xuICAgIHRoaXMucmVuZGVyKCk7XG4gICAgXG4gICAgdGhpcy5tb2RlbC5nZXRSZXBvcnRzKCk7XG4gICAgdGhpcy5tb2RlbC5nZXRVc2VycygpO1xuICB9LFxuICBfb25Vc2VyczogZnVuY3Rpb24oY29sbGVjdGlvbikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgY29uc29sZS5sb2coJ3VzZXJzJywgY29sbGVjdGlvbik7XG4gICAgdmFyIHVzZXJzID0gXy51bmlxKGNvbGxlY3Rpb24ubW9kZWxzLCBmYWxzZSwgZnVuY3Rpb24odXNlcikge1xuICAgICAgcmV0dXJuIHVzZXIuZ2V0KCdlbWFpbCcpO1xuICAgIH0pO1xuICAgIF8uZWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikge1xuICAgICAgX3RoaXMuJCgnI3N0b3AtdXNlcnMnKS5hcHBlbmQoJzxwPicrdXNlci5nZXQoJ2VtYWlsJykrJzwvcD4nKTtcbiAgICB9KTtcbiAgfSxcbiAgYWRvcHRTdG9wOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiQoJyNhZG9wdC1mb3JtJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgIHRoaXMuJCgnI2Fkb3B0LXN0b3AnKS5yZW1vdmUoKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGFkb3B0U2VuZDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGVtYWlsID0gdGhpcy4kKCcjZW1haWwnKS52YWwoKTtcbiAgICB2YXIgdXNlciA9IG5ldyBVc2VyTW9kZWwoe2VtYWlsOiBlbWFpbCwgY29kZTogdGhpcy5tb2RlbC5nZXQoJ2NvZGUnKX0pO1xuICAgIHVzZXIuc2F2ZSgpO1xuICAgIHRoaXMuJCgnI2Fkb3B0LWZvcm0nKS5odG1sKCc8cCBjbGFzcz1cInRleHQtc3VjY2Vzc1wiPk9sZXQgbnl0IHB5c8Oka2luIGt1bW1pITwvcD4nKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIHVzZXJDcmVhdGVkOiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygndXNlciBjcmVhdGVkJyk7XG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN0b3BWaWV3OyIsIid1c2Ugc3RyaWN0JztcbnZhciBNYXJpb25ldHRlID0gcmVxdWlyZSgnYmFja2JvbmUubWFyaW9uZXR0ZScpO1xuXG52YXIgU3RvcEl0ZW1WaWV3ID0gcmVxdWlyZSgnLi9zdG9wSXRlbVZpZXcnKTtcbnZhciBUZW1wbGF0ZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3RlbXBsYXRlcy93ZWxjb21lL25lYXJieS5oYnMnKTtcblxudmFyIE5lYXJieVZpZXcgPSBNYXJpb25ldHRlLkNvbXBvc2l0ZVZpZXcuZXh0ZW5kKHtcbiAgaXRlbVZpZXc6IFN0b3BJdGVtVmlldyxcbiAgdGVtcGxhdGU6IFRlbXBsYXRlLFxuICBpdGVtVmlld0NvbnRhaW5lcjogJ3VsJyxcbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ25lYXJieSBpbml0JywgdGhpcy5jb2xsZWN0aW9uKTtcbiAgfSxcbiAgb25Db21wb3NpdGVDb2xsZWN0aW9uUmVuZGVyZWQ6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdvbiBjb21wb3NpdGUgcmVuZGVyZWQnLCB0aGlzLiQoJyNsb2FkaW5nLXN0b3BzJykpO1xuICAgIHRoaXMuJCgnI2xvYWRpbmctc3RvcHMnKS50b2dnbGUodGhpcy5jb2xsZWN0aW9uLmxlbmd0aCA9PT0gMCk7XG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE5lYXJieVZpZXc7IiwiJ3VzZSBzdHJpY3QnO1xudmFyIE1hcmlvbmV0dGUgPSByZXF1aXJlKCdiYWNrYm9uZS5tYXJpb25ldHRlJyk7XG5cbnZhciBUZW1wbGF0ZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3RlbXBsYXRlcy93ZWxjb21lL3NlYXJjaC5oYnMnKTtcblxuXG52YXIgU2VhcmNoVmlldyA9IE1hcmlvbmV0dGUuSXRlbVZpZXcuZXh0ZW5kKHtcbiAgdGVtcGxhdGU6IFRlbXBsYXRlLFxuICBldmVudHM6IHtcbiAgICAnY2xpY2sgI2ZpbmQtc3RvcCc6ICdmaW5kU3RvcCdcbiAgfSxcbiAgZmluZFN0b3A6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjb2RlID0gdGhpcy4kKCcjc3RvcC1pZCcpLnZhbCgpO1xuICAgIGlmIChjb2RlID09PSAnJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBhcHBSb3V0ZXIubmF2aWdhdGUoJ3N0b3AvJytjb2RlLCB7dHJpZ2dlcjogdHJ1ZX0pO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU2VhcmNoVmlldzsiLCIndXNlIHN0cmljdCc7XG52YXIgTWFyaW9uZXR0ZSA9IHJlcXVpcmUoJ2JhY2tib25lLm1hcmlvbmV0dGUnKTtcblxudmFyIFRlbXBsYXRlID0gcmVxdWlyZSgnLi4vLi4vLi4vdGVtcGxhdGVzL3dlbGNvbWUvc3RvcEl0ZW0uaGJzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gTWFyaW9uZXR0ZS5JdGVtVmlldy5leHRlbmQoe1xuICB0ZW1wbGF0ZTogVGVtcGxhdGUsXG4gIHRhZ05hbWU6ICdsaSdcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIE1hcmlvbmV0dGUgPSByZXF1aXJlKCdiYWNrYm9uZS5tYXJpb25ldHRlJyk7XG5cbnZhciBOZWFyYnlWaWV3ID0gcmVxdWlyZSgnLi93ZWxjb21lL25lYXJieVZpZXcnKTtcbnZhciBTZWFyY2hWaWV3ID0gcmVxdWlyZSgnLi93ZWxjb21lL3NlYXJjaFZpZXcnKTtcbnZhciBJbmZvVGVhc2VyVmlldyA9IHJlcXVpcmUoJy4vaW5mb1RlYXNlclZpZXcnKTtcbnZhciBUZW1wbGF0ZSA9IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy93ZWxjb21lLmhicycpO1xuXG5cbnZhciBXZWxjb21lVmlldyA9IE1hcmlvbmV0dGUuTGF5b3V0LmV4dGVuZCh7XG4gIHRlbXBsYXRlOiBUZW1wbGF0ZSxcbiAgcmVnaW9uczoge1xuICAgIGluZm9UZWFzZXI6ICcjd2VsY29tZS1pbmZvLXRlYXNlcicsXG4gICAgbmVhcmJ5OiAnI3dlbGNvbWUtbmVhcmJ5JyxcbiAgICBzZWFyY2g6ICcjd2VsY29tZS1zZWFyY2gnXG4gIH0sXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIGNvbnNvbGUubG9nKCdpbml0IHdlbGNvbWUgdmlldycpO1xuICAgIENvbW11bmljYXRvci5tZWRpYXRvci5vbigncG9zaXRpb246ZXJyb3InLCB0aGlzLm9uUG9zaXRpb25FcnJvciwgdGhpcyk7XG4gICAgdGhpcy5jb2xsZWN0aW9uID0gdGhpcy5vcHRpb25zLmFwcE1vZGVsLmdldCgnc3RvcHMnKTtcbiAgfSxcbiAgb25SZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5mb1RlYXNlci5zaG93KG5ldyBJbmZvVGVhc2VyVmlldygpKTtcbiAgICB0aGlzLnNlYXJjaC5zaG93KG5ldyBTZWFyY2hWaWV3KCkpO1xuICAgIHRoaXMubmVhcmJ5LnNob3coXG4gICAgICBuZXcgTmVhcmJ5Vmlldyh7Y29sbGVjdGlvbjogdGhpcy5jb2xsZWN0aW9ufSlcbiAgICApO1xuICB9LFxuICBzZXJpYWxpemVEYXRhOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgY29udGV4dCA9IHtcbiAgICAgIGdlb0xvY2F0aW9uOiAoJ2dlb2xvY2F0aW9uJyBpbiBuYXZpZ2F0b3IpXG4gICAgfTtcbiAgICByZXR1cm4gY29udGV4dDtcbiAgfSxcbiAgb25Qb3NpdGlvbkVycm9yOiBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygnd2VsY29tZSB2aWV3OiBwb3NpdGlvbiBlcnJvcicpO1xuICAgIHRoaXMuJCgnI3dlbGNvbWUtbmVhcmJ5JykuaGlkZSgpO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBXZWxjb21lVmlldzsiLCIvLyBoYnNmeSBjb21waWxlZCBIYW5kbGViYXJzIHRlbXBsYXRlXG52YXIgSGFuZGxlYmFycyA9IHJlcXVpcmUoJ2hic2Z5L3J1bnRpbWUnKTtcbm1vZHVsZS5leHBvcnRzID0gSGFuZGxlYmFycy50ZW1wbGF0ZShmdW5jdGlvbiAoSGFuZGxlYmFycyxkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gIHRoaXMuY29tcGlsZXJJbmZvID0gWzQsJz49IDEuMC4wJ107XG5oZWxwZXJzID0gdGhpcy5tZXJnZShoZWxwZXJzLCBIYW5kbGViYXJzLmhlbHBlcnMpOyBkYXRhID0gZGF0YSB8fCB7fTtcbiAgdmFyIGJ1ZmZlciA9IFwiXCIsIHN0YWNrMSwgaGVscGVyLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgc2VsZj10aGlzO1xuXG5mdW5jdGlvbiBwcm9ncmFtMShkZXB0aDAsZGF0YSkge1xuICBcbiAgdmFyIGJ1ZmZlciA9IFwiXCIsIHN0YWNrMSwgaGVscGVyO1xuICBidWZmZXIgKz0gXCJcXG48ZGl2IGNsYXNzPVxcXCJyb3cgaGVhZGVyXFxcIj5cXG4gIDxkaXYgY2xhc3M9XFxcImNvbC14cy0xMiBjb2wtc20tMTJcXFwiPlxcbiAgICA8aDI+UnloZHkgcHlzw6RraW4gPHNwYW4+XCI7XG4gIGlmIChoZWxwZXIgPSBoZWxwZXJzLm5hbWUpIHsgc3RhY2sxID0gaGVscGVyLmNhbGwoZGVwdGgwLCB7aGFzaDp7fSxkYXRhOmRhdGF9KTsgfVxuICBlbHNlIHsgaGVscGVyID0gKGRlcHRoMCAmJiBkZXB0aDAubmFtZSk7IHN0YWNrMSA9IHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge2hhc2g6e30sZGF0YTpkYXRhfSkgOiBoZWxwZXI7IH1cbiAgYnVmZmVyICs9IGVzY2FwZUV4cHJlc3Npb24oc3RhY2sxKVxuICAgICsgXCI8L3NwYW4+IGt1bW1pa3NpITwvaDI+XFxuICA8L2Rpdj5cXG48L2Rpdj5cXG5cIjtcbiAgcmV0dXJuIGJ1ZmZlcjtcbiAgfVxuXG4gIHN0YWNrMSA9IGhlbHBlcnNbJ2lmJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgJiYgZGVwdGgwLm5hbWUpLCB7aGFzaDp7fSxpbnZlcnNlOnNlbGYubm9vcCxmbjpzZWxmLnByb2dyYW0oMSwgcHJvZ3JhbTEsIGRhdGEpLGRhdGE6ZGF0YX0pO1xuICBpZihzdGFjazEgfHwgc3RhY2sxID09PSAwKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cbiAgYnVmZmVyICs9IFwiXFxuXFxuPGZvcm0gcm9sZT1cXFwiZm9ybVxcXCIgaWQ9XFxcImFkb3B0LWZvcm1cXFwiPlxcbiAgPGZpZWxkc2V0PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWlubGluZSBmb3JtLWdyb3VwXFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcImZpcnN0bmFtZVxcXCI+RXR1bmltaTwvbGFiZWw+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgaWQ9XFxcImZpcnN0bmFtZVxcXCIgbmFtZT1cXFwiZmlyc3RuYW1lXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiByZXF1aXJlZCBhdXRvZm9jdXM9XFxcImF1dG9mb2N1c1xcXCIgdmFsdWU9XFxcIlwiO1xuICBpZiAoaGVscGVyID0gaGVscGVycy5maXJzdG5hbWUpIHsgc3RhY2sxID0gaGVscGVyLmNhbGwoZGVwdGgwLCB7aGFzaDp7fSxkYXRhOmRhdGF9KTsgfVxuICBlbHNlIHsgaGVscGVyID0gKGRlcHRoMCAmJiBkZXB0aDAuZmlyc3RuYW1lKTsgc3RhY2sxID0gdHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7aGFzaDp7fSxkYXRhOmRhdGF9KSA6IGhlbHBlcjsgfVxuICBidWZmZXIgKz0gZXNjYXBlRXhwcmVzc2lvbihzdGFjazEpXG4gICAgKyBcIlxcXCIvPlxcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwibGFzdG5hbWVcXFwiPlN1a3VuaW1pPC9sYWJlbD5cXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBpZD1cXFwibGFzdG5hbWVcXFwiIG5hbWU9XFxcImxhc3RuYW1lXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiByZXF1aXJlZCB2YWx1ZT1cXFwiXCI7XG4gIGlmIChoZWxwZXIgPSBoZWxwZXJzLmxhc3RuYW1lKSB7IHN0YWNrMSA9IGhlbHBlci5jYWxsKGRlcHRoMCwge2hhc2g6e30sZGF0YTpkYXRhfSk7IH1cbiAgZWxzZSB7IGhlbHBlciA9IChkZXB0aDAgJiYgZGVwdGgwLmxhc3RuYW1lKTsgc3RhY2sxID0gdHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7aGFzaDp7fSxkYXRhOmRhdGF9KSA6IGhlbHBlcjsgfVxuICBidWZmZXIgKz0gZXNjYXBlRXhwcmVzc2lvbihzdGFjazEpXG4gICAgKyBcIlxcXCIvPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuICAgICAgPGxhYmVsIGZvcj1cXFwiZW1haWxcXFwiPlPDpGhrw7Zwb3N0aTwvbGFiZWw+XFxuICAgICAgPGlucHV0IHR5cGU9XFxcImVtYWlsXFxcIiBpZD1cXFwiZW1haWxcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIHJlcXVpcmVkIHZhbHVlPVxcXCJcIjtcbiAgaWYgKGhlbHBlciA9IGhlbHBlcnMuZW1haWwpIHsgc3RhY2sxID0gaGVscGVyLmNhbGwoZGVwdGgwLCB7aGFzaDp7fSxkYXRhOmRhdGF9KTsgfVxuICBlbHNlIHsgaGVscGVyID0gKGRlcHRoMCAmJiBkZXB0aDAuZW1haWwpOyBzdGFjazEgPSB0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtoYXNoOnt9LGRhdGE6ZGF0YX0pIDogaGVscGVyOyB9XG4gIGJ1ZmZlciArPSBlc2NhcGVFeHByZXNzaW9uKHN0YWNrMSlcbiAgICArIFwiXFxcIi8+XFxuICAgIDwvZGl2PlxcblxcbiAgICA8YnV0dG9uIGlkPVxcXCJzZW5kLWFkb3B0XFxcIiB0eXBlPVxcXCJzdWJtaXRcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiPlJ5aGR5IGt1bW1pa3NpPC9idXR0b24+XFxuICA8L2ZpZWxkc2V0PlxcbjwvZm9ybT5cIjtcbiAgcmV0dXJuIGJ1ZmZlcjtcbiAgfSk7XG4iLCIvLyBoYnNmeSBjb21waWxlZCBIYW5kbGViYXJzIHRlbXBsYXRlXG52YXIgSGFuZGxlYmFycyA9IHJlcXVpcmUoJ2hic2Z5L3J1bnRpbWUnKTtcbm1vZHVsZS5leHBvcnRzID0gSGFuZGxlYmFycy50ZW1wbGF0ZShmdW5jdGlvbiAoSGFuZGxlYmFycyxkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gIHRoaXMuY29tcGlsZXJJbmZvID0gWzQsJz49IDEuMC4wJ107XG5oZWxwZXJzID0gdGhpcy5tZXJnZShoZWxwZXJzLCBIYW5kbGViYXJzLmhlbHBlcnMpOyBkYXRhID0gZGF0YSB8fCB7fTtcbiAgXG5cblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJjb2wteHMtMTIgY29sLXNtLTYgY29sLW1kLThcXFwiPlxcbiAgPGgzPk1pa8OkIG9uIHB5c8Oka2tpa3VtbWk/PC9oMz5cXG4gIDxwPlB5c8Oka2tpa3VtbWkgb24gcGFsdmVsdSwgam9ua2EgYXZ1bGxhIGlobWlzZXQgdm9pdmF0IGtlcnRvYSBqb3MgSFNMOm4gcHlzw6RrZWlsbMOkIG9uIGpvdGFpbiBwaWVsZXNzw6QuPC9wPlxcbiAgPGEgaHJlZj1cXFwiI1xcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCI+THVlIGxpc8Okw6QgJnJhcXVvOzwvYT5cXG48L2Rpdj5cIjtcbiAgfSk7XG4iLCIvLyBoYnNmeSBjb21waWxlZCBIYW5kbGViYXJzIHRlbXBsYXRlXG52YXIgSGFuZGxlYmFycyA9IHJlcXVpcmUoJ2hic2Z5L3J1bnRpbWUnKTtcbm1vZHVsZS5leHBvcnRzID0gSGFuZGxlYmFycy50ZW1wbGF0ZShmdW5jdGlvbiAoSGFuZGxlYmFycyxkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gIHRoaXMuY29tcGlsZXJJbmZvID0gWzQsJz49IDEuMC4wJ107XG5oZWxwZXJzID0gdGhpcy5tZXJnZShoZWxwZXJzLCBIYW5kbGViYXJzLmhlbHBlcnMpOyBkYXRhID0gZGF0YSB8fCB7fTtcbiAgdmFyIGJ1ZmZlciA9IFwiXCIsIHN0YWNrMSwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb24sIHNlbGY9dGhpcztcblxuZnVuY3Rpb24gcHJvZ3JhbTEoZGVwdGgwLGRhdGEpIHtcbiAgXG4gIHZhciBidWZmZXIgPSBcIlwiLCBzdGFjazEsIGhlbHBlcjtcbiAgYnVmZmVyICs9IFwiXFxuICAgICAgPGRpdiBjbGFzcz1cXFwicmFkaW9cXFwiPlxcbiAgICAgICAgPGxhYmVsPlxcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwicmFkaW9cXFwiIG5hbWU9XFxcInNlcnZpY2UtY29kZVxcXCIgaWQ9XFxcInNlcnZpY2VfY29kZV9cIjtcbiAgaWYgKGhlbHBlciA9IGhlbHBlcnMuaWQpIHsgc3RhY2sxID0gaGVscGVyLmNhbGwoZGVwdGgwLCB7aGFzaDp7fSxkYXRhOmRhdGF9KTsgfVxuICBlbHNlIHsgaGVscGVyID0gKGRlcHRoMCAmJiBkZXB0aDAuaWQpOyBzdGFjazEgPSB0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtoYXNoOnt9LGRhdGE6ZGF0YX0pIDogaGVscGVyOyB9XG4gIGJ1ZmZlciArPSBlc2NhcGVFeHByZXNzaW9uKHN0YWNrMSlcbiAgICArIFwiXFxcIiB2YWx1ZT1cXFwiXCI7XG4gIGlmIChoZWxwZXIgPSBoZWxwZXJzLmlkKSB7IHN0YWNrMSA9IGhlbHBlci5jYWxsKGRlcHRoMCwge2hhc2g6e30sZGF0YTpkYXRhfSk7IH1cbiAgZWxzZSB7IGhlbHBlciA9IChkZXB0aDAgJiYgZGVwdGgwLmlkKTsgc3RhY2sxID0gdHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7aGFzaDp7fSxkYXRhOmRhdGF9KSA6IGhlbHBlcjsgfVxuICBidWZmZXIgKz0gZXNjYXBlRXhwcmVzc2lvbihzdGFjazEpXG4gICAgKyBcIlxcXCIgLz5cXG4gICAgICAgICAgXCI7XG4gIGlmIChoZWxwZXIgPSBoZWxwZXJzLm5hbWUpIHsgc3RhY2sxID0gaGVscGVyLmNhbGwoZGVwdGgwLCB7aGFzaDp7fSxkYXRhOmRhdGF9KTsgfVxuICBlbHNlIHsgaGVscGVyID0gKGRlcHRoMCAmJiBkZXB0aDAubmFtZSk7IHN0YWNrMSA9IHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge2hhc2g6e30sZGF0YTpkYXRhfSkgOiBoZWxwZXI7IH1cbiAgYnVmZmVyICs9IGVzY2FwZUV4cHJlc3Npb24oc3RhY2sxKVxuICAgICsgXCJcXG4gICAgICAgIDwvbGFiZWw+XFxuICAgICAgPC9kaXY+XFxuICAgICAgXCI7XG4gIHJldHVybiBidWZmZXI7XG4gIH1cblxuICBidWZmZXIgKz0gXCI8ZGl2IGlkPVxcXCJyZXBvcnQtc3RvcC1uYW1lXFxcIiBjbGFzcz1cXFwicm93XFxcIj48L2Rpdj5cXG5cXG48Zm9ybSByb2xlPVxcXCJmb3JtXFxcIiBpZD1cXFwicmVwb3J0LWZvcm1cXFwiPlxcbiAgPGZpZWxkc2V0PlxcbiAgICA8cD5WYWxpdHNlIHZhaWh0b2VoZG9pc3RhIHNvcGl2aW4gamEga3V2YWlsZSBvbmdlbG1hYSBtdXV0YW1hbGxhIHNhbmFsbGEuPC9wPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJzZXJ2aWNlX2NvZGVfMjAxXFxcIj5PbmdlbG1hPC9sYWJlbD5cXG4gICAgICBcIjtcbiAgc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwLCAoZGVwdGgwICYmIGRlcHRoMC5zZXJ2aWNlcyksIHtoYXNoOnt9LGludmVyc2U6c2VsZi5ub29wLGZuOnNlbGYucHJvZ3JhbSgxLCBwcm9ncmFtMSwgZGF0YSksZGF0YTpkYXRhfSk7XG4gIGlmKHN0YWNrMSB8fCBzdGFjazEgPT09IDApIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxuICBidWZmZXIgKz0gXCJcXG4gICAgPC9kaXY+XFxuXFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgIDxsYWJlbCBmb3I9XFxcImRlc2NyaXB0aW9uXFxcIj5NaWvDpCBvbiBwaWVsZXNzw6Q/PC9sYWJlbD5cXG4gICAgICA8dGV4dGFyZWEgbmFtZT1cXFwiZGVzY3JpcHRpb25cXFwiIGlkPVxcXCJkZXNjcmlwdGlvblxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgcm93cz1cXFwiM1xcXCI+PC90ZXh0YXJlYT5cXG4gICAgICA8c3BhbiBjbGFzcz1cXFwiaGVscC1ibG9ja1xcXCIgaWQ9XFxcImNoYXItY291bnRcXFwiPjwvc3Bhbj5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgaGlkZGVuXFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJpbWFnZS1waWNrZXJcXFwiPk90YSBrdXZhPC9sYWJlbD5cXG4gICAgICA8aW5wdXQgaWQ9XFxcImltYWdlLXBpY2tlclxcXCIgdHlwZT1cXFwiZmlsZVxcXCIgYWNjZXB0PVxcXCJpbWFnZS8qXFxcIiAvPlxcbiAgICA8L2Rpdj5cXG5cXG4gICAgPHA+VGFydml0c2VtbWUgbXnDtnMgbmltZXNpLiBBbm5hIGxpc8Oka3NpIHPDpGhrw7Zwb3N0aW9zb2l0dGVlc2ksIGpvcyBoYWx1YXQga3VpdHRhdWtzZW4ga3VuIG9sZW1tZSBrw6RzaXRlbGxlZXQgaWxtb2l0dWtzZXNpLjwvcD5cXG5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1pbmxpbmUgZm9ybS1ncm91cFxcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJmaXJzdG5hbWVcXFwiPkV0dW5pbWk8L2xhYmVsPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGlkPVxcXCJmaXJzdG5hbWVcXFwiIG5hbWU9XFxcImZpcnN0bmFtZVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgcmVxdWlyZWQgLz5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcImxhc3RuYW1lXFxcIj5TdWt1bmltaTwvbGFiZWw+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgaWQ9XFxcImxhc3RuYW1lXFxcIiBuYW1lPVxcXCJsYXN0bmFtZVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgcmVxdWlyZWQgLz5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgIDxsYWJlbCBmb3I9XFxcImVtYWlsXFxcIj5Tw6Roa8O2cG9zdGkgKGpvcyBoYWx1YXQga3VpdHRhdWtzZW4pPC9sYWJlbD5cXG4gICAgICA8aW5wdXQgdHlwZT1cXFwiZW1haWxcXFwiIGlkPVxcXCJlbWFpbFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgLz5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxidXR0b24gaWQ9XFxcInNlbmQtcmVwb3J0XFxcIiB0eXBlPVxcXCJzdWJtaXRcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIGRpc2FibGVkPVxcXCJkaXNhYmxlZFxcXCI+TMOkaGV0w6Q8L2J1dHRvbj5cXG4gIDwvZmllbGRzZXQ+XFxuPC9mb3JtPlxcblxcbjxkaXYgaWQ9XFxcInJlcG9ydC1zZW50XFxcIiBjbGFzcz1cXFwiaGlkZGVuXFxcIj5cXG4gIDxwIGNsYXNzPVxcXCJ0ZXh0LXN1Y2Nlc3NcXFwiPlZpZXN0aXNpIG9uIGzDpGhldGV0dHkhPC9wPlxcbiAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIGlkPVxcXCJyZXBvcnQtYmFja1xcXCI+VGFrYWlzaW48L2J1dHRvbj5cXG48L2Rpdj5cXG5cXG48ZGl2IGlkPVxcXCJyZXBvcnQtZXJyb3JcXFwiIGNsYXNzPVxcXCJoaWRkZW5cXFwiPlxcbiAgPHAgY2xhc3M9XFxcInRleHQtd2FybmluZ1xcXCI+Vmllc3RpbiBsw6RoZXR0w6RtaW5lbiBlcMOkb25uaXN0dWkuPC9wPlxcbiAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIGlkPVxcXCJyZXBvcnQtYmFja1xcXCI+VGFrYWlzaW48L2J1dHRvbj5cXG48L2Rpdj5cIjtcbiAgcmV0dXJuIGJ1ZmZlcjtcbiAgfSk7XG4iLCIvLyBoYnNmeSBjb21waWxlZCBIYW5kbGViYXJzIHRlbXBsYXRlXG52YXIgSGFuZGxlYmFycyA9IHJlcXVpcmUoJ2hic2Z5L3J1bnRpbWUnKTtcbm1vZHVsZS5leHBvcnRzID0gSGFuZGxlYmFycy50ZW1wbGF0ZShmdW5jdGlvbiAoSGFuZGxlYmFycyxkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gIHRoaXMuY29tcGlsZXJJbmZvID0gWzQsJz49IDEuMC4wJ107XG5oZWxwZXJzID0gdGhpcy5tZXJnZShoZWxwZXJzLCBIYW5kbGViYXJzLmhlbHBlcnMpOyBkYXRhID0gZGF0YSB8fCB7fTtcbiAgXG5cblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiIGlkPVxcXCJuYW1lXFxcIj48L2Rpdj5cXG5cXG48ZGl2IGNsYXNzPVxcXCJyb3dcXFwiIGlkPVxcXCJzdG9wLXVzZXJzLWNvbnRhaW5lclxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmVcXFwiPlxcbiAgPGRpdiBjbGFzcz1cXFwiY29sLXhzLTEyIGNvbC1zbS0xMlxcXCI+XFxuICAgIDxoMz5QeXPDpGtpbiBrdW1taXQ8L2gzPlxcbiAgICA8ZGl2IGlkPVxcXCJzdG9wLXVzZXJzXFxcIj48L2Rpdj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcbjxkaXYgY2xhc3M9XFxcInJvd1xcXCIgaWQ9XFxcInN0b3AtcmVwb3J0LXN0YXR1c1xcXCI+PC9kaXY+XFxuPGRpdiBjbGFzcz1cXFwicm93XFxcIiBpZD1cXFwic3RvcC1yZXBvcnRzLWNvbnRhaW5lclxcXCI+PC9kaXY+XFxuPGRpdiBjbGFzcz1cXFwicm93XFxcIiBpZD1cXFwic3RvcC1hc2stYWRvcHRpb25cXFwiPjwvZGl2PlxcbjxkaXYgY2xhc3M9XFxcInJvd1xcXCIgaWQ9XFxcInN0b3AtaW5mby10ZWFzZXJcXFwiPjwvZGl2PlwiO1xuICB9KTtcbiIsIi8vIGhic2Z5IGNvbXBpbGVkIEhhbmRsZWJhcnMgdGVtcGxhdGVcbnZhciBIYW5kbGViYXJzID0gcmVxdWlyZSgnaGJzZnkvcnVudGltZScpO1xubW9kdWxlLmV4cG9ydHMgPSBIYW5kbGViYXJzLnRlbXBsYXRlKGZ1bmN0aW9uIChIYW5kbGViYXJzLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgdGhpcy5jb21waWxlckluZm8gPSBbNCwnPj0gMS4wLjAnXTtcbmhlbHBlcnMgPSB0aGlzLm1lcmdlKGhlbHBlcnMsIEhhbmRsZWJhcnMuaGVscGVycyk7IGRhdGEgPSBkYXRhIHx8IHt9O1xuICB2YXIgc3RhY2sxLCBzZWxmPXRoaXM7XG5cbmZ1bmN0aW9uIHByb2dyYW0xKGRlcHRoMCxkYXRhKSB7XG4gIFxuICBcbiAgcmV0dXJuIFwiXFxuPGRpdiBjbGFzcz1cXFwiY29sLXhzLTEyIGNvbC1zbS0xMlxcXCI+XFxuICA8aDM+S8OkeXRrw7YgdXNlaW4gdMOkbGzDpCBweXPDpGtpbGzDpD88L2gzPlxcbiAgPHA+Sm9zIGvDpHl0IHB5c8Oka2lsbMOkIGzDpGhlcyBww6Rpdml0dMOkaW4sIHZvaXQgcnlodHnDpCBzZW4ga3VtbWlrc2kuPC9wPlxcbiAgPHA+UHlzw6Rra2lrdW1taW4gdmVsdm9sbGlzdXV0ZW5hIG9uLi4uPC9wPlxcbiAgPHVsPlxcbiAgICA8bGk+VGFya2thaWxsYSBweXPDpGtpbiBrdW50b2E8L2xpPlxcbiAgICA8bGk+UmFwb3J0b2lkYSBqb3Mgam90YWluIG9uIHBpZWxlc3PDpDwvbGk+XFxuICA8L3VsPlxcbiAgPHA+S3VtbWluYSBhdXRhdCBwaXTDpG3DpMOkbiBrYXVwdW5raW1tZSBwYXJlbW1hc3NhIGt1bm5vc3NhLjwvcD5cXG4gIFxcbiAgPGJ1dHRvbiBpZD1cXFwiYWRvcHQtc3RvcFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1wcmltYXJ5XFxcIj5SeWhkeSBweXPDpGtpbiBrdW1taWtzaTwvYnV0dG9uPlxcbiAgPGRpdiBpZD1cXFwiYWRvcHQtZm9ybVxcXCIgY2xhc3M9XFxcImhpZGRlblxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgIDxsYWJlbCBmb3I9XFxcImVtYWlsXFxcIj5Tw6Roa8O2cG9zdGlvc29pdHRlZXNpPC9sYWJlbD5cXG4gICAgICA8aW5wdXQgdHlwZT1cXFwiZW1haWxcXFwiIG5hbWU9XFxcImVtYWlsXFxcIiBpZD1cXFwiZW1haWxcXFwiIHBsYWNlaG9sZGVyPVxcXCJcXFwiIC8+XFxuICAgICAgPGJ1dHRvbiBpZD1cXFwiYWRvcHQtc2VuZFxcXCIgdHlwZT1cXFwic3VibWl0XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIj5Mw6RoZXTDpDwvYnV0dG9uPlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblwiO1xuICB9XG5cbiAgc3RhY2sxID0gaGVscGVyc1snaWYnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAmJiBkZXB0aDAuc2hvd0J1dHRvbiksIHtoYXNoOnt9LGludmVyc2U6c2VsZi5ub29wLGZuOnNlbGYucHJvZ3JhbSgxLCBwcm9ncmFtMSwgZGF0YSksZGF0YTpkYXRhfSk7XG4gIGlmKHN0YWNrMSB8fCBzdGFjazEgPT09IDApIHsgcmV0dXJuIHN0YWNrMTsgfVxuICBlbHNlIHsgcmV0dXJuICcnOyB9XG4gIH0pO1xuIiwiLy8gaGJzZnkgY29tcGlsZWQgSGFuZGxlYmFycyB0ZW1wbGF0ZVxudmFyIEhhbmRsZWJhcnMgPSByZXF1aXJlKCdoYnNmeS9ydW50aW1lJyk7XG5tb2R1bGUuZXhwb3J0cyA9IEhhbmRsZWJhcnMudGVtcGxhdGUoZnVuY3Rpb24gKEhhbmRsZWJhcnMsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICB0aGlzLmNvbXBpbGVySW5mbyA9IFs0LCc+PSAxLjAuMCddO1xuaGVscGVycyA9IHRoaXMubWVyZ2UoaGVscGVycywgSGFuZGxlYmFycy5oZWxwZXJzKTsgZGF0YSA9IGRhdGEgfHwge307XG4gIHZhciBidWZmZXIgPSBcIlwiLCBzdGFjazEsIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247XG5cblxuICBpZiAoaGVscGVyID0gaGVscGVycy5kYXRlKSB7IHN0YWNrMSA9IGhlbHBlci5jYWxsKGRlcHRoMCwge2hhc2g6e30sZGF0YTpkYXRhfSk7IH1cbiAgZWxzZSB7IGhlbHBlciA9IChkZXB0aDAgJiYgZGVwdGgwLmRhdGUpOyBzdGFjazEgPSB0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtoYXNoOnt9LGRhdGE6ZGF0YX0pIDogaGVscGVyOyB9XG4gIGJ1ZmZlciArPSBlc2NhcGVFeHByZXNzaW9uKHN0YWNrMSlcbiAgICArIFwiOiBcIjtcbiAgaWYgKGhlbHBlciA9IGhlbHBlcnMuZGVzY3JpcHRpb24pIHsgc3RhY2sxID0gaGVscGVyLmNhbGwoZGVwdGgwLCB7aGFzaDp7fSxkYXRhOmRhdGF9KTsgfVxuICBlbHNlIHsgaGVscGVyID0gKGRlcHRoMCAmJiBkZXB0aDAuZGVzY3JpcHRpb24pOyBzdGFjazEgPSB0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtoYXNoOnt9LGRhdGE6ZGF0YX0pIDogaGVscGVyOyB9XG4gIGJ1ZmZlciArPSBlc2NhcGVFeHByZXNzaW9uKHN0YWNrMSk7XG4gIHJldHVybiBidWZmZXI7XG4gIH0pO1xuIiwiLy8gaGJzZnkgY29tcGlsZWQgSGFuZGxlYmFycyB0ZW1wbGF0ZVxudmFyIEhhbmRsZWJhcnMgPSByZXF1aXJlKCdoYnNmeS9ydW50aW1lJyk7XG5tb2R1bGUuZXhwb3J0cyA9IEhhbmRsZWJhcnMudGVtcGxhdGUoZnVuY3Rpb24gKEhhbmRsZWJhcnMsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICB0aGlzLmNvbXBpbGVySW5mbyA9IFs0LCc+PSAxLjAuMCddO1xuaGVscGVycyA9IHRoaXMubWVyZ2UoaGVscGVycywgSGFuZGxlYmFycy5oZWxwZXJzKTsgZGF0YSA9IGRhdGEgfHwge307XG4gIFxuXG5cbiAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwiY29sLXhzLTEyIGNvbC1zbS0xMlxcXCI+XFxuICA8aDI+TWl0w6QgcHlzw6RraWxsZSBrdXVsdXU/PC9oMj5cXG4gIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzXFxcIiBpZD1cXFwicmVwb3J0LW9rXFxcIj5QeXPDpGtpbGzDpCBvbiBrYWlra2kgT0s8L2J1dHRvbj5cXG4gIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kYW5nZXJcXFwiIGlkPVxcXCJyZXBvcnQtcHJvYmxlbVxcXCI+UHlzw6RraWxsw6Qgb24gb25nZWxtYSE8L2J1dHRvbj5cXG48L2Rpdj5cIjtcbiAgfSk7XG4iLCIvLyBoYnNmeSBjb21waWxlZCBIYW5kbGViYXJzIHRlbXBsYXRlXG52YXIgSGFuZGxlYmFycyA9IHJlcXVpcmUoJ2hic2Z5L3J1bnRpbWUnKTtcbm1vZHVsZS5leHBvcnRzID0gSGFuZGxlYmFycy50ZW1wbGF0ZShmdW5jdGlvbiAoSGFuZGxlYmFycyxkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gIHRoaXMuY29tcGlsZXJJbmZvID0gWzQsJz49IDEuMC4wJ107XG5oZWxwZXJzID0gdGhpcy5tZXJnZShoZWxwZXJzLCBIYW5kbGViYXJzLmhlbHBlcnMpOyBkYXRhID0gZGF0YSB8fCB7fTtcbiAgXG5cblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJjb2wteHMtMTIgY29sLXNtLTEyXFxcIj5cXG4gIDxoMz5SYXBvcnRvaWR1dCBvbmdlbG1hdDwvaDM+XFxuICA8ZGl2IGlkPVxcXCJzdG9wLXJlcG9ydHNcXFwiPlxcbiAgICA8dWw+PC91bD5cXG4gIDwvZGl2PlxcbjwvZGl2PlwiO1xuICB9KTtcbiIsIi8vIGhic2Z5IGNvbXBpbGVkIEhhbmRsZWJhcnMgdGVtcGxhdGVcbnZhciBIYW5kbGViYXJzID0gcmVxdWlyZSgnaGJzZnkvcnVudGltZScpO1xubW9kdWxlLmV4cG9ydHMgPSBIYW5kbGViYXJzLnRlbXBsYXRlKGZ1bmN0aW9uIChIYW5kbGViYXJzLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgdGhpcy5jb21waWxlckluZm8gPSBbNCwnPj0gMS4wLjAnXTtcbmhlbHBlcnMgPSB0aGlzLm1lcmdlKGhlbHBlcnMsIEhhbmRsZWJhcnMuaGVscGVycyk7IGRhdGEgPSBkYXRhIHx8IHt9O1xuICBcblxuXG4gIHJldHVybiBcIjxwPlTDpGxsw6QgcHlzw6RraWxsw6QgZWkgb2xlIHJhcG9ydG9pdHVqYSBvbmdlbG1pYS48L3A+XCI7XG4gIH0pO1xuIiwiLy8gaGJzZnkgY29tcGlsZWQgSGFuZGxlYmFycyB0ZW1wbGF0ZVxudmFyIEhhbmRsZWJhcnMgPSByZXF1aXJlKCdoYnNmeS9ydW50aW1lJyk7XG5tb2R1bGUuZXhwb3J0cyA9IEhhbmRsZWJhcnMudGVtcGxhdGUoZnVuY3Rpb24gKEhhbmRsZWJhcnMsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICB0aGlzLmNvbXBpbGVySW5mbyA9IFs0LCc+PSAxLjAuMCddO1xuaGVscGVycyA9IHRoaXMubWVyZ2UoaGVscGVycywgSGFuZGxlYmFycy5oZWxwZXJzKTsgZGF0YSA9IGRhdGEgfHwge307XG4gIHZhciBzdGFjazEsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBzZWxmPXRoaXM7XG5cbmZ1bmN0aW9uIHByb2dyYW0xKGRlcHRoMCxkYXRhKSB7XG4gIFxuICB2YXIgYnVmZmVyID0gXCJcIiwgc3RhY2sxLCBoZWxwZXI7XG4gIGJ1ZmZlciArPSBcIlxcbiAgPGgxPlwiO1xuICBpZiAoaGVscGVyID0gaGVscGVycy5uYW1lKSB7IHN0YWNrMSA9IGhlbHBlci5jYWxsKGRlcHRoMCwge2hhc2g6e30sZGF0YTpkYXRhfSk7IH1cbiAgZWxzZSB7IGhlbHBlciA9IChkZXB0aDAgJiYgZGVwdGgwLm5hbWUpOyBzdGFjazEgPSB0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtoYXNoOnt9LGRhdGE6ZGF0YX0pIDogaGVscGVyOyB9XG4gIGJ1ZmZlciArPSBlc2NhcGVFeHByZXNzaW9uKHN0YWNrMSlcbiAgICArIFwiPC9oMT5cXG4gIDxwIGNsYXNzPVxcXCJpbmZvXFxcIj5cIjtcbiAgaWYgKGhlbHBlciA9IGhlbHBlcnMuYWRkcmVzcykgeyBzdGFjazEgPSBoZWxwZXIuY2FsbChkZXB0aDAsIHtoYXNoOnt9LGRhdGE6ZGF0YX0pOyB9XG4gIGVsc2UgeyBoZWxwZXIgPSAoZGVwdGgwICYmIGRlcHRoMC5hZGRyZXNzKTsgc3RhY2sxID0gdHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7aGFzaDp7fSxkYXRhOmRhdGF9KSA6IGhlbHBlcjsgfVxuICBidWZmZXIgKz0gZXNjYXBlRXhwcmVzc2lvbihzdGFjazEpXG4gICAgKyBcIiwgXCI7XG4gIGlmIChoZWxwZXIgPSBoZWxwZXJzLmNpdHkpIHsgc3RhY2sxID0gaGVscGVyLmNhbGwoZGVwdGgwLCB7aGFzaDp7fSxkYXRhOmRhdGF9KTsgfVxuICBlbHNlIHsgaGVscGVyID0gKGRlcHRoMCAmJiBkZXB0aDAuY2l0eSk7IHN0YWNrMSA9IHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge2hhc2g6e30sZGF0YTpkYXRhfSkgOiBoZWxwZXI7IH1cbiAgYnVmZmVyICs9IGVzY2FwZUV4cHJlc3Npb24oc3RhY2sxKVxuICAgICsgXCI8L3A+XFxuXCI7XG4gIHJldHVybiBidWZmZXI7XG4gIH1cblxuZnVuY3Rpb24gcHJvZ3JhbTMoZGVwdGgwLGRhdGEpIHtcbiAgXG4gIFxuICByZXR1cm4gXCJcXG4gIDxwPkxhZGF0YWFuIHB5c8Oka2luIHRpZXRvamEuLi48L3A+XFxuXCI7XG4gIH1cblxuICBzdGFjazEgPSBoZWxwZXJzWydpZiddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICYmIGRlcHRoMC5uYW1lKSwge2hhc2g6e30saW52ZXJzZTpzZWxmLnByb2dyYW0oMywgcHJvZ3JhbTMsIGRhdGEpLGZuOnNlbGYucHJvZ3JhbSgxLCBwcm9ncmFtMSwgZGF0YSksZGF0YTpkYXRhfSk7XG4gIGlmKHN0YWNrMSB8fCBzdGFjazEgPT09IDApIHsgcmV0dXJuIHN0YWNrMTsgfVxuICBlbHNlIHsgcmV0dXJuICcnOyB9XG4gIH0pO1xuIiwiLy8gaGJzZnkgY29tcGlsZWQgSGFuZGxlYmFycyB0ZW1wbGF0ZVxudmFyIEhhbmRsZWJhcnMgPSByZXF1aXJlKCdoYnNmeS9ydW50aW1lJyk7XG5tb2R1bGUuZXhwb3J0cyA9IEhhbmRsZWJhcnMudGVtcGxhdGUoZnVuY3Rpb24gKEhhbmRsZWJhcnMsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICB0aGlzLmNvbXBpbGVySW5mbyA9IFs0LCc+PSAxLjAuMCddO1xuaGVscGVycyA9IHRoaXMubWVyZ2UoaGVscGVycywgSGFuZGxlYmFycy5oZWxwZXJzKTsgZGF0YSA9IGRhdGEgfHwge307XG4gIFxuXG5cbiAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwicm93XFxcIiBpZD1cXFwid2VsY29tZS1pbmZvLXRlYXNlclxcXCI+PC9kaXY+XFxuPGRpdiBjbGFzcz1cXFwicm93XFxcIiBpZD1cXFwid2VsY29tZS1uZWFyYnlcXFwiPjwvZGl2PlxcbjxkaXYgY2xhc3M9XFxcInJvd1xcXCIgaWQ9XFxcIndlbGNvbWUtc2VhcmNoXFxcIj48L2Rpdj5cIjtcbiAgfSk7XG4iLCIvLyBoYnNmeSBjb21waWxlZCBIYW5kbGViYXJzIHRlbXBsYXRlXG52YXIgSGFuZGxlYmFycyA9IHJlcXVpcmUoJ2hic2Z5L3J1bnRpbWUnKTtcbm1vZHVsZS5leHBvcnRzID0gSGFuZGxlYmFycy50ZW1wbGF0ZShmdW5jdGlvbiAoSGFuZGxlYmFycyxkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gIHRoaXMuY29tcGlsZXJJbmZvID0gWzQsJz49IDEuMC4wJ107XG5oZWxwZXJzID0gdGhpcy5tZXJnZShoZWxwZXJzLCBIYW5kbGViYXJzLmhlbHBlcnMpOyBkYXRhID0gZGF0YSB8fCB7fTtcbiAgXG5cblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJjb2wteHMtMTIgY29sLXNtLTYgY29sLW1kLThcXFwiPlxcbiAgPGgzPkzDpGhpc3TDtm4gcHlzw6RraXQ8L2gzPlxcbiAgPHAgaWQ9XFxcImxvYWRpbmctc3RvcHNcXFwiPkxhZGF0YWFuLi4uPC9wPlxcbiAgPHVsIGlkPVxcXCJzdG9wc1xcXCI+PC91bD5cXG48L2Rpdj5cIjtcbiAgfSk7XG4iLCIvLyBoYnNmeSBjb21waWxlZCBIYW5kbGViYXJzIHRlbXBsYXRlXG52YXIgSGFuZGxlYmFycyA9IHJlcXVpcmUoJ2hic2Z5L3J1bnRpbWUnKTtcbm1vZHVsZS5leHBvcnRzID0gSGFuZGxlYmFycy50ZW1wbGF0ZShmdW5jdGlvbiAoSGFuZGxlYmFycyxkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gIHRoaXMuY29tcGlsZXJJbmZvID0gWzQsJz49IDEuMC4wJ107XG5oZWxwZXJzID0gdGhpcy5tZXJnZShoZWxwZXJzLCBIYW5kbGViYXJzLmhlbHBlcnMpOyBkYXRhID0gZGF0YSB8fCB7fTtcbiAgXG5cblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJjb2wteHMtMTIgY29sLXNtLTYgY29sLW1kLThcXFwiPlxcbiAgPGgzPkV0c2kgcHlzw6Rra2k8L2gzPlxcbiAgPGxhYmVsIGZvcj1cXFwic3RvcC1pZFxcXCI+QW5uYSBweXPDpGtpbiBrb29kaTwvbGFiZWw+XFxuICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgbmFtZT1cXFwic3RvcC1pZFxcXCIgaWQ9XFxcInN0b3AtaWRcXFwiIHBsYWNlaG9sZGVyPVxcXCIxMjUxXFxcIiAvPlxcbiAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1wcmltYXJ5XFxcIiBpZD1cXFwiZmluZC1zdG9wXFxcIj5IYWU8L2J1dHRvbj5cXG48L2Rpdj5cIjtcbiAgfSk7XG4iLCIvLyBoYnNmeSBjb21waWxlZCBIYW5kbGViYXJzIHRlbXBsYXRlXG52YXIgSGFuZGxlYmFycyA9IHJlcXVpcmUoJ2hic2Z5L3J1bnRpbWUnKTtcbm1vZHVsZS5leHBvcnRzID0gSGFuZGxlYmFycy50ZW1wbGF0ZShmdW5jdGlvbiAoSGFuZGxlYmFycyxkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gIHRoaXMuY29tcGlsZXJJbmZvID0gWzQsJz49IDEuMC4wJ107XG5oZWxwZXJzID0gdGhpcy5tZXJnZShoZWxwZXJzLCBIYW5kbGViYXJzLmhlbHBlcnMpOyBkYXRhID0gZGF0YSB8fCB7fTtcbiAgdmFyIGJ1ZmZlciA9IFwiXCIsIHN0YWNrMSwgaGVscGVyLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgc2VsZj10aGlzO1xuXG5mdW5jdGlvbiBwcm9ncmFtMShkZXB0aDAsZGF0YSkge1xuICBcbiAgdmFyIGJ1ZmZlciA9IFwiXCIsIHN0YWNrMSwgaGVscGVyO1xuICBidWZmZXIgKz0gXCIoXCI7XG4gIGlmIChoZWxwZXIgPSBoZWxwZXJzLmNvZGVTaG9ydCkgeyBzdGFjazEgPSBoZWxwZXIuY2FsbChkZXB0aDAsIHtoYXNoOnt9LGRhdGE6ZGF0YX0pOyB9XG4gIGVsc2UgeyBoZWxwZXIgPSAoZGVwdGgwICYmIGRlcHRoMC5jb2RlU2hvcnQpOyBzdGFjazEgPSB0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtoYXNoOnt9LGRhdGE6ZGF0YX0pIDogaGVscGVyOyB9XG4gIGJ1ZmZlciArPSBlc2NhcGVFeHByZXNzaW9uKHN0YWNrMSlcbiAgICArIFwiKVwiO1xuICByZXR1cm4gYnVmZmVyO1xuICB9XG5cbiAgYnVmZmVyICs9IFwiPGEgaHJlZj1cXFwiI3N0b3AvXCI7XG4gIGlmIChoZWxwZXIgPSBoZWxwZXJzLmNvZGUpIHsgc3RhY2sxID0gaGVscGVyLmNhbGwoZGVwdGgwLCB7aGFzaDp7fSxkYXRhOmRhdGF9KTsgfVxuICBlbHNlIHsgaGVscGVyID0gKGRlcHRoMCAmJiBkZXB0aDAuY29kZSk7IHN0YWNrMSA9IHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge2hhc2g6e30sZGF0YTpkYXRhfSkgOiBoZWxwZXI7IH1cbiAgYnVmZmVyICs9IGVzY2FwZUV4cHJlc3Npb24oc3RhY2sxKVxuICAgICsgXCJcXFwiPlwiO1xuICBpZiAoaGVscGVyID0gaGVscGVycy5uYW1lKSB7IHN0YWNrMSA9IGhlbHBlci5jYWxsKGRlcHRoMCwge2hhc2g6e30sZGF0YTpkYXRhfSk7IH1cbiAgZWxzZSB7IGhlbHBlciA9IChkZXB0aDAgJiYgZGVwdGgwLm5hbWUpOyBzdGFjazEgPSB0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtoYXNoOnt9LGRhdGE6ZGF0YX0pIDogaGVscGVyOyB9XG4gIGJ1ZmZlciArPSBlc2NhcGVFeHByZXNzaW9uKHN0YWNrMSlcbiAgICArIFwiIFwiO1xuICBzdGFjazEgPSBoZWxwZXJzWydpZiddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICYmIGRlcHRoMC5jb2RlU2hvcnQpLCB7aGFzaDp7fSxpbnZlcnNlOnNlbGYubm9vcCxmbjpzZWxmLnByb2dyYW0oMSwgcHJvZ3JhbTEsIGRhdGEpLGRhdGE6ZGF0YX0pO1xuICBpZihzdGFjazEgfHwgc3RhY2sxID09PSAwKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cbiAgYnVmZmVyICs9IFwiPC9hPlwiO1xuICByZXR1cm4gYnVmZmVyO1xuICB9KTtcbiIsIihmdW5jdGlvbiAoZ2xvYmFsKXsoZnVuY3Rpb24gYnJvd3NlcmlmeVNoaW0obW9kdWxlLCBleHBvcnRzLCBkZWZpbmUsIGJyb3dzZXJpZnlfc2hpbV9fZGVmaW5lX19tb2R1bGVfX2V4cG9ydF9fKSB7XG5cbjsgZ2xvYmFsLkJhY2tib25lID0gcmVxdWlyZShcImJhY2tib25lXCIpO1xuLy8gQmFja2JvbmUuQmFieVNpdHRlclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gdjAuMC42XG4vL1xuLy8gQ29weXJpZ2h0IChjKTIwMTMgRGVyaWNrIEJhaWxleSwgTXV0ZWQgU29sdXRpb25zLCBMTEMuXG4vLyBEaXN0cmlidXRlZCB1bmRlciBNSVQgbGljZW5zZVxuLy9cbi8vIGh0dHA6Ly9naXRodWIuY29tL2JhYnlzaXR0ZXJqcy9iYWNrYm9uZS5iYWJ5c2l0dGVyXG5cbkJhY2tib25lLkNoaWxkVmlld0NvbnRhaW5lcj1mdW5jdGlvbihpLHQpe3ZhciBlPWZ1bmN0aW9uKGkpe3RoaXMuX3ZpZXdzPXt9LHRoaXMuX2luZGV4QnlNb2RlbD17fSx0aGlzLl9pbmRleEJ5Q3VzdG9tPXt9LHRoaXMuX3VwZGF0ZUxlbmd0aCgpLHQuZWFjaChpLHRoaXMuYWRkLHRoaXMpfTt0LmV4dGVuZChlLnByb3RvdHlwZSx7YWRkOmZ1bmN0aW9uKGksdCl7dmFyIGU9aS5jaWQ7dGhpcy5fdmlld3NbZV09aSxpLm1vZGVsJiYodGhpcy5faW5kZXhCeU1vZGVsW2kubW9kZWwuY2lkXT1lKSx0JiYodGhpcy5faW5kZXhCeUN1c3RvbVt0XT1lKSx0aGlzLl91cGRhdGVMZW5ndGgoKX0sZmluZEJ5TW9kZWw6ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZmluZEJ5TW9kZWxDaWQoaS5jaWQpfSxmaW5kQnlNb2RlbENpZDpmdW5jdGlvbihpKXt2YXIgdD10aGlzLl9pbmRleEJ5TW9kZWxbaV07cmV0dXJuIHRoaXMuZmluZEJ5Q2lkKHQpfSxmaW5kQnlDdXN0b206ZnVuY3Rpb24oaSl7dmFyIHQ9dGhpcy5faW5kZXhCeUN1c3RvbVtpXTtyZXR1cm4gdGhpcy5maW5kQnlDaWQodCl9LGZpbmRCeUluZGV4OmZ1bmN0aW9uKGkpe3JldHVybiB0LnZhbHVlcyh0aGlzLl92aWV3cylbaV19LGZpbmRCeUNpZDpmdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5fdmlld3NbaV19LHJlbW92ZTpmdW5jdGlvbihpKXt2YXIgZT1pLmNpZDtpLm1vZGVsJiZkZWxldGUgdGhpcy5faW5kZXhCeU1vZGVsW2kubW9kZWwuY2lkXSx0LmFueSh0aGlzLl9pbmRleEJ5Q3VzdG9tLGZ1bmN0aW9uKGksdCl7cmV0dXJuIGk9PT1lPyhkZWxldGUgdGhpcy5faW5kZXhCeUN1c3RvbVt0XSwhMCk6dm9pZCAwfSx0aGlzKSxkZWxldGUgdGhpcy5fdmlld3NbZV0sdGhpcy5fdXBkYXRlTGVuZ3RoKCl9LGNhbGw6ZnVuY3Rpb24oaSl7dGhpcy5hcHBseShpLHQudGFpbChhcmd1bWVudHMpKX0sYXBwbHk6ZnVuY3Rpb24oaSxlKXt0LmVhY2godGhpcy5fdmlld3MsZnVuY3Rpb24obil7dC5pc0Z1bmN0aW9uKG5baV0pJiZuW2ldLmFwcGx5KG4sZXx8W10pfSl9LF91cGRhdGVMZW5ndGg6ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aD10LnNpemUodGhpcy5fdmlld3MpfX0pO3ZhciBuPVtcImZvckVhY2hcIixcImVhY2hcIixcIm1hcFwiLFwiZmluZFwiLFwiZGV0ZWN0XCIsXCJmaWx0ZXJcIixcInNlbGVjdFwiLFwicmVqZWN0XCIsXCJldmVyeVwiLFwiYWxsXCIsXCJzb21lXCIsXCJhbnlcIixcImluY2x1ZGVcIixcImNvbnRhaW5zXCIsXCJpbnZva2VcIixcInRvQXJyYXlcIixcImZpcnN0XCIsXCJpbml0aWFsXCIsXCJyZXN0XCIsXCJsYXN0XCIsXCJ3aXRob3V0XCIsXCJpc0VtcHR5XCIsXCJwbHVja1wiXTtyZXR1cm4gdC5lYWNoKG4sZnVuY3Rpb24oaSl7ZS5wcm90b3R5cGVbaV09ZnVuY3Rpb24oKXt2YXIgZT10LnZhbHVlcyh0aGlzLl92aWV3cyksbj1bZV0uY29uY2F0KHQudG9BcnJheShhcmd1bWVudHMpKTtyZXR1cm4gdFtpXS5hcHBseSh0LG4pfX0pLGV9KEJhY2tib25lLF8pO1xuLy9AIHNvdXJjZU1hcHBpbmdVUkw9YmFja2JvbmUuYmFieXNpdHRlci5tYXBcbjsgYnJvd3NlcmlmeV9zaGltX19kZWZpbmVfX21vZHVsZV9fZXhwb3J0X18odHlwZW9mIEJhY2tib25lLkJhYnlzaXR0ZXIgIT0gXCJ1bmRlZmluZWRcIiA/IEJhY2tib25lLkJhYnlzaXR0ZXIgOiB3aW5kb3cuQmFja2JvbmUuQmFieXNpdHRlcik7XG5cbn0pLmNhbGwoZ2xvYmFsLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbiBkZWZpbmVFeHBvcnQoZXgpIHsgbW9kdWxlLmV4cG9ydHMgPSBleDsgfSk7XG59KS5jYWxsKHRoaXMsdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KSIsIihmdW5jdGlvbiAoZ2xvYmFsKXsoZnVuY3Rpb24gYnJvd3NlcmlmeVNoaW0obW9kdWxlLCBleHBvcnRzLCBkZWZpbmUsIGJyb3dzZXJpZnlfc2hpbV9fZGVmaW5lX19tb2R1bGVfX2V4cG9ydF9fKSB7XG5cbjsgZ2xvYmFsLiQgPSByZXF1aXJlKFwianF1ZXJ5XCIpO1xuZ2xvYmFsLkJhY2tib25lID0gcmVxdWlyZShcImJhY2tib25lXCIpO1xuZ2xvYmFsLl8gPSByZXF1aXJlKFwidW5kZXJzY29yZVwiKTtcbi8vIE1hcmlvbmV0dGVKUyAoQmFja2JvbmUuTWFyaW9uZXR0ZSlcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHYxLjMuMFxuLy9cbi8vIENvcHlyaWdodCAoYykyMDEzIERlcmljayBCYWlsZXksIE11dGVkIFNvbHV0aW9ucywgTExDLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgTUlUIGxpY2Vuc2Vcbi8vXG4vLyBodHRwOi8vbWFyaW9uZXR0ZWpzLmNvbVxuXG5cblxuLyohXG4gKiBJbmNsdWRlcyBCYWJ5U2l0dGVyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbWFyaW9uZXR0ZWpzL2JhY2tib25lLmJhYnlzaXR0ZXIvXG4gKlxuICogSW5jbHVkZXMgV3JlcXJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJpb25ldHRlanMvYmFja2JvbmUud3JlcXIvXG4gKi9cblxuQmFja2JvbmUuQ2hpbGRWaWV3Q29udGFpbmVyPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSl7dGhpcy5fdmlld3M9e30sdGhpcy5faW5kZXhCeU1vZGVsPXt9LHRoaXMuX2luZGV4QnlDdXN0b209e30sdGhpcy5fdXBkYXRlTGVuZ3RoKCksYi5lYWNoKGEsdGhpcy5hZGQsdGhpcyl9O2IuZXh0ZW5kKGMucHJvdG90eXBlLHthZGQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmNpZDt0aGlzLl92aWV3c1tjXT1hLGEubW9kZWwmJih0aGlzLl9pbmRleEJ5TW9kZWxbYS5tb2RlbC5jaWRdPWMpLGImJih0aGlzLl9pbmRleEJ5Q3VzdG9tW2JdPWMpLHRoaXMuX3VwZGF0ZUxlbmd0aCgpfSxmaW5kQnlNb2RlbDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5maW5kQnlNb2RlbENpZChhLmNpZCl9LGZpbmRCeU1vZGVsQ2lkOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX2luZGV4QnlNb2RlbFthXTtyZXR1cm4gdGhpcy5maW5kQnlDaWQoYil9LGZpbmRCeUN1c3RvbTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLl9pbmRleEJ5Q3VzdG9tW2FdO3JldHVybiB0aGlzLmZpbmRCeUNpZChiKX0sZmluZEJ5SW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGIudmFsdWVzKHRoaXMuX3ZpZXdzKVthXX0sZmluZEJ5Q2lkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl92aWV3c1thXX0scmVtb3ZlOmZ1bmN0aW9uKGEpe3ZhciBjPWEuY2lkO2EubW9kZWwmJmRlbGV0ZSB0aGlzLl9pbmRleEJ5TW9kZWxbYS5tb2RlbC5jaWRdLGIuYW55KHRoaXMuX2luZGV4QnlDdXN0b20sZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWM/KGRlbGV0ZSB0aGlzLl9pbmRleEJ5Q3VzdG9tW2JdLCEwKTp2b2lkIDB9LHRoaXMpLGRlbGV0ZSB0aGlzLl92aWV3c1tjXSx0aGlzLl91cGRhdGVMZW5ndGgoKX0sY2FsbDpmdW5jdGlvbihhKXt0aGlzLmFwcGx5KGEsYi50YWlsKGFyZ3VtZW50cykpfSxhcHBseTpmdW5jdGlvbihhLGMpe2IuZWFjaCh0aGlzLl92aWV3cyxmdW5jdGlvbihkKXtiLmlzRnVuY3Rpb24oZFthXSkmJmRbYV0uYXBwbHkoZCxjfHxbXSl9KX0sX3VwZGF0ZUxlbmd0aDpmdW5jdGlvbigpe3RoaXMubGVuZ3RoPWIuc2l6ZSh0aGlzLl92aWV3cyl9fSk7dmFyIGQ9W1wiZm9yRWFjaFwiLFwiZWFjaFwiLFwibWFwXCIsXCJmaW5kXCIsXCJkZXRlY3RcIixcImZpbHRlclwiLFwic2VsZWN0XCIsXCJyZWplY3RcIixcImV2ZXJ5XCIsXCJhbGxcIixcInNvbWVcIixcImFueVwiLFwiaW5jbHVkZVwiLFwiY29udGFpbnNcIixcImludm9rZVwiLFwidG9BcnJheVwiLFwiZmlyc3RcIixcImluaXRpYWxcIixcInJlc3RcIixcImxhc3RcIixcIndpdGhvdXRcIixcImlzRW1wdHlcIixcInBsdWNrXCJdO3JldHVybiBiLmVhY2goZCxmdW5jdGlvbihhKXtjLnByb3RvdHlwZVthXT1mdW5jdGlvbigpe3ZhciBjPWIudmFsdWVzKHRoaXMuX3ZpZXdzKSxkPVtjXS5jb25jYXQoYi50b0FycmF5KGFyZ3VtZW50cykpO3JldHVybiBiW2FdLmFwcGx5KGIsZCl9fSksY30oQmFja2JvbmUsXyksQmFja2JvbmUuV3JlcXI9ZnVuY3Rpb24oYSxiLGMpe1widXNlIHN0cmljdFwiO3ZhciBkPXt9O3JldHVybiBkLkhhbmRsZXJzPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSl7dGhpcy5vcHRpb25zPWEsdGhpcy5fd3JlcXJIYW5kbGVycz17fSxiLmlzRnVuY3Rpb24odGhpcy5pbml0aWFsaXplKSYmdGhpcy5pbml0aWFsaXplKGEpfTtyZXR1cm4gYy5leHRlbmQ9YS5Nb2RlbC5leHRlbmQsYi5leHRlbmQoYy5wcm90b3R5cGUsYS5FdmVudHMse3NldEhhbmRsZXJzOmZ1bmN0aW9uKGEpe2IuZWFjaChhLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9bnVsbDtiLmlzT2JqZWN0KGEpJiYhYi5pc0Z1bmN0aW9uKGEpJiYoZD1hLmNvbnRleHQsYT1hLmNhbGxiYWNrKSx0aGlzLnNldEhhbmRsZXIoYyxhLGQpfSx0aGlzKX0sc2V0SGFuZGxlcjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9e2NhbGxiYWNrOmIsY29udGV4dDpjfTt0aGlzLl93cmVxckhhbmRsZXJzW2FdPWQsdGhpcy50cmlnZ2VyKFwiaGFuZGxlcjphZGRcIixhLGIsYyl9LGhhc0hhbmRsZXI6ZnVuY3Rpb24oYSl7cmV0dXJuISF0aGlzLl93cmVxckhhbmRsZXJzW2FdfSxnZXRIYW5kbGVyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX3dyZXFySGFuZGxlcnNbYV07aWYoIWIpdGhyb3cgbmV3IEVycm9yKFwiSGFuZGxlciBub3QgZm91bmQgZm9yICdcIithK1wiJ1wiKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkoYXJndW1lbnRzKTtyZXR1cm4gYi5jYWxsYmFjay5hcHBseShiLmNvbnRleHQsYSl9fSxyZW1vdmVIYW5kbGVyOmZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLl93cmVxckhhbmRsZXJzW2FdfSxyZW1vdmVBbGxIYW5kbGVyczpmdW5jdGlvbigpe3RoaXMuX3dyZXFySGFuZGxlcnM9e319fSksY30oYSxjKSxkLkNvbW1hbmRTdG9yYWdlPWZ1bmN0aW9uKCl7dmFyIGI9ZnVuY3Rpb24oYSl7dGhpcy5vcHRpb25zPWEsdGhpcy5fY29tbWFuZHM9e30sYy5pc0Z1bmN0aW9uKHRoaXMuaW5pdGlhbGl6ZSkmJnRoaXMuaW5pdGlhbGl6ZShhKX07cmV0dXJuIGMuZXh0ZW5kKGIucHJvdG90eXBlLGEuRXZlbnRzLHtnZXRDb21tYW5kczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLl9jb21tYW5kc1thXTtyZXR1cm4gYnx8KGI9e2NvbW1hbmQ6YSxpbnN0YW5jZXM6W119LHRoaXMuX2NvbW1hbmRzW2FdPWIpLGJ9LGFkZENvbW1hbmQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENvbW1hbmRzKGEpO2MuaW5zdGFuY2VzLnB1c2goYil9LGNsZWFyQ29tbWFuZHM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRDb21tYW5kcyhhKTtiLmluc3RhbmNlcz1bXX19KSxifSgpLGQuQ29tbWFuZHM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuSGFuZGxlcnMuZXh0ZW5kKHtzdG9yYWdlVHlwZTphLkNvbW1hbmRTdG9yYWdlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGIpe3RoaXMub3B0aW9ucz1ifHx7fSx0aGlzLl9pbml0aWFsaXplU3RvcmFnZSh0aGlzLm9wdGlvbnMpLHRoaXMub24oXCJoYW5kbGVyOmFkZFwiLHRoaXMuX2V4ZWN1dGVDb21tYW5kcyx0aGlzKTt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO2EuSGFuZGxlcnMucHJvdG90eXBlLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYyl9LGV4ZWN1dGU6ZnVuY3Rpb24oYSxiKXthPWFyZ3VtZW50c1swXSxiPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSx0aGlzLmhhc0hhbmRsZXIoYSk/dGhpcy5nZXRIYW5kbGVyKGEpLmFwcGx5KHRoaXMsYik6dGhpcy5zdG9yYWdlLmFkZENvbW1hbmQoYSxiKX0sX2V4ZWN1dGVDb21tYW5kczpmdW5jdGlvbihhLGIsZCl7dmFyIGU9dGhpcy5zdG9yYWdlLmdldENvbW1hbmRzKGEpO2MuZWFjaChlLmluc3RhbmNlcyxmdW5jdGlvbihhKXtiLmFwcGx5KGQsYSl9KSx0aGlzLnN0b3JhZ2UuY2xlYXJDb21tYW5kcyhhKX0sX2luaXRpYWxpemVTdG9yYWdlOmZ1bmN0aW9uKGEpe3ZhciBiLGQ9YS5zdG9yYWdlVHlwZXx8dGhpcy5zdG9yYWdlVHlwZTtiPWMuaXNGdW5jdGlvbihkKT9uZXcgZDpkLHRoaXMuc3RvcmFnZT1ifX0pfShkKSxkLlJlcXVlc3RSZXNwb25zZT1mdW5jdGlvbihhKXtyZXR1cm4gYS5IYW5kbGVycy5leHRlbmQoe3JlcXVlc3Q6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHNbMF0sYj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIHRoaXMuZ2V0SGFuZGxlcihhKS5hcHBseSh0aGlzLGIpfX0pfShkKSxkLkV2ZW50QWdncmVnYXRvcj1mdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKCl7fTtyZXR1cm4gYy5leHRlbmQ9YS5Nb2RlbC5leHRlbmQsYi5leHRlbmQoYy5wcm90b3R5cGUsYS5FdmVudHMpLGN9KGEsYyksZH0oQmFja2JvbmUsQmFja2JvbmUuTWFyaW9uZXR0ZSxfKTt2YXIgTWFyaW9uZXR0ZT1mdW5jdGlvbihhLGIsYyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZChhKXtyZXR1cm4gZy5jYWxsKGEpfWZ1bmN0aW9uIGUoYSxiKXt2YXIgYz1uZXcgRXJyb3IoYSk7dGhyb3cgYy5uYW1lPWJ8fFwiRXJyb3JcIixjfXZhciBmPXt9O2IuTWFyaW9uZXR0ZT1mLGYuJD1iLiQ7dmFyIGc9QXJyYXkucHJvdG90eXBlLnNsaWNlO3JldHVybiBmLmV4dGVuZD1iLk1vZGVsLmV4dGVuZCxmLmdldE9wdGlvbj1mdW5jdGlvbihhLGIpe2lmKGEmJmIpe3ZhciBjO3JldHVybiBjPWEub3B0aW9ucyYmYiBpbiBhLm9wdGlvbnMmJnZvaWQgMCE9PWEub3B0aW9uc1tiXT9hLm9wdGlvbnNbYl06YVtiXX19LGYudHJpZ2dlck1ldGhvZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiLGMpe3JldHVybiBjLnRvVXBwZXJDYXNlKCl9dmFyIGI9LyhefDopKFxcdykvZ2ksZD1mdW5jdGlvbihkKXt2YXIgZT1cIm9uXCIrZC5yZXBsYWNlKGIsYSksZj10aGlzW2VdO3JldHVybiBjLmlzRnVuY3Rpb24odGhpcy50cmlnZ2VyKSYmdGhpcy50cmlnZ2VyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxjLmlzRnVuY3Rpb24oZik/Zi5hcHBseSh0aGlzLGMudGFpbChhcmd1bWVudHMpKTp2b2lkIDB9O3JldHVybiBkfSgpLGYuTW9uaXRvckRPTVJlZnJlc2g9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2EuX2lzU2hvd249ITAsZChhKX1mdW5jdGlvbiBiKGEpe2EuX2lzUmVuZGVyZWQ9ITAsZChhKX1mdW5jdGlvbiBkKGEpe2EuX2lzU2hvd24mJmEuX2lzUmVuZGVyZWQmJmMuaXNGdW5jdGlvbihhLnRyaWdnZXJNZXRob2QpJiZhLnRyaWdnZXJNZXRob2QoXCJkb206cmVmcmVzaFwiKX1yZXR1cm4gZnVuY3Rpb24oYyl7Yy5saXN0ZW5UbyhjLFwic2hvd1wiLGZ1bmN0aW9uKCl7YShjKX0pLGMubGlzdGVuVG8oYyxcInJlbmRlclwiLGZ1bmN0aW9uKCl7YihjKX0pfX0oKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYixkLGYpe3ZhciBnPWYuc3BsaXQoL1xccysvKTtjLmVhY2goZyxmdW5jdGlvbihjKXt2YXIgZj1hW2NdO2Z8fGUoXCJNZXRob2QgJ1wiK2MrXCInIHdhcyBjb25maWd1cmVkIGFzIGFuIGV2ZW50IGhhbmRsZXIsIGJ1dCBkb2VzIG5vdCBleGlzdC5cIiksYS5saXN0ZW5UbyhiLGQsZixhKX0pfWZ1bmN0aW9uIGQoYSxiLGMsZCl7YS5saXN0ZW5UbyhiLGMsZCxhKX1mdW5jdGlvbiBmKGEsYixkLGUpe3ZhciBmPWUuc3BsaXQoL1xccysvKTtjLmVhY2goZixmdW5jdGlvbihjKXt2YXIgZT1hW2NdO2Euc3RvcExpc3RlbmluZyhiLGQsZSxhKX0pfWZ1bmN0aW9uIGcoYSxiLGMsZCl7YS5zdG9wTGlzdGVuaW5nKGIsYyxkLGEpfWZ1bmN0aW9uIGgoYSxiLGQsZSxmKXtiJiZkJiYoYy5pc0Z1bmN0aW9uKGQpJiYoZD1kLmNhbGwoYSkpLGMuZWFjaChkLGZ1bmN0aW9uKGQsZyl7Yy5pc0Z1bmN0aW9uKGQpP2UoYSxiLGcsZCk6ZihhLGIsZyxkKX0pKX1hLmJpbmRFbnRpdHlFdmVudHM9ZnVuY3Rpb24oYSxjLGUpe2goYSxjLGUsZCxiKX0sYS51bmJpbmRFbnRpdHlFdmVudHM9ZnVuY3Rpb24oYSxiLGMpe2goYSxiLGMsZyxmKX19KGYpLGYuQ2FsbGJhY2tzPWZ1bmN0aW9uKCl7dGhpcy5fZGVmZXJyZWQ9Zi4kLkRlZmVycmVkKCksdGhpcy5fY2FsbGJhY2tzPVtdfSxjLmV4dGVuZChmLkNhbGxiYWNrcy5wcm90b3R5cGUse2FkZDpmdW5jdGlvbihhLGIpe3RoaXMuX2NhbGxiYWNrcy5wdXNoKHtjYjphLGN0eDpifSksdGhpcy5fZGVmZXJyZWQuZG9uZShmdW5jdGlvbihjLGQpe2ImJihjPWIpLGEuY2FsbChjLGQpfSl9LHJ1bjpmdW5jdGlvbihhLGIpe3RoaXMuX2RlZmVycmVkLnJlc29sdmUoYixhKX0scmVzZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9jYWxsYmFja3M7dGhpcy5fZGVmZXJyZWQ9Zi4kLkRlZmVycmVkKCksdGhpcy5fY2FsbGJhY2tzPVtdLGMuZWFjaChhLGZ1bmN0aW9uKGEpe3RoaXMuYWRkKGEuY2IsYS5jdHgpfSx0aGlzKX19KSxmLkNvbnRyb2xsZXI9ZnVuY3Rpb24oYSl7dGhpcy50cmlnZ2VyTWV0aG9kPWYudHJpZ2dlck1ldGhvZCx0aGlzLm9wdGlvbnM9YXx8e30sYy5pc0Z1bmN0aW9uKHRoaXMuaW5pdGlhbGl6ZSkmJnRoaXMuaW5pdGlhbGl6ZSh0aGlzLm9wdGlvbnMpfSxmLkNvbnRyb2xsZXIuZXh0ZW5kPWYuZXh0ZW5kLGMuZXh0ZW5kKGYuQ29udHJvbGxlci5wcm90b3R5cGUsYi5FdmVudHMse2Nsb3NlOmZ1bmN0aW9uKCl7dGhpcy5zdG9wTGlzdGVuaW5nKCksdGhpcy50cmlnZ2VyTWV0aG9kKFwiY2xvc2VcIiksdGhpcy51bmJpbmQoKX19KSxmLlJlZ2lvbj1mdW5jdGlvbihhKXtpZih0aGlzLm9wdGlvbnM9YXx8e30sdGhpcy5lbD1mLmdldE9wdGlvbih0aGlzLFwiZWxcIiksIXRoaXMuZWwpe3ZhciBiPW5ldyBFcnJvcihcIkFuICdlbCcgbXVzdCBiZSBzcGVjaWZpZWQgZm9yIGEgcmVnaW9uLlwiKTt0aHJvdyBiLm5hbWU9XCJOb0VsRXJyb3JcIixifWlmKHRoaXMuaW5pdGlhbGl6ZSl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGFyZ3VtZW50cyk7dGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsYyl9fSxjLmV4dGVuZChmLlJlZ2lvbix7YnVpbGRSZWdpb246ZnVuY3Rpb24oYSxiKXt2YXIgZD1cInN0cmluZ1wiPT10eXBlb2YgYSxlPVwic3RyaW5nXCI9PXR5cGVvZiBhLnNlbGVjdG9yLGY9XCJ1bmRlZmluZWRcIj09dHlwZW9mIGEucmVnaW9uVHlwZSxnPVwiZnVuY3Rpb25cIj09dHlwZW9mIGE7aWYoIWcmJiFkJiYhZSl0aHJvdyBuZXcgRXJyb3IoXCJSZWdpb24gbXVzdCBiZSBzcGVjaWZpZWQgYXMgYSBSZWdpb24gdHlwZSwgYSBzZWxlY3RvciBzdHJpbmcgb3IgYW4gb2JqZWN0IHdpdGggc2VsZWN0b3IgcHJvcGVydHlcIik7dmFyIGgsaTtkJiYoaD1hKSxhLnNlbGVjdG9yJiYoaD1hLnNlbGVjdG9yKSxnJiYoaT1hKSwhZyYmZiYmKGk9YiksYS5yZWdpb25UeXBlJiYoaT1hLnJlZ2lvblR5cGUpO3ZhciBqPW5ldyBpKHtlbDpofSk7cmV0dXJuIGEucGFyZW50RWwmJihqLmdldEVsPWZ1bmN0aW9uKGIpe3ZhciBkPWEucGFyZW50RWw7cmV0dXJuIGMuaXNGdW5jdGlvbihkKSYmKGQ9ZCgpKSxkLmZpbmQoYil9KSxqfX0pLGMuZXh0ZW5kKGYuUmVnaW9uLnByb3RvdHlwZSxiLkV2ZW50cyx7c2hvdzpmdW5jdGlvbihhKXt0aGlzLmVuc3VyZUVsKCk7dmFyIGI9YS5pc0Nsb3NlZHx8Yy5pc1VuZGVmaW5lZChhLiRlbCksZD1hIT09dGhpcy5jdXJyZW50VmlldztkJiZ0aGlzLmNsb3NlKCksYS5yZW5kZXIoKSwoZHx8YikmJnRoaXMub3BlbihhKSx0aGlzLmN1cnJlbnRWaWV3PWEsZi50cmlnZ2VyTWV0aG9kLmNhbGwodGhpcyxcInNob3dcIixhKSxmLnRyaWdnZXJNZXRob2QuY2FsbChhLFwic2hvd1wiKX0sZW5zdXJlRWw6ZnVuY3Rpb24oKXt0aGlzLiRlbCYmMCE9PXRoaXMuJGVsLmxlbmd0aHx8KHRoaXMuJGVsPXRoaXMuZ2V0RWwodGhpcy5lbCkpfSxnZXRFbDpmdW5jdGlvbihhKXtyZXR1cm4gZi4kKGEpfSxvcGVuOmZ1bmN0aW9uKGEpe3RoaXMuJGVsLmVtcHR5KCkuYXBwZW5kKGEuZWwpfSxjbG9zZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY3VycmVudFZpZXc7YSYmIWEuaXNDbG9zZWQmJihhLmNsb3NlP2EuY2xvc2UoKTphLnJlbW92ZSYmYS5yZW1vdmUoKSxmLnRyaWdnZXJNZXRob2QuY2FsbCh0aGlzLFwiY2xvc2VcIiksZGVsZXRlIHRoaXMuY3VycmVudFZpZXcpfSxhdHRhY2hWaWV3OmZ1bmN0aW9uKGEpe3RoaXMuY3VycmVudFZpZXc9YX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLmNsb3NlKCksZGVsZXRlIHRoaXMuJGVsfX0pLGYuUmVnaW9uLmV4dGVuZD1mLmV4dGVuZCxmLlJlZ2lvbk1hbmFnZXI9ZnVuY3Rpb24oYSl7dmFyIGI9YS5Db250cm9sbGVyLmV4dGVuZCh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oYil7dGhpcy5fcmVnaW9ucz17fSxhLkNvbnRyb2xsZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxiKX0sYWRkUmVnaW9uczpmdW5jdGlvbihhLGIpe3ZhciBkPXt9O3JldHVybiBjLmVhY2goYSxmdW5jdGlvbihhLGUpe1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT17c2VsZWN0b3I6YX0pLGEuc2VsZWN0b3ImJihhPWMuZGVmYXVsdHMoe30sYSxiKSk7dmFyIGY9dGhpcy5hZGRSZWdpb24oZSxhKTtkW2VdPWZ9LHRoaXMpLGR9LGFkZFJlZ2lvbjpmdW5jdGlvbihiLGQpe3ZhciBlLGY9Yy5pc09iamVjdChkKSxnPWMuaXNTdHJpbmcoZCksaD0hIWQuc2VsZWN0b3I7cmV0dXJuIGU9Z3x8ZiYmaD9hLlJlZ2lvbi5idWlsZFJlZ2lvbihkLGEuUmVnaW9uKTpjLmlzRnVuY3Rpb24oZCk/YS5SZWdpb24uYnVpbGRSZWdpb24oZCxhLlJlZ2lvbik6ZCx0aGlzLl9zdG9yZShiLGUpLHRoaXMudHJpZ2dlck1ldGhvZChcInJlZ2lvbjphZGRcIixiLGUpLGV9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fcmVnaW9uc1thXX0scmVtb3ZlUmVnaW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX3JlZ2lvbnNbYV07dGhpcy5fcmVtb3ZlKGEsYil9LHJlbW92ZVJlZ2lvbnM6ZnVuY3Rpb24oKXtjLmVhY2godGhpcy5fcmVnaW9ucyxmdW5jdGlvbihhLGIpe3RoaXMuX3JlbW92ZShiLGEpfSx0aGlzKX0sY2xvc2VSZWdpb25zOmZ1bmN0aW9uKCl7Yy5lYWNoKHRoaXMuX3JlZ2lvbnMsZnVuY3Rpb24oYSl7YS5jbG9zZSgpfSx0aGlzKX0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZVJlZ2lvbnMoKTt2YXIgYj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO2EuQ29udHJvbGxlci5wcm90b3R5cGUuY2xvc2UuYXBwbHkodGhpcyxiKX0sX3N0b3JlOmZ1bmN0aW9uKGEsYil7dGhpcy5fcmVnaW9uc1thXT1iLHRoaXMuX3NldExlbmd0aCgpfSxfcmVtb3ZlOmZ1bmN0aW9uKGEsYil7Yi5jbG9zZSgpLGRlbGV0ZSB0aGlzLl9yZWdpb25zW2FdLHRoaXMuX3NldExlbmd0aCgpLHRoaXMudHJpZ2dlck1ldGhvZChcInJlZ2lvbjpyZW1vdmVcIixhLGIpfSxfc2V0TGVuZ3RoOmZ1bmN0aW9uKCl7dGhpcy5sZW5ndGg9Yy5zaXplKHRoaXMuX3JlZ2lvbnMpfX0pLGQ9W1wiZm9yRWFjaFwiLFwiZWFjaFwiLFwibWFwXCIsXCJmaW5kXCIsXCJkZXRlY3RcIixcImZpbHRlclwiLFwic2VsZWN0XCIsXCJyZWplY3RcIixcImV2ZXJ5XCIsXCJhbGxcIixcInNvbWVcIixcImFueVwiLFwiaW5jbHVkZVwiLFwiY29udGFpbnNcIixcImludm9rZVwiLFwidG9BcnJheVwiLFwiZmlyc3RcIixcImluaXRpYWxcIixcInJlc3RcIixcImxhc3RcIixcIndpdGhvdXRcIixcImlzRW1wdHlcIixcInBsdWNrXCJdO3JldHVybiBjLmVhY2goZCxmdW5jdGlvbihhKXtiLnByb3RvdHlwZVthXT1mdW5jdGlvbigpe3ZhciBiPWMudmFsdWVzKHRoaXMuX3JlZ2lvbnMpLGQ9W2JdLmNvbmNhdChjLnRvQXJyYXkoYXJndW1lbnRzKSk7cmV0dXJuIGNbYV0uYXBwbHkoYyxkKX19KSxifShmKSxmLlRlbXBsYXRlQ2FjaGU9ZnVuY3Rpb24oYSl7dGhpcy50ZW1wbGF0ZUlkPWF9LGMuZXh0ZW5kKGYuVGVtcGxhdGVDYWNoZSx7dGVtcGxhdGVDYWNoZXM6e30sZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudGVtcGxhdGVDYWNoZXNbYV07cmV0dXJuIGJ8fChiPW5ldyBmLlRlbXBsYXRlQ2FjaGUoYSksdGhpcy50ZW1wbGF0ZUNhY2hlc1thXT1iKSxiLmxvYWQoKX0sY2xlYXI6ZnVuY3Rpb24oKXt2YXIgYSxiPWQoYXJndW1lbnRzKSxjPWIubGVuZ3RoO2lmKGM+MClmb3IoYT0wO2M+YTthKyspZGVsZXRlIHRoaXMudGVtcGxhdGVDYWNoZXNbYlthXV07ZWxzZSB0aGlzLnRlbXBsYXRlQ2FjaGVzPXt9fX0pLGMuZXh0ZW5kKGYuVGVtcGxhdGVDYWNoZS5wcm90b3R5cGUse2xvYWQ6ZnVuY3Rpb24oKXtpZih0aGlzLmNvbXBpbGVkVGVtcGxhdGUpcmV0dXJuIHRoaXMuY29tcGlsZWRUZW1wbGF0ZTt2YXIgYT10aGlzLmxvYWRUZW1wbGF0ZSh0aGlzLnRlbXBsYXRlSWQpO3JldHVybiB0aGlzLmNvbXBpbGVkVGVtcGxhdGU9dGhpcy5jb21waWxlVGVtcGxhdGUoYSksdGhpcy5jb21waWxlZFRlbXBsYXRlfSxsb2FkVGVtcGxhdGU6ZnVuY3Rpb24oYSl7dmFyIGI9Zi4kKGEpLmh0bWwoKTtyZXR1cm4gYiYmMCE9PWIubGVuZ3RofHxlKFwiQ291bGQgbm90IGZpbmQgdGVtcGxhdGU6ICdcIithK1wiJ1wiLFwiTm9UZW1wbGF0ZUVycm9yXCIpLGJ9LGNvbXBpbGVUZW1wbGF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gYy50ZW1wbGF0ZShhKX19KSxmLlJlbmRlcmVyPXtyZW5kZXI6ZnVuY3Rpb24oYSxiKXtpZighYSl7dmFyIGM9bmV3IEVycm9yKFwiQ2Fubm90IHJlbmRlciB0aGUgdGVtcGxhdGUgc2luY2UgaXQncyBmYWxzZSwgbnVsbCBvciB1bmRlZmluZWQuXCIpO3Rocm93IGMubmFtZT1cIlRlbXBsYXRlTm90Rm91bmRFcnJvclwiLGN9dmFyIGQ7cmV0dXJuIGQ9XCJmdW5jdGlvblwiPT10eXBlb2YgYT9hOmYuVGVtcGxhdGVDYWNoZS5nZXQoYSksZChiKX19LGYuVmlldz1iLlZpZXcuZXh0ZW5kKHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXtjLmJpbmRBbGwodGhpcyxcInJlbmRlclwiKTt2YXIgZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkoYXJndW1lbnRzKTt0aGlzLm9wdGlvbnM9YXx8e30sYi5WaWV3LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGQpLGYuTW9uaXRvckRPTVJlZnJlc2godGhpcyksdGhpcy5saXN0ZW5Ubyh0aGlzLFwic2hvd1wiLHRoaXMub25TaG93Q2FsbGVkLHRoaXMpfSx0cmlnZ2VyTWV0aG9kOmYudHJpZ2dlck1ldGhvZCxnZXRUZW1wbGF0ZTpmdW5jdGlvbigpe3JldHVybiBmLmdldE9wdGlvbih0aGlzLFwidGVtcGxhdGVcIil9LG1peGluVGVtcGxhdGVIZWxwZXJzOmZ1bmN0aW9uKGEpe2E9YXx8e307dmFyIGI9Zi5nZXRPcHRpb24odGhpcyxcInRlbXBsYXRlSGVscGVyc1wiKTtyZXR1cm4gYy5pc0Z1bmN0aW9uKGIpJiYoYj1iLmNhbGwodGhpcykpLGMuZXh0ZW5kKGEsYil9LGNvbmZpZ3VyZVRyaWdnZXJzOmZ1bmN0aW9uKCl7aWYodGhpcy50cmlnZ2Vycyl7dmFyIGE9e30sYj1jLnJlc3VsdCh0aGlzLFwidHJpZ2dlcnNcIik7cmV0dXJuIGMuZWFjaChiLGZ1bmN0aW9uKGIsZCl7dmFyIGU9Yy5pc09iamVjdChiKSxmPWU/Yi5ldmVudDpiO2FbZF09ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGM9YS5wcmV2ZW50RGVmYXVsdCxkPWEuc3RvcFByb3BhZ2F0aW9uLGc9ZT9iLnByZXZlbnREZWZhdWx0OmMsaD1lP2Iuc3RvcFByb3BhZ2F0aW9uOmQ7ZyYmYyYmYy5hcHBseShhKSxoJiZkJiZkLmFwcGx5KGEpfXZhciBpPXt2aWV3OnRoaXMsbW9kZWw6dGhpcy5tb2RlbCxjb2xsZWN0aW9uOnRoaXMuY29sbGVjdGlvbn07dGhpcy50cmlnZ2VyTWV0aG9kKGYsaSl9fSx0aGlzKSxhfX0sZGVsZWdhdGVFdmVudHM6ZnVuY3Rpb24oYSl7dGhpcy5fZGVsZWdhdGVET01FdmVudHMoYSksZi5iaW5kRW50aXR5RXZlbnRzKHRoaXMsdGhpcy5tb2RlbCxmLmdldE9wdGlvbih0aGlzLFwibW9kZWxFdmVudHNcIikpLGYuYmluZEVudGl0eUV2ZW50cyh0aGlzLHRoaXMuY29sbGVjdGlvbixmLmdldE9wdGlvbih0aGlzLFwiY29sbGVjdGlvbkV2ZW50c1wiKSl9LF9kZWxlZ2F0ZURPTUV2ZW50czpmdW5jdGlvbihhKXthPWF8fHRoaXMuZXZlbnRzLGMuaXNGdW5jdGlvbihhKSYmKGE9YS5jYWxsKHRoaXMpKTt2YXIgZD17fSxlPXRoaXMuY29uZmlndXJlVHJpZ2dlcnMoKTtjLmV4dGVuZChkLGEsZSksYi5WaWV3LnByb3RvdHlwZS5kZWxlZ2F0ZUV2ZW50cy5jYWxsKHRoaXMsZCl9LHVuZGVsZWdhdGVFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO2IuVmlldy5wcm90b3R5cGUudW5kZWxlZ2F0ZUV2ZW50cy5hcHBseSh0aGlzLGEpLGYudW5iaW5kRW50aXR5RXZlbnRzKHRoaXMsdGhpcy5tb2RlbCxmLmdldE9wdGlvbih0aGlzLFwibW9kZWxFdmVudHNcIikpLGYudW5iaW5kRW50aXR5RXZlbnRzKHRoaXMsdGhpcy5jb2xsZWN0aW9uLGYuZ2V0T3B0aW9uKHRoaXMsXCJjb2xsZWN0aW9uRXZlbnRzXCIpKX0sb25TaG93Q2FsbGVkOmZ1bmN0aW9uKCl7fSxjbG9zZTpmdW5jdGlvbigpe2lmKCF0aGlzLmlzQ2xvc2VkKXt2YXIgYT10aGlzLnRyaWdnZXJNZXRob2QoXCJiZWZvcmU6Y2xvc2VcIik7YSE9PSExJiYodGhpcy5pc0Nsb3NlZD0hMCx0aGlzLnRyaWdnZXJNZXRob2QoXCJjbG9zZVwiKSx0aGlzLnVuYmluZFVJRWxlbWVudHMoKSx0aGlzLnJlbW92ZSgpKX19LGJpbmRVSUVsZW1lbnRzOmZ1bmN0aW9uKCl7aWYodGhpcy51aSl7dGhpcy5fdWlCaW5kaW5nc3x8KHRoaXMuX3VpQmluZGluZ3M9dGhpcy51aSk7dmFyIGE9Yy5yZXN1bHQodGhpcyxcIl91aUJpbmRpbmdzXCIpO3RoaXMudWk9e30sYy5lYWNoKGMua2V5cyhhKSxmdW5jdGlvbihiKXt2YXIgYz1hW2JdO3RoaXMudWlbYl09dGhpcy4kKGMpfSx0aGlzKX19LHVuYmluZFVJRWxlbWVudHM6ZnVuY3Rpb24oKXt0aGlzLnVpJiZ0aGlzLl91aUJpbmRpbmdzJiYoYy5lYWNoKHRoaXMudWksZnVuY3Rpb24oYSxiKXtkZWxldGUgdGhpcy51aVtiXX0sdGhpcyksdGhpcy51aT10aGlzLl91aUJpbmRpbmdzLGRlbGV0ZSB0aGlzLl91aUJpbmRpbmdzKX19KSxmLkl0ZW1WaWV3PWYuVmlldy5leHRlbmQoe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7Zi5WaWV3LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGQoYXJndW1lbnRzKSl9LHNlcmlhbGl6ZURhdGE6ZnVuY3Rpb24oKXt2YXIgYT17fTtyZXR1cm4gdGhpcy5tb2RlbD9hPXRoaXMubW9kZWwudG9KU09OKCk6dGhpcy5jb2xsZWN0aW9uJiYoYT17aXRlbXM6dGhpcy5jb2xsZWN0aW9uLnRvSlNPTigpfSksYX0scmVuZGVyOmZ1bmN0aW9uKCl7dGhpcy5pc0Nsb3NlZD0hMSx0aGlzLnRyaWdnZXJNZXRob2QoXCJiZWZvcmU6cmVuZGVyXCIsdGhpcyksdGhpcy50cmlnZ2VyTWV0aG9kKFwiaXRlbTpiZWZvcmU6cmVuZGVyXCIsdGhpcyk7dmFyIGE9dGhpcy5zZXJpYWxpemVEYXRhKCk7YT10aGlzLm1peGluVGVtcGxhdGVIZWxwZXJzKGEpO3ZhciBiPXRoaXMuZ2V0VGVtcGxhdGUoKSxjPWYuUmVuZGVyZXIucmVuZGVyKGIsYSk7cmV0dXJuIHRoaXMuJGVsLmh0bWwoYyksdGhpcy5iaW5kVUlFbGVtZW50cygpLHRoaXMudHJpZ2dlck1ldGhvZChcInJlbmRlclwiLHRoaXMpLHRoaXMudHJpZ2dlck1ldGhvZChcIml0ZW06cmVuZGVyZWRcIix0aGlzKSx0aGlzfSxjbG9zZTpmdW5jdGlvbigpe3RoaXMuaXNDbG9zZWR8fCh0aGlzLnRyaWdnZXJNZXRob2QoXCJpdGVtOmJlZm9yZTpjbG9zZVwiKSxmLlZpZXcucHJvdG90eXBlLmNsb3NlLmFwcGx5KHRoaXMsZChhcmd1bWVudHMpKSx0aGlzLnRyaWdnZXJNZXRob2QoXCJpdGVtOmNsb3NlZFwiKSl9fSksZi5Db2xsZWN0aW9uVmlldz1mLlZpZXcuZXh0ZW5kKHtpdGVtVmlld0V2ZW50UHJlZml4OlwiaXRlbXZpZXdcIixjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3RoaXMuX2luaXRDaGlsZFZpZXdTdG9yYWdlKCksZi5WaWV3LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGQoYXJndW1lbnRzKSksdGhpcy5faW5pdGlhbEV2ZW50cygpLHRoaXMuaW5pdFJlbmRlckJ1ZmZlcigpfSxpbml0UmVuZGVyQnVmZmVyOmZ1bmN0aW9uKCl7dGhpcy5lbEJ1ZmZlcj1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCl9LHN0YXJ0QnVmZmVyaW5nOmZ1bmN0aW9uKCl7dGhpcy5pbml0UmVuZGVyQnVmZmVyKCksdGhpcy5pc0J1ZmZlcmluZz0hMH0sZW5kQnVmZmVyaW5nOmZ1bmN0aW9uKCl7dGhpcy5hcHBlbmRCdWZmZXIodGhpcyx0aGlzLmVsQnVmZmVyKSx0aGlzLmluaXRSZW5kZXJCdWZmZXIoKSx0aGlzLmlzQnVmZmVyaW5nPSExfSxfaW5pdGlhbEV2ZW50czpmdW5jdGlvbigpe3RoaXMuY29sbGVjdGlvbiYmKHRoaXMubGlzdGVuVG8odGhpcy5jb2xsZWN0aW9uLFwiYWRkXCIsdGhpcy5hZGRDaGlsZFZpZXcsdGhpcyksdGhpcy5saXN0ZW5Ubyh0aGlzLmNvbGxlY3Rpb24sXCJyZW1vdmVcIix0aGlzLnJlbW92ZUl0ZW1WaWV3LHRoaXMpLHRoaXMubGlzdGVuVG8odGhpcy5jb2xsZWN0aW9uLFwicmVzZXRcIix0aGlzLnJlbmRlcix0aGlzKSl9LGFkZENoaWxkVmlldzpmdW5jdGlvbihhKXt0aGlzLmNsb3NlRW1wdHlWaWV3KCk7dmFyIGI9dGhpcy5nZXRJdGVtVmlldyhhKSxjPXRoaXMuY29sbGVjdGlvbi5pbmRleE9mKGEpO3RoaXMuYWRkSXRlbVZpZXcoYSxiLGMpfSxvblNob3dDYWxsZWQ6ZnVuY3Rpb24oKXt0aGlzLmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oYSl7Zi50cmlnZ2VyTWV0aG9kLmNhbGwoYSxcInNob3dcIil9KX0sdHJpZ2dlckJlZm9yZVJlbmRlcjpmdW5jdGlvbigpe3RoaXMudHJpZ2dlck1ldGhvZChcImJlZm9yZTpyZW5kZXJcIix0aGlzKSx0aGlzLnRyaWdnZXJNZXRob2QoXCJjb2xsZWN0aW9uOmJlZm9yZTpyZW5kZXJcIix0aGlzKX0sdHJpZ2dlclJlbmRlcmVkOmZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyTWV0aG9kKFwicmVuZGVyXCIsdGhpcyksdGhpcy50cmlnZ2VyTWV0aG9kKFwiY29sbGVjdGlvbjpyZW5kZXJlZFwiLHRoaXMpfSxyZW5kZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Nsb3NlZD0hMSx0aGlzLnRyaWdnZXJCZWZvcmVSZW5kZXIoKSx0aGlzLl9yZW5kZXJDaGlsZHJlbigpLHRoaXMudHJpZ2dlclJlbmRlcmVkKCksdGhpc30sX3JlbmRlckNoaWxkcmVuOmZ1bmN0aW9uKCl7dGhpcy5zdGFydEJ1ZmZlcmluZygpLHRoaXMuY2xvc2VFbXB0eVZpZXcoKSx0aGlzLmNsb3NlQ2hpbGRyZW4oKSx0aGlzLmNvbGxlY3Rpb24mJnRoaXMuY29sbGVjdGlvbi5sZW5ndGg+MD90aGlzLnNob3dDb2xsZWN0aW9uKCk6dGhpcy5zaG93RW1wdHlWaWV3KCksdGhpcy5lbmRCdWZmZXJpbmcoKX0sc2hvd0NvbGxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmNvbGxlY3Rpb24uZWFjaChmdW5jdGlvbihiLGMpe2E9dGhpcy5nZXRJdGVtVmlldyhiKSx0aGlzLmFkZEl0ZW1WaWV3KGIsYSxjKX0sdGhpcyl9LHNob3dFbXB0eVZpZXc6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEVtcHR5VmlldygpO2lmKGEmJiF0aGlzLl9zaG93aW5nRW1wdHlWaWV3KXt0aGlzLl9zaG93aW5nRW1wdHlWaWV3PSEwO3ZhciBjPW5ldyBiLk1vZGVsO3RoaXMuYWRkSXRlbVZpZXcoYyxhLDApfX0sY2xvc2VFbXB0eVZpZXc6ZnVuY3Rpb24oKXt0aGlzLl9zaG93aW5nRW1wdHlWaWV3JiYodGhpcy5jbG9zZUNoaWxkcmVuKCksZGVsZXRlIHRoaXMuX3Nob3dpbmdFbXB0eVZpZXcpfSxnZXRFbXB0eVZpZXc6ZnVuY3Rpb24oKXtyZXR1cm4gZi5nZXRPcHRpb24odGhpcyxcImVtcHR5Vmlld1wiKX0sZ2V0SXRlbVZpZXc6ZnVuY3Rpb24oKXt2YXIgYT1mLmdldE9wdGlvbih0aGlzLFwiaXRlbVZpZXdcIik7cmV0dXJuIGF8fGUoXCJBbiBgaXRlbVZpZXdgIG11c3QgYmUgc3BlY2lmaWVkXCIsXCJOb0l0ZW1WaWV3RXJyb3JcIiksYX0sYWRkSXRlbVZpZXc6ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPWYuZ2V0T3B0aW9uKHRoaXMsXCJpdGVtVmlld09wdGlvbnNcIik7Yy5pc0Z1bmN0aW9uKGUpJiYoZT1lLmNhbGwodGhpcyxhLGQpKTt2YXIgZz10aGlzLmJ1aWxkSXRlbVZpZXcoYSxiLGUpO3RoaXMuYWRkQ2hpbGRWaWV3RXZlbnRGb3J3YXJkaW5nKGcpLHRoaXMudHJpZ2dlck1ldGhvZChcImJlZm9yZTppdGVtOmFkZGVkXCIsZyksdGhpcy5jaGlsZHJlbi5hZGQoZyksdGhpcy5yZW5kZXJJdGVtVmlldyhnLGQpLHRoaXMuX2lzU2hvd24mJmYudHJpZ2dlck1ldGhvZC5jYWxsKGcsXCJzaG93XCIpLHRoaXMudHJpZ2dlck1ldGhvZChcImFmdGVyOml0ZW06YWRkZWRcIixnKX0sYWRkQ2hpbGRWaWV3RXZlbnRGb3J3YXJkaW5nOmZ1bmN0aW9uKGEpe3ZhciBiPWYuZ2V0T3B0aW9uKHRoaXMsXCJpdGVtVmlld0V2ZW50UHJlZml4XCIpO3RoaXMubGlzdGVuVG8oYSxcImFsbFwiLGZ1bmN0aW9uKCl7dmFyIGM9ZChhcmd1bWVudHMpO2NbMF09YitcIjpcIitjWzBdLGMuc3BsaWNlKDEsMCxhKSxmLnRyaWdnZXJNZXRob2QuYXBwbHkodGhpcyxjKX0sdGhpcyl9LHJlbmRlckl0ZW1WaWV3OmZ1bmN0aW9uKGEsYil7YS5yZW5kZXIoKSx0aGlzLmFwcGVuZEh0bWwodGhpcyxhLGIpfSxidWlsZEl0ZW1WaWV3OmZ1bmN0aW9uKGEsYixkKXt2YXIgZT1jLmV4dGVuZCh7bW9kZWw6YX0sZCk7cmV0dXJuIG5ldyBiKGUpfSxyZW1vdmVJdGVtVmlldzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNoaWxkcmVuLmZpbmRCeU1vZGVsKGEpO3RoaXMucmVtb3ZlQ2hpbGRWaWV3KGIpLHRoaXMuY2hlY2tFbXB0eSgpfSxyZW1vdmVDaGlsZFZpZXc6ZnVuY3Rpb24oYSl7YSYmKHRoaXMuc3RvcExpc3RlbmluZyhhKSxhLmNsb3NlP2EuY2xvc2UoKTphLnJlbW92ZSYmYS5yZW1vdmUoKSx0aGlzLmNoaWxkcmVuLnJlbW92ZShhKSksdGhpcy50cmlnZ2VyTWV0aG9kKFwiaXRlbTpyZW1vdmVkXCIsYSl9LGNoZWNrRW1wdHk6ZnVuY3Rpb24oKXt0aGlzLmNvbGxlY3Rpb24mJjAhPT10aGlzLmNvbGxlY3Rpb24ubGVuZ3RofHx0aGlzLnNob3dFbXB0eVZpZXcoKX0sYXBwZW5kQnVmZmVyOmZ1bmN0aW9uKGEsYil7YS4kZWwuYXBwZW5kKGIpfSxhcHBlbmRIdG1sOmZ1bmN0aW9uKGEsYil7YS5pc0J1ZmZlcmluZz9hLmVsQnVmZmVyLmFwcGVuZENoaWxkKGIuZWwpOmEuJGVsLmFwcGVuZChiLmVsKX0sX2luaXRDaGlsZFZpZXdTdG9yYWdlOmZ1bmN0aW9uKCl7dGhpcy5jaGlsZHJlbj1uZXcgYi5DaGlsZFZpZXdDb250YWluZXJ9LGNsb3NlOmZ1bmN0aW9uKCl7dGhpcy5pc0Nsb3NlZHx8KHRoaXMudHJpZ2dlck1ldGhvZChcImNvbGxlY3Rpb246YmVmb3JlOmNsb3NlXCIpLHRoaXMuY2xvc2VDaGlsZHJlbigpLHRoaXMudHJpZ2dlck1ldGhvZChcImNvbGxlY3Rpb246Y2xvc2VkXCIpLGYuVmlldy5wcm90b3R5cGUuY2xvc2UuYXBwbHkodGhpcyxkKGFyZ3VtZW50cykpKX0sY2xvc2VDaGlsZHJlbjpmdW5jdGlvbigpe3RoaXMuY2hpbGRyZW4uZWFjaChmdW5jdGlvbihhKXt0aGlzLnJlbW92ZUNoaWxkVmlldyhhKX0sdGhpcyksdGhpcy5jaGVja0VtcHR5KCl9fSksZi5Db21wb3NpdGVWaWV3PWYuQ29sbGVjdGlvblZpZXcuZXh0ZW5kKHtjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe2YuQ29sbGVjdGlvblZpZXcucHJvdG90eXBlLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsZChhcmd1bWVudHMpKX0sX2luaXRpYWxFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLm9uY2UoXCJyZW5kZXJcIixmdW5jdGlvbigpe3RoaXMuY29sbGVjdGlvbiYmKHRoaXMubGlzdGVuVG8odGhpcy5jb2xsZWN0aW9uLFwiYWRkXCIsdGhpcy5hZGRDaGlsZFZpZXcsdGhpcyksdGhpcy5saXN0ZW5Ubyh0aGlzLmNvbGxlY3Rpb24sXCJyZW1vdmVcIix0aGlzLnJlbW92ZUl0ZW1WaWV3LHRoaXMpLHRoaXMubGlzdGVuVG8odGhpcy5jb2xsZWN0aW9uLFwicmVzZXRcIix0aGlzLl9yZW5kZXJDaGlsZHJlbix0aGlzKSl9KX0sZ2V0SXRlbVZpZXc6ZnVuY3Rpb24oKXt2YXIgYT1mLmdldE9wdGlvbih0aGlzLFwiaXRlbVZpZXdcIil8fHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIGF8fGUoXCJBbiBgaXRlbVZpZXdgIG11c3QgYmUgc3BlY2lmaWVkXCIsXCJOb0l0ZW1WaWV3RXJyb3JcIiksYX0sc2VyaWFsaXplRGF0YTpmdW5jdGlvbigpe3ZhciBhPXt9O3JldHVybiB0aGlzLm1vZGVsJiYoYT10aGlzLm1vZGVsLnRvSlNPTigpKSxhfSxyZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLmlzUmVuZGVyZWQ9ITAsdGhpcy5pc0Nsb3NlZD0hMSx0aGlzLnJlc2V0SXRlbVZpZXdDb250YWluZXIoKSx0aGlzLnRyaWdnZXJCZWZvcmVSZW5kZXIoKTt2YXIgYT10aGlzLnJlbmRlck1vZGVsKCk7cmV0dXJuIHRoaXMuJGVsLmh0bWwoYSksdGhpcy5iaW5kVUlFbGVtZW50cygpLHRoaXMudHJpZ2dlck1ldGhvZChcImNvbXBvc2l0ZTptb2RlbDpyZW5kZXJlZFwiKSx0aGlzLl9yZW5kZXJDaGlsZHJlbigpLHRoaXMudHJpZ2dlck1ldGhvZChcImNvbXBvc2l0ZTpyZW5kZXJlZFwiKSx0aGlzLnRyaWdnZXJSZW5kZXJlZCgpLHRoaXN9LF9yZW5kZXJDaGlsZHJlbjpmdW5jdGlvbigpe3RoaXMuaXNSZW5kZXJlZCYmKGYuQ29sbGVjdGlvblZpZXcucHJvdG90eXBlLl9yZW5kZXJDaGlsZHJlbi5jYWxsKHRoaXMpLHRoaXMudHJpZ2dlck1ldGhvZChcImNvbXBvc2l0ZTpjb2xsZWN0aW9uOnJlbmRlcmVkXCIpKX0scmVuZGVyTW9kZWw6ZnVuY3Rpb24oKXt2YXIgYT17fTthPXRoaXMuc2VyaWFsaXplRGF0YSgpLGE9dGhpcy5taXhpblRlbXBsYXRlSGVscGVycyhhKTt2YXIgYj10aGlzLmdldFRlbXBsYXRlKCk7cmV0dXJuIGYuUmVuZGVyZXIucmVuZGVyKGIsYSl9LGFwcGVuZEJ1ZmZlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0SXRlbVZpZXdDb250YWluZXIoYSk7Yy5hcHBlbmQoYil9LGFwcGVuZEh0bWw6ZnVuY3Rpb24oYSxiKXtpZihhLmlzQnVmZmVyaW5nKWEuZWxCdWZmZXIuYXBwZW5kQ2hpbGQoYi5lbCk7ZWxzZXt2YXIgYz10aGlzLmdldEl0ZW1WaWV3Q29udGFpbmVyKGEpO2MuYXBwZW5kKGIuZWwpfX0sZ2V0SXRlbVZpZXdDb250YWluZXI6ZnVuY3Rpb24oYSl7aWYoXCIkaXRlbVZpZXdDb250YWluZXJcImluIGEpcmV0dXJuIGEuJGl0ZW1WaWV3Q29udGFpbmVyO3ZhciBiLGQ9Zi5nZXRPcHRpb24oYSxcIml0ZW1WaWV3Q29udGFpbmVyXCIpO2lmKGQpe3ZhciBnPWMuaXNGdW5jdGlvbihkKT9kKCk6ZDtiPWEuJChnKSxiLmxlbmd0aDw9MCYmZShcIlRoZSBzcGVjaWZpZWQgYGl0ZW1WaWV3Q29udGFpbmVyYCB3YXMgbm90IGZvdW5kOiBcIithLml0ZW1WaWV3Q29udGFpbmVyLFwiSXRlbVZpZXdDb250YWluZXJNaXNzaW5nRXJyb3JcIil9ZWxzZSBiPWEuJGVsO3JldHVybiBhLiRpdGVtVmlld0NvbnRhaW5lcj1iLGJ9LHJlc2V0SXRlbVZpZXdDb250YWluZXI6ZnVuY3Rpb24oKXt0aGlzLiRpdGVtVmlld0NvbnRhaW5lciYmZGVsZXRlIHRoaXMuJGl0ZW1WaWV3Q29udGFpbmVyfX0pLGYuTGF5b3V0PWYuSXRlbVZpZXcuZXh0ZW5kKHtyZWdpb25UeXBlOmYuUmVnaW9uLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe2E9YXx8e30sdGhpcy5fZmlyc3RSZW5kZXI9ITAsdGhpcy5faW5pdGlhbGl6ZVJlZ2lvbnMoYSksZi5JdGVtVmlldy5wcm90b3R5cGUuY29uc3RydWN0b3IuY2FsbCh0aGlzLGEpfSxyZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLmlzQ2xvc2VkJiZ0aGlzLl9pbml0aWFsaXplUmVnaW9ucygpLHRoaXMuX2ZpcnN0UmVuZGVyP3RoaXMuX2ZpcnN0UmVuZGVyPSExOnRoaXMuaXNDbG9zZWR8fHRoaXMuX3JlSW5pdGlhbGl6ZVJlZ2lvbnMoKTt2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkoYXJndW1lbnRzKSxiPWYuSXRlbVZpZXcucHJvdG90eXBlLnJlbmRlci5hcHBseSh0aGlzLGEpO3JldHVybiBifSxjbG9zZTpmdW5jdGlvbigpe2lmKCF0aGlzLmlzQ2xvc2VkKXt0aGlzLnJlZ2lvbk1hbmFnZXIuY2xvc2UoKTt2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkoYXJndW1lbnRzKTtmLkl0ZW1WaWV3LnByb3RvdHlwZS5jbG9zZS5hcHBseSh0aGlzLGEpfX0sYWRkUmVnaW9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9e307cmV0dXJuIGNbYV09Yix0aGlzLl9idWlsZFJlZ2lvbnMoYylbYV19LGFkZFJlZ2lvbnM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucmVnaW9ucz1jLmV4dGVuZCh7fSx0aGlzLnJlZ2lvbnMsYSksdGhpcy5fYnVpbGRSZWdpb25zKGEpfSxyZW1vdmVSZWdpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGRlbGV0ZSB0aGlzLnJlZ2lvbnNbYV0sdGhpcy5yZWdpb25NYW5hZ2VyLnJlbW92ZVJlZ2lvbihhKX0sX2J1aWxkUmVnaW9uczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9e3JlZ2lvblR5cGU6Zi5nZXRPcHRpb24odGhpcyxcInJlZ2lvblR5cGVcIikscGFyZW50RWw6ZnVuY3Rpb24oKXtyZXR1cm4gYi4kZWx9fTtyZXR1cm4gdGhpcy5yZWdpb25NYW5hZ2VyLmFkZFJlZ2lvbnMoYSxjKX0sX2luaXRpYWxpemVSZWdpb25zOmZ1bmN0aW9uKGEpe3ZhciBiO3RoaXMuX2luaXRSZWdpb25NYW5hZ2VyKCksYj1jLmlzRnVuY3Rpb24odGhpcy5yZWdpb25zKT90aGlzLnJlZ2lvbnMoYSk6dGhpcy5yZWdpb25zfHx7fSx0aGlzLmFkZFJlZ2lvbnMoYil9LF9yZUluaXRpYWxpemVSZWdpb25zOmZ1bmN0aW9uKCl7dGhpcy5yZWdpb25NYW5hZ2VyLmNsb3NlUmVnaW9ucygpLHRoaXMucmVnaW9uTWFuYWdlci5lYWNoKGZ1bmN0aW9uKGEpe2EucmVzZXQoKX0pfSxfaW5pdFJlZ2lvbk1hbmFnZXI6ZnVuY3Rpb24oKXt0aGlzLnJlZ2lvbk1hbmFnZXI9bmV3IGYuUmVnaW9uTWFuYWdlcix0aGlzLmxpc3RlblRvKHRoaXMucmVnaW9uTWFuYWdlcixcInJlZ2lvbjphZGRcIixmdW5jdGlvbihhLGIpe3RoaXNbYV09Yix0aGlzLnRyaWdnZXIoXCJyZWdpb246YWRkXCIsYSxiKX0pLHRoaXMubGlzdGVuVG8odGhpcy5yZWdpb25NYW5hZ2VyLFwicmVnaW9uOnJlbW92ZVwiLGZ1bmN0aW9uKGEsYil7ZGVsZXRlIHRoaXNbYV0sdGhpcy50cmlnZ2VyKFwicmVnaW9uOnJlbW92ZVwiLGEsYil9KX19KSxmLkFwcFJvdXRlcj1iLlJvdXRlci5leHRlbmQoe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe2IuUm91dGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGQoYXJndW1lbnRzKSksdGhpcy5vcHRpb25zPWF8fHt9O3ZhciBjPWYuZ2V0T3B0aW9uKHRoaXMsXCJhcHBSb3V0ZXNcIiksZT10aGlzLl9nZXRDb250cm9sbGVyKCk7dGhpcy5wcm9jZXNzQXBwUm91dGVzKGUsYyl9LGFwcFJvdXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fZ2V0Q29udHJvbGxlcigpO3RoaXMuX2FkZEFwcFJvdXRlKGMsYSxiKX0scHJvY2Vzc0FwcFJvdXRlczpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBkPWMua2V5cyhiKS5yZXZlcnNlKCk7Yy5lYWNoKGQsZnVuY3Rpb24oYyl7dGhpcy5fYWRkQXBwUm91dGUoYSxjLGJbY10pfSx0aGlzKX19LF9nZXRDb250cm9sbGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZ2V0T3B0aW9uKHRoaXMsXCJjb250cm9sbGVyXCIpfSxfYWRkQXBwUm91dGU6ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPWFbZF07aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kICdcIitkK1wiJyB3YXMgbm90IGZvdW5kIG9uIHRoZSBjb250cm9sbGVyXCIpO3RoaXMucm91dGUoYixkLGMuYmluZChlLGEpKX19KSxmLkFwcGxpY2F0aW9uPWZ1bmN0aW9uKGEpe3RoaXMuX2luaXRSZWdpb25NYW5hZ2VyKCksdGhpcy5faW5pdENhbGxiYWNrcz1uZXcgZi5DYWxsYmFja3MsdGhpcy52ZW50PW5ldyBiLldyZXFyLkV2ZW50QWdncmVnYXRvcix0aGlzLmNvbW1hbmRzPW5ldyBiLldyZXFyLkNvbW1hbmRzLHRoaXMucmVxcmVzPW5ldyBiLldyZXFyLlJlcXVlc3RSZXNwb25zZSx0aGlzLnN1Ym1vZHVsZXM9e30sYy5leHRlbmQodGhpcyxhKSx0aGlzLnRyaWdnZXJNZXRob2Q9Zi50cmlnZ2VyTWV0aG9kfSxjLmV4dGVuZChmLkFwcGxpY2F0aW9uLnByb3RvdHlwZSxiLkV2ZW50cyx7ZXhlY3V0ZTpmdW5jdGlvbigpe3ZhciBhPUFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShhcmd1bWVudHMpO3RoaXMuY29tbWFuZHMuZXhlY3V0ZS5hcHBseSh0aGlzLmNvbW1hbmRzLGEpfSxyZXF1ZXN0OmZ1bmN0aW9uKCl7dmFyIGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMucmVxcmVzLnJlcXVlc3QuYXBwbHkodGhpcy5yZXFyZXMsYSl9LGFkZEluaXRpYWxpemVyOmZ1bmN0aW9uKGEpe3RoaXMuX2luaXRDYWxsYmFja3MuYWRkKGEpfSxzdGFydDpmdW5jdGlvbihhKXt0aGlzLnRyaWdnZXJNZXRob2QoXCJpbml0aWFsaXplOmJlZm9yZVwiLGEpLHRoaXMuX2luaXRDYWxsYmFja3MucnVuKGEsdGhpcyksdGhpcy50cmlnZ2VyTWV0aG9kKFwiaW5pdGlhbGl6ZTphZnRlclwiLGEpLHRoaXMudHJpZ2dlck1ldGhvZChcInN0YXJ0XCIsYSl9LGFkZFJlZ2lvbnM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX3JlZ2lvbk1hbmFnZXIuYWRkUmVnaW9ucyhhKX0sY2xvc2VSZWdpb25zOmZ1bmN0aW9uKCl7dGhpcy5fcmVnaW9uTWFuYWdlci5jbG9zZVJlZ2lvbnMoKX0scmVtb3ZlUmVnaW9uOmZ1bmN0aW9uKGEpe3RoaXMuX3JlZ2lvbk1hbmFnZXIucmVtb3ZlUmVnaW9uKGEpfSxnZXRSZWdpb246ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX3JlZ2lvbk1hbmFnZXIuZ2V0KGEpfSxtb2R1bGU6ZnVuY3Rpb24oKXt2YXIgYT1kKGFyZ3VtZW50cyk7cmV0dXJuIGEudW5zaGlmdCh0aGlzKSxmLk1vZHVsZS5jcmVhdGUuYXBwbHkoZi5Nb2R1bGUsYSl9LF9pbml0UmVnaW9uTWFuYWdlcjpmdW5jdGlvbigpe3RoaXMuX3JlZ2lvbk1hbmFnZXI9bmV3IGYuUmVnaW9uTWFuYWdlcix0aGlzLmxpc3RlblRvKHRoaXMuX3JlZ2lvbk1hbmFnZXIsXCJyZWdpb246YWRkXCIsZnVuY3Rpb24oYSxiKXt0aGlzW2FdPWJ9KSx0aGlzLmxpc3RlblRvKHRoaXMuX3JlZ2lvbk1hbmFnZXIsXCJyZWdpb246cmVtb3ZlXCIsZnVuY3Rpb24oYSl7ZGVsZXRlIHRoaXNbYV19KX19KSxmLkFwcGxpY2F0aW9uLmV4dGVuZD1mLmV4dGVuZCxmLk1vZHVsZT1mdW5jdGlvbihhLGIpe3RoaXMubW9kdWxlTmFtZT1hLHRoaXMuc3VibW9kdWxlcz17fSx0aGlzLl9zZXR1cEluaXRpYWxpemVyc0FuZEZpbmFsaXplcnMoKSx0aGlzLmFwcD1iLHRoaXMuc3RhcnRXaXRoUGFyZW50PSEwLHRoaXMudHJpZ2dlck1ldGhvZD1mLnRyaWdnZXJNZXRob2R9LGMuZXh0ZW5kKGYuTW9kdWxlLnByb3RvdHlwZSxiLkV2ZW50cyx7YWRkSW5pdGlhbGl6ZXI6ZnVuY3Rpb24oYSl7dGhpcy5faW5pdGlhbGl6ZXJDYWxsYmFja3MuYWRkKGEpfSxhZGRGaW5hbGl6ZXI6ZnVuY3Rpb24oYSl7dGhpcy5fZmluYWxpemVyQ2FsbGJhY2tzLmFkZChhKX0sc3RhcnQ6ZnVuY3Rpb24oYSl7dGhpcy5faXNJbml0aWFsaXplZHx8KGMuZWFjaCh0aGlzLnN1Ym1vZHVsZXMsZnVuY3Rpb24oYil7Yi5zdGFydFdpdGhQYXJlbnQmJmIuc3RhcnQoYSl9KSx0aGlzLnRyaWdnZXJNZXRob2QoXCJiZWZvcmU6c3RhcnRcIixhKSx0aGlzLl9pbml0aWFsaXplckNhbGxiYWNrcy5ydW4oYSx0aGlzKSx0aGlzLl9pc0luaXRpYWxpemVkPSEwLHRoaXMudHJpZ2dlck1ldGhvZChcInN0YXJ0XCIsYSkpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5faXNJbml0aWFsaXplZCYmKHRoaXMuX2lzSW5pdGlhbGl6ZWQ9ITEsZi50cmlnZ2VyTWV0aG9kLmNhbGwodGhpcyxcImJlZm9yZTpzdG9wXCIpLGMuZWFjaCh0aGlzLnN1Ym1vZHVsZXMsZnVuY3Rpb24oYSl7YS5zdG9wKCl9KSx0aGlzLl9maW5hbGl6ZXJDYWxsYmFja3MucnVuKHZvaWQgMCx0aGlzKSx0aGlzLl9pbml0aWFsaXplckNhbGxiYWNrcy5yZXNldCgpLHRoaXMuX2ZpbmFsaXplckNhbGxiYWNrcy5yZXNldCgpLGYudHJpZ2dlck1ldGhvZC5jYWxsKHRoaXMsXCJzdG9wXCIpKX0sYWRkRGVmaW5pdGlvbjpmdW5jdGlvbihhLGIpe3RoaXMuX3J1bk1vZHVsZURlZmluaXRpb24oYSxiKX0sX3J1bk1vZHVsZURlZmluaXRpb246ZnVuY3Rpb24oYSxkKXtpZihhKXt2YXIgZT1jLmZsYXR0ZW4oW3RoaXMsdGhpcy5hcHAsYixmLGYuJCxjLGRdKTthLmFwcGx5KHRoaXMsZSl9fSxfc2V0dXBJbml0aWFsaXplcnNBbmRGaW5hbGl6ZXJzOmZ1bmN0aW9uKCl7dGhpcy5faW5pdGlhbGl6ZXJDYWxsYmFja3M9bmV3IGYuQ2FsbGJhY2tzLHRoaXMuX2ZpbmFsaXplckNhbGxiYWNrcz1uZXcgZi5DYWxsYmFja3N9fSksYy5leHRlbmQoZi5Nb2R1bGUse2NyZWF0ZTpmdW5jdGlvbihhLGIsZSl7dmFyIGY9YSxnPWQoYXJndW1lbnRzKTtnLnNwbGljZSgwLDMpLGI9Yi5zcGxpdChcIi5cIik7dmFyIGg9Yi5sZW5ndGgsaT1bXTtyZXR1cm4gaVtoLTFdPWUsYy5lYWNoKGIsZnVuY3Rpb24oYixjKXt2YXIgZD1mO2Y9dGhpcy5fZ2V0TW9kdWxlKGQsYixhKSx0aGlzLl9hZGRNb2R1bGVEZWZpbml0aW9uKGQsZixpW2NdLGcpfSx0aGlzKSxmfSxfZ2V0TW9kdWxlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hW2JdO3JldHVybiBkfHwoZD1uZXcgZi5Nb2R1bGUoYixjKSxhW2JdPWQsYS5zdWJtb2R1bGVzW2JdPWQpLGR9LF9hZGRNb2R1bGVEZWZpbml0aW9uOmZ1bmN0aW9uKGEsYixkLGUpe3ZhciBmLGc7Yy5pc0Z1bmN0aW9uKGQpPyhmPWQsZz0hMCk6Yy5pc09iamVjdChkKT8oZj1kLmRlZmluZSxnPWQuc3RhcnRXaXRoUGFyZW50KTpnPSEwLGYmJmIuYWRkRGVmaW5pdGlvbihmLGUpLGIuc3RhcnRXaXRoUGFyZW50PWIuc3RhcnRXaXRoUGFyZW50JiZnLGIuc3RhcnRXaXRoUGFyZW50JiYhYi5zdGFydFdpdGhQYXJlbnRJc0NvbmZpZ3VyZWQmJihiLnN0YXJ0V2l0aFBhcmVudElzQ29uZmlndXJlZD0hMCxhLmFkZEluaXRpYWxpemVyKGZ1bmN0aW9uKGEpe2Iuc3RhcnRXaXRoUGFyZW50JiZiLnN0YXJ0KGEpfSkpfX0pLGZ9KHRoaXMsQmFja2JvbmUsXyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYWNrYm9uZS5tYXJpb25ldHRlLm1hcFxuOyBicm93c2VyaWZ5X3NoaW1fX2RlZmluZV9fbW9kdWxlX19leHBvcnRfXyh0eXBlb2YgTWFyaW9uZXR0ZSAhPSBcInVuZGVmaW5lZFwiID8gTWFyaW9uZXR0ZSA6IHdpbmRvdy5NYXJpb25ldHRlKTtcblxufSkuY2FsbChnbG9iYWwsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uIGRlZmluZUV4cG9ydChleCkgeyBtb2R1bGUuZXhwb3J0cyA9IGV4OyB9KTtcbn0pLmNhbGwodGhpcyx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pIiwiKGZ1bmN0aW9uIChnbG9iYWwpeyhmdW5jdGlvbiBicm93c2VyaWZ5U2hpbShtb2R1bGUsIGV4cG9ydHMsIGRlZmluZSwgYnJvd3NlcmlmeV9zaGltX19kZWZpbmVfX21vZHVsZV9fZXhwb3J0X18pIHtcblxuOyBnbG9iYWwuJCA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG5nbG9iYWwudW5kZXJzY29yZSA9IHJlcXVpcmUoXCJ1bmRlcnNjb3JlXCIpO1xuKGZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt2YXIgZT10LkJhY2tib25lO3ZhciBpPVtdO3ZhciByPWkucHVzaDt2YXIgcz1pLnNsaWNlO3ZhciBuPWkuc3BsaWNlO3ZhciBhO2lmKHR5cGVvZiBleHBvcnRzIT09XCJ1bmRlZmluZWRcIil7YT1leHBvcnRzfWVsc2V7YT10LkJhY2tib25lPXt9fWEuVkVSU0lPTj1cIjEuMS4wXCI7dmFyIGg9dC5fO2lmKCFoJiZ0eXBlb2YgcmVxdWlyZSE9PVwidW5kZWZpbmVkXCIpaD1yZXF1aXJlKFwidW5kZXJzY29yZVwiKTthLiQ9dC5qUXVlcnl8fHQuWmVwdG98fHQuZW5kZXJ8fHQuJDthLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXt0LkJhY2tib25lPWU7cmV0dXJuIHRoaXN9O2EuZW11bGF0ZUhUVFA9ZmFsc2U7YS5lbXVsYXRlSlNPTj1mYWxzZTt2YXIgbz1hLkV2ZW50cz17b246ZnVuY3Rpb24odCxlLGkpe2lmKCFsKHRoaXMsXCJvblwiLHQsW2UsaV0pfHwhZSlyZXR1cm4gdGhpczt0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pO3ZhciByPXRoaXMuX2V2ZW50c1t0XXx8KHRoaXMuX2V2ZW50c1t0XT1bXSk7ci5wdXNoKHtjYWxsYmFjazplLGNvbnRleHQ6aSxjdHg6aXx8dGhpc30pO3JldHVybiB0aGlzfSxvbmNlOmZ1bmN0aW9uKHQsZSxpKXtpZighbCh0aGlzLFwib25jZVwiLHQsW2UsaV0pfHwhZSlyZXR1cm4gdGhpczt2YXIgcj10aGlzO3ZhciBzPWgub25jZShmdW5jdGlvbigpe3Iub2ZmKHQscyk7ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KTtzLl9jYWxsYmFjaz1lO3JldHVybiB0aGlzLm9uKHQscyxpKX0sb2ZmOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG4sYSxvLHUsYyxmO2lmKCF0aGlzLl9ldmVudHN8fCFsKHRoaXMsXCJvZmZcIix0LFtlLGldKSlyZXR1cm4gdGhpcztpZighdCYmIWUmJiFpKXt0aGlzLl9ldmVudHM9e307cmV0dXJuIHRoaXN9YT10P1t0XTpoLmtleXModGhpcy5fZXZlbnRzKTtmb3Iobz0wLHU9YS5sZW5ndGg7bzx1O28rKyl7dD1hW29dO2lmKG49dGhpcy5fZXZlbnRzW3RdKXt0aGlzLl9ldmVudHNbdF09cj1bXTtpZihlfHxpKXtmb3IoYz0wLGY9bi5sZW5ndGg7YzxmO2MrKyl7cz1uW2NdO2lmKGUmJmUhPT1zLmNhbGxiYWNrJiZlIT09cy5jYWxsYmFjay5fY2FsbGJhY2t8fGkmJmkhPT1zLmNvbnRleHQpe3IucHVzaChzKX19fWlmKCFyLmxlbmd0aClkZWxldGUgdGhpcy5fZXZlbnRzW3RdfX1yZXR1cm4gdGhpc30sdHJpZ2dlcjpmdW5jdGlvbih0KXtpZighdGhpcy5fZXZlbnRzKXJldHVybiB0aGlzO3ZhciBlPXMuY2FsbChhcmd1bWVudHMsMSk7aWYoIWwodGhpcyxcInRyaWdnZXJcIix0LGUpKXJldHVybiB0aGlzO3ZhciBpPXRoaXMuX2V2ZW50c1t0XTt2YXIgcj10aGlzLl9ldmVudHMuYWxsO2lmKGkpYyhpLGUpO2lmKHIpYyhyLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9LHN0b3BMaXN0ZW5pbmc6ZnVuY3Rpb24odCxlLGkpe3ZhciByPXRoaXMuX2xpc3RlbmluZ1RvO2lmKCFyKXJldHVybiB0aGlzO3ZhciBzPSFlJiYhaTtpZighaSYmdHlwZW9mIGU9PT1cIm9iamVjdFwiKWk9dGhpcztpZih0KShyPXt9KVt0Ll9saXN0ZW5JZF09dDtmb3IodmFyIG4gaW4gcil7dD1yW25dO3Qub2ZmKGUsaSx0aGlzKTtpZihzfHxoLmlzRW1wdHkodC5fZXZlbnRzKSlkZWxldGUgdGhpcy5fbGlzdGVuaW5nVG9bbl19cmV0dXJuIHRoaXN9fTt2YXIgdT0vXFxzKy87dmFyIGw9ZnVuY3Rpb24odCxlLGkscil7aWYoIWkpcmV0dXJuIHRydWU7aWYodHlwZW9mIGk9PT1cIm9iamVjdFwiKXtmb3IodmFyIHMgaW4gaSl7dFtlXS5hcHBseSh0LFtzLGlbc11dLmNvbmNhdChyKSl9cmV0dXJuIGZhbHNlfWlmKHUudGVzdChpKSl7dmFyIG49aS5zcGxpdCh1KTtmb3IodmFyIGE9MCxoPW4ubGVuZ3RoO2E8aDthKyspe3RbZV0uYXBwbHkodCxbblthXV0uY29uY2F0KHIpKX1yZXR1cm4gZmFsc2V9cmV0dXJuIHRydWV9O3ZhciBjPWZ1bmN0aW9uKHQsZSl7dmFyIGkscj0tMSxzPXQubGVuZ3RoLG49ZVswXSxhPWVbMV0saD1lWzJdO3N3aXRjaChlLmxlbmd0aCl7Y2FzZSAwOndoaWxlKCsrcjxzKShpPXRbcl0pLmNhbGxiYWNrLmNhbGwoaS5jdHgpO3JldHVybjtjYXNlIDE6d2hpbGUoKytyPHMpKGk9dFtyXSkuY2FsbGJhY2suY2FsbChpLmN0eCxuKTtyZXR1cm47Y2FzZSAyOndoaWxlKCsrcjxzKShpPXRbcl0pLmNhbGxiYWNrLmNhbGwoaS5jdHgsbixhKTtyZXR1cm47Y2FzZSAzOndoaWxlKCsrcjxzKShpPXRbcl0pLmNhbGxiYWNrLmNhbGwoaS5jdHgsbixhLGgpO3JldHVybjtkZWZhdWx0OndoaWxlKCsrcjxzKShpPXRbcl0pLmNhbGxiYWNrLmFwcGx5KGkuY3R4LGUpfX07dmFyIGY9e2xpc3RlblRvOlwib25cIixsaXN0ZW5Ub09uY2U6XCJvbmNlXCJ9O2guZWFjaChmLGZ1bmN0aW9uKHQsZSl7b1tlXT1mdW5jdGlvbihlLGkscil7dmFyIHM9dGhpcy5fbGlzdGVuaW5nVG98fCh0aGlzLl9saXN0ZW5pbmdUbz17fSk7dmFyIG49ZS5fbGlzdGVuSWR8fChlLl9saXN0ZW5JZD1oLnVuaXF1ZUlkKFwibFwiKSk7c1tuXT1lO2lmKCFyJiZ0eXBlb2YgaT09PVwib2JqZWN0XCIpcj10aGlzO2VbdF0oaSxyLHRoaXMpO3JldHVybiB0aGlzfX0pO28uYmluZD1vLm9uO28udW5iaW5kPW8ub2ZmO2guZXh0ZW5kKGEsbyk7dmFyIGQ9YS5Nb2RlbD1mdW5jdGlvbih0LGUpe3ZhciBpPXR8fHt9O2V8fChlPXt9KTt0aGlzLmNpZD1oLnVuaXF1ZUlkKFwiY1wiKTt0aGlzLmF0dHJpYnV0ZXM9e307aWYoZS5jb2xsZWN0aW9uKXRoaXMuY29sbGVjdGlvbj1lLmNvbGxlY3Rpb247aWYoZS5wYXJzZSlpPXRoaXMucGFyc2UoaSxlKXx8e307aT1oLmRlZmF1bHRzKHt9LGksaC5yZXN1bHQodGhpcyxcImRlZmF1bHRzXCIpKTt0aGlzLnNldChpLGUpO3RoaXMuY2hhbmdlZD17fTt0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtoLmV4dGVuZChkLnByb3RvdHlwZSxvLHtjaGFuZ2VkOm51bGwsdmFsaWRhdGlvbkVycm9yOm51bGwsaWRBdHRyaWJ1dGU6XCJpZFwiLGluaXRpYWxpemU6ZnVuY3Rpb24oKXt9LHRvSlNPTjpmdW5jdGlvbih0KXtyZXR1cm4gaC5jbG9uZSh0aGlzLmF0dHJpYnV0ZXMpfSxzeW5jOmZ1bmN0aW9uKCl7cmV0dXJuIGEuc3luYy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGdldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW3RdfSxlc2NhcGU6ZnVuY3Rpb24odCl7cmV0dXJuIGguZXNjYXBlKHRoaXMuZ2V0KHQpKX0saGFzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldCh0KSE9bnVsbH0sc2V0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG4sYSxvLHUsbCxjO2lmKHQ9PW51bGwpcmV0dXJuIHRoaXM7aWYodHlwZW9mIHQ9PT1cIm9iamVjdFwiKXtzPXQ7aT1lfWVsc2V7KHM9e30pW3RdPWV9aXx8KGk9e30pO2lmKCF0aGlzLl92YWxpZGF0ZShzLGkpKXJldHVybiBmYWxzZTtuPWkudW5zZXQ7bz1pLnNpbGVudDthPVtdO3U9dGhpcy5fY2hhbmdpbmc7dGhpcy5fY2hhbmdpbmc9dHJ1ZTtpZighdSl7dGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzPWguY2xvbmUodGhpcy5hdHRyaWJ1dGVzKTt0aGlzLmNoYW5nZWQ9e319Yz10aGlzLmF0dHJpYnV0ZXMsbD10aGlzLl9wcmV2aW91c0F0dHJpYnV0ZXM7aWYodGhpcy5pZEF0dHJpYnV0ZSBpbiBzKXRoaXMuaWQ9c1t0aGlzLmlkQXR0cmlidXRlXTtmb3IociBpbiBzKXtlPXNbcl07aWYoIWguaXNFcXVhbChjW3JdLGUpKWEucHVzaChyKTtpZighaC5pc0VxdWFsKGxbcl0sZSkpe3RoaXMuY2hhbmdlZFtyXT1lfWVsc2V7ZGVsZXRlIHRoaXMuY2hhbmdlZFtyXX1uP2RlbGV0ZSBjW3JdOmNbcl09ZX1pZighbyl7aWYoYS5sZW5ndGgpdGhpcy5fcGVuZGluZz10cnVlO2Zvcih2YXIgZj0wLGQ9YS5sZW5ndGg7ZjxkO2YrKyl7dGhpcy50cmlnZ2VyKFwiY2hhbmdlOlwiK2FbZl0sdGhpcyxjW2FbZl1dLGkpfX1pZih1KXJldHVybiB0aGlzO2lmKCFvKXt3aGlsZSh0aGlzLl9wZW5kaW5nKXt0aGlzLl9wZW5kaW5nPWZhbHNlO3RoaXMudHJpZ2dlcihcImNoYW5nZVwiLHRoaXMsaSl9fXRoaXMuX3BlbmRpbmc9ZmFsc2U7dGhpcy5fY2hhbmdpbmc9ZmFsc2U7cmV0dXJuIHRoaXN9LHVuc2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc2V0KHQsdm9pZCAwLGguZXh0ZW5kKHt9LGUse3Vuc2V0OnRydWV9KSl9LGNsZWFyOmZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Zvcih2YXIgaSBpbiB0aGlzLmF0dHJpYnV0ZXMpZVtpXT12b2lkIDA7cmV0dXJuIHRoaXMuc2V0KGUsaC5leHRlbmQoe30sdCx7dW5zZXQ6dHJ1ZX0pKX0saGFzQ2hhbmdlZDpmdW5jdGlvbih0KXtpZih0PT1udWxsKXJldHVybiFoLmlzRW1wdHkodGhpcy5jaGFuZ2VkKTtyZXR1cm4gaC5oYXModGhpcy5jaGFuZ2VkLHQpfSxjaGFuZ2VkQXR0cmlidXRlczpmdW5jdGlvbih0KXtpZighdClyZXR1cm4gdGhpcy5oYXNDaGFuZ2VkKCk/aC5jbG9uZSh0aGlzLmNoYW5nZWQpOmZhbHNlO3ZhciBlLGk9ZmFsc2U7dmFyIHI9dGhpcy5fY2hhbmdpbmc/dGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzOnRoaXMuYXR0cmlidXRlcztmb3IodmFyIHMgaW4gdCl7aWYoaC5pc0VxdWFsKHJbc10sZT10W3NdKSljb250aW51ZTsoaXx8KGk9e30pKVtzXT1lfXJldHVybiBpfSxwcmV2aW91czpmdW5jdGlvbih0KXtpZih0PT1udWxsfHwhdGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzKXJldHVybiBudWxsO3JldHVybiB0aGlzLl9wcmV2aW91c0F0dHJpYnV0ZXNbdF19LHByZXZpb3VzQXR0cmlidXRlczpmdW5jdGlvbigpe3JldHVybiBoLmNsb25lKHRoaXMuX3ByZXZpb3VzQXR0cmlidXRlcyl9LGZldGNoOmZ1bmN0aW9uKHQpe3Q9dD9oLmNsb25lKHQpOnt9O2lmKHQucGFyc2U9PT12b2lkIDApdC5wYXJzZT10cnVlO3ZhciBlPXRoaXM7dmFyIGk9dC5zdWNjZXNzO3Quc3VjY2Vzcz1mdW5jdGlvbihyKXtpZighZS5zZXQoZS5wYXJzZShyLHQpLHQpKXJldHVybiBmYWxzZTtpZihpKWkoZSxyLHQpO2UudHJpZ2dlcihcInN5bmNcIixlLHIsdCl9O00odGhpcyx0KTtyZXR1cm4gdGhpcy5zeW5jKFwicmVhZFwiLHRoaXMsdCl9LHNhdmU6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbixhPXRoaXMuYXR0cmlidXRlcztpZih0PT1udWxsfHx0eXBlb2YgdD09PVwib2JqZWN0XCIpe3I9dDtpPWV9ZWxzZXsocj17fSlbdF09ZX1pPWguZXh0ZW5kKHt2YWxpZGF0ZTp0cnVlfSxpKTtpZihyJiYhaS53YWl0KXtpZighdGhpcy5zZXQocixpKSlyZXR1cm4gZmFsc2V9ZWxzZXtpZighdGhpcy5fdmFsaWRhdGUocixpKSlyZXR1cm4gZmFsc2V9aWYociYmaS53YWl0KXt0aGlzLmF0dHJpYnV0ZXM9aC5leHRlbmQoe30sYSxyKX1pZihpLnBhcnNlPT09dm9pZCAwKWkucGFyc2U9dHJ1ZTt2YXIgbz10aGlzO3ZhciB1PWkuc3VjY2VzcztpLnN1Y2Nlc3M9ZnVuY3Rpb24odCl7by5hdHRyaWJ1dGVzPWE7dmFyIGU9by5wYXJzZSh0LGkpO2lmKGkud2FpdCllPWguZXh0ZW5kKHJ8fHt9LGUpO2lmKGguaXNPYmplY3QoZSkmJiFvLnNldChlLGkpKXtyZXR1cm4gZmFsc2V9aWYodSl1KG8sdCxpKTtvLnRyaWdnZXIoXCJzeW5jXCIsbyx0LGkpfTtNKHRoaXMsaSk7cz10aGlzLmlzTmV3KCk/XCJjcmVhdGVcIjppLnBhdGNoP1wicGF0Y2hcIjpcInVwZGF0ZVwiO2lmKHM9PT1cInBhdGNoXCIpaS5hdHRycz1yO249dGhpcy5zeW5jKHMsdGhpcyxpKTtpZihyJiZpLndhaXQpdGhpcy5hdHRyaWJ1dGVzPWE7cmV0dXJuIG59LGRlc3Ryb3k6ZnVuY3Rpb24odCl7dD10P2guY2xvbmUodCk6e307dmFyIGU9dGhpczt2YXIgaT10LnN1Y2Nlc3M7dmFyIHI9ZnVuY3Rpb24oKXtlLnRyaWdnZXIoXCJkZXN0cm95XCIsZSxlLmNvbGxlY3Rpb24sdCl9O3Quc3VjY2Vzcz1mdW5jdGlvbihzKXtpZih0LndhaXR8fGUuaXNOZXcoKSlyKCk7aWYoaSlpKGUscyx0KTtpZighZS5pc05ldygpKWUudHJpZ2dlcihcInN5bmNcIixlLHMsdCl9O2lmKHRoaXMuaXNOZXcoKSl7dC5zdWNjZXNzKCk7cmV0dXJuIGZhbHNlfU0odGhpcyx0KTt2YXIgcz10aGlzLnN5bmMoXCJkZWxldGVcIix0aGlzLHQpO2lmKCF0LndhaXQpcigpO3JldHVybiBzfSx1cmw6ZnVuY3Rpb24oKXt2YXIgdD1oLnJlc3VsdCh0aGlzLFwidXJsUm9vdFwiKXx8aC5yZXN1bHQodGhpcy5jb2xsZWN0aW9uLFwidXJsXCIpfHxVKCk7aWYodGhpcy5pc05ldygpKXJldHVybiB0O3JldHVybiB0Kyh0LmNoYXJBdCh0Lmxlbmd0aC0xKT09PVwiL1wiP1wiXCI6XCIvXCIpK2VuY29kZVVSSUNvbXBvbmVudCh0aGlzLmlkKX0scGFyc2U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdH0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5hdHRyaWJ1dGVzKX0saXNOZXc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZD09bnVsbH0saXNWYWxpZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdmFsaWRhdGUoe30saC5leHRlbmQodHx8e30se3ZhbGlkYXRlOnRydWV9KSl9LF92YWxpZGF0ZTpmdW5jdGlvbih0LGUpe2lmKCFlLnZhbGlkYXRlfHwhdGhpcy52YWxpZGF0ZSlyZXR1cm4gdHJ1ZTt0PWguZXh0ZW5kKHt9LHRoaXMuYXR0cmlidXRlcyx0KTt2YXIgaT10aGlzLnZhbGlkYXRpb25FcnJvcj10aGlzLnZhbGlkYXRlKHQsZSl8fG51bGw7aWYoIWkpcmV0dXJuIHRydWU7dGhpcy50cmlnZ2VyKFwiaW52YWxpZFwiLHRoaXMsaSxoLmV4dGVuZChlLHt2YWxpZGF0aW9uRXJyb3I6aX0pKTtyZXR1cm4gZmFsc2V9fSk7dmFyIHA9W1wia2V5c1wiLFwidmFsdWVzXCIsXCJwYWlyc1wiLFwiaW52ZXJ0XCIsXCJwaWNrXCIsXCJvbWl0XCJdO2guZWFjaChwLGZ1bmN0aW9uKHQpe2QucHJvdG90eXBlW3RdPWZ1bmN0aW9uKCl7dmFyIGU9cy5jYWxsKGFyZ3VtZW50cyk7ZS51bnNoaWZ0KHRoaXMuYXR0cmlidXRlcyk7cmV0dXJuIGhbdF0uYXBwbHkoaCxlKX19KTt2YXIgdj1hLkNvbGxlY3Rpb249ZnVuY3Rpb24odCxlKXtlfHwoZT17fSk7aWYoZS5tb2RlbCl0aGlzLm1vZGVsPWUubW9kZWw7aWYoZS5jb21wYXJhdG9yIT09dm9pZCAwKXRoaXMuY29tcGFyYXRvcj1lLmNvbXBhcmF0b3I7dGhpcy5fcmVzZXQoKTt0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKHQpdGhpcy5yZXNldCh0LGguZXh0ZW5kKHtzaWxlbnQ6dHJ1ZX0sZSkpfTt2YXIgZz17YWRkOnRydWUscmVtb3ZlOnRydWUsbWVyZ2U6dHJ1ZX07dmFyIG09e2FkZDp0cnVlLHJlbW92ZTpmYWxzZX07aC5leHRlbmQodi5wcm90b3R5cGUsbyx7bW9kZWw6ZCxpbml0aWFsaXplOmZ1bmN0aW9uKCl7fSx0b0pTT046ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvSlNPTih0KX0pfSxzeW5jOmZ1bmN0aW9uKCl7cmV0dXJuIGEuc3luYy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGFkZDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNldCh0LGguZXh0ZW5kKHttZXJnZTpmYWxzZX0sZSxtKSl9LHJlbW92ZTpmdW5jdGlvbih0LGUpe3ZhciBpPSFoLmlzQXJyYXkodCk7dD1pP1t0XTpoLmNsb25lKHQpO2V8fChlPXt9KTt2YXIgcixzLG4sYTtmb3Iocj0wLHM9dC5sZW5ndGg7cjxzO3IrKyl7YT10W3JdPXRoaXMuZ2V0KHRbcl0pO2lmKCFhKWNvbnRpbnVlO2RlbGV0ZSB0aGlzLl9ieUlkW2EuaWRdO2RlbGV0ZSB0aGlzLl9ieUlkW2EuY2lkXTtuPXRoaXMuaW5kZXhPZihhKTt0aGlzLm1vZGVscy5zcGxpY2UobiwxKTt0aGlzLmxlbmd0aC0tO2lmKCFlLnNpbGVudCl7ZS5pbmRleD1uO2EudHJpZ2dlcihcInJlbW92ZVwiLGEsdGhpcyxlKX10aGlzLl9yZW1vdmVSZWZlcmVuY2UoYSl9cmV0dXJuIGk/dFswXTp0fSxzZXQ6ZnVuY3Rpb24odCxlKXtlPWguZGVmYXVsdHMoe30sZSxnKTtpZihlLnBhcnNlKXQ9dGhpcy5wYXJzZSh0LGUpO3ZhciBpPSFoLmlzQXJyYXkodCk7dD1pP3Q/W3RdOltdOmguY2xvbmUodCk7dmFyIHIscyxuLGEsbyx1LGw7dmFyIGM9ZS5hdDt2YXIgZj10aGlzLm1vZGVsO3ZhciBwPXRoaXMuY29tcGFyYXRvciYmYz09bnVsbCYmZS5zb3J0IT09ZmFsc2U7dmFyIHY9aC5pc1N0cmluZyh0aGlzLmNvbXBhcmF0b3IpP3RoaXMuY29tcGFyYXRvcjpudWxsO3ZhciBtPVtdLHk9W10sXz17fTt2YXIgdz1lLmFkZCxiPWUubWVyZ2UseD1lLnJlbW92ZTt2YXIgRT0hcCYmdyYmeD9bXTpmYWxzZTtmb3Iocj0wLHM9dC5sZW5ndGg7cjxzO3IrKyl7bz10W3JdO2lmKG8gaW5zdGFuY2VvZiBkKXtuPWE9b31lbHNle249b1tmLnByb3RvdHlwZS5pZEF0dHJpYnV0ZV19aWYodT10aGlzLmdldChuKSl7aWYoeClfW3UuY2lkXT10cnVlO2lmKGIpe289bz09PWE/YS5hdHRyaWJ1dGVzOm87aWYoZS5wYXJzZSlvPXUucGFyc2UobyxlKTt1LnNldChvLGUpO2lmKHAmJiFsJiZ1Lmhhc0NoYW5nZWQodikpbD10cnVlfXRbcl09dX1lbHNlIGlmKHcpe2E9dFtyXT10aGlzLl9wcmVwYXJlTW9kZWwobyxlKTtpZighYSljb250aW51ZTttLnB1c2goYSk7YS5vbihcImFsbFwiLHRoaXMuX29uTW9kZWxFdmVudCx0aGlzKTt0aGlzLl9ieUlkW2EuY2lkXT1hO2lmKGEuaWQhPW51bGwpdGhpcy5fYnlJZFthLmlkXT1hfWlmKEUpRS5wdXNoKHV8fGEpfWlmKHgpe2ZvcihyPTAscz10aGlzLmxlbmd0aDtyPHM7KytyKXtpZighX1soYT10aGlzLm1vZGVsc1tyXSkuY2lkXSl5LnB1c2goYSl9aWYoeS5sZW5ndGgpdGhpcy5yZW1vdmUoeSxlKX1pZihtLmxlbmd0aHx8RSYmRS5sZW5ndGgpe2lmKHApbD10cnVlO3RoaXMubGVuZ3RoKz1tLmxlbmd0aDtpZihjIT1udWxsKXtmb3Iocj0wLHM9bS5sZW5ndGg7cjxzO3IrKyl7dGhpcy5tb2RlbHMuc3BsaWNlKGMrciwwLG1bcl0pfX1lbHNle2lmKEUpdGhpcy5tb2RlbHMubGVuZ3RoPTA7dmFyIFQ9RXx8bTtmb3Iocj0wLHM9VC5sZW5ndGg7cjxzO3IrKyl7dGhpcy5tb2RlbHMucHVzaChUW3JdKX19fWlmKGwpdGhpcy5zb3J0KHtzaWxlbnQ6dHJ1ZX0pO2lmKCFlLnNpbGVudCl7Zm9yKHI9MCxzPW0ubGVuZ3RoO3I8cztyKyspeyhhPW1bcl0pLnRyaWdnZXIoXCJhZGRcIixhLHRoaXMsZSl9aWYobHx8RSYmRS5sZW5ndGgpdGhpcy50cmlnZ2VyKFwic29ydFwiLHRoaXMsZSl9cmV0dXJuIGk/dFswXTp0fSxyZXNldDpmdW5jdGlvbih0LGUpe2V8fChlPXt9KTtmb3IodmFyIGk9MCxyPXRoaXMubW9kZWxzLmxlbmd0aDtpPHI7aSsrKXt0aGlzLl9yZW1vdmVSZWZlcmVuY2UodGhpcy5tb2RlbHNbaV0pfWUucHJldmlvdXNNb2RlbHM9dGhpcy5tb2RlbHM7dGhpcy5fcmVzZXQoKTt0PXRoaXMuYWRkKHQsaC5leHRlbmQoe3NpbGVudDp0cnVlfSxlKSk7aWYoIWUuc2lsZW50KXRoaXMudHJpZ2dlcihcInJlc2V0XCIsdGhpcyxlKTtyZXR1cm4gdH0scHVzaDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFkZCh0LGguZXh0ZW5kKHthdDp0aGlzLmxlbmd0aH0sZSkpfSxwb3A6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5hdCh0aGlzLmxlbmd0aC0xKTt0aGlzLnJlbW92ZShlLHQpO3JldHVybiBlfSx1bnNoaWZ0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYWRkKHQsaC5leHRlbmQoe2F0OjB9LGUpKX0sc2hpZnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5hdCgwKTt0aGlzLnJlbW92ZShlLHQpO3JldHVybiBlfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiBzLmFwcGx5KHRoaXMubW9kZWxzLGFyZ3VtZW50cyl9LGdldDpmdW5jdGlvbih0KXtpZih0PT1udWxsKXJldHVybiB2b2lkIDA7cmV0dXJuIHRoaXMuX2J5SWRbdC5pZF18fHRoaXMuX2J5SWRbdC5jaWRdfHx0aGlzLl9ieUlkW3RdfSxhdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5tb2RlbHNbdF19LHdoZXJlOmZ1bmN0aW9uKHQsZSl7aWYoaC5pc0VtcHR5KHQpKXJldHVybiBlP3ZvaWQgMDpbXTtyZXR1cm4gdGhpc1tlP1wiZmluZFwiOlwiZmlsdGVyXCJdKGZ1bmN0aW9uKGUpe2Zvcih2YXIgaSBpbiB0KXtpZih0W2ldIT09ZS5nZXQoaSkpcmV0dXJuIGZhbHNlfXJldHVybiB0cnVlfSl9LGZpbmRXaGVyZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy53aGVyZSh0LHRydWUpfSxzb3J0OmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmNvbXBhcmF0b3IpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNvcnQgYSBzZXQgd2l0aG91dCBhIGNvbXBhcmF0b3JcIik7dHx8KHQ9e30pO2lmKGguaXNTdHJpbmcodGhpcy5jb21wYXJhdG9yKXx8dGhpcy5jb21wYXJhdG9yLmxlbmd0aD09PTEpe3RoaXMubW9kZWxzPXRoaXMuc29ydEJ5KHRoaXMuY29tcGFyYXRvcix0aGlzKX1lbHNle3RoaXMubW9kZWxzLnNvcnQoaC5iaW5kKHRoaXMuY29tcGFyYXRvcix0aGlzKSl9aWYoIXQuc2lsZW50KXRoaXMudHJpZ2dlcihcInNvcnRcIix0aGlzLHQpO3JldHVybiB0aGlzfSxwbHVjazpmdW5jdGlvbih0KXtyZXR1cm4gaC5pbnZva2UodGhpcy5tb2RlbHMsXCJnZXRcIix0KX0sZmV0Y2g6ZnVuY3Rpb24odCl7dD10P2guY2xvbmUodCk6e307aWYodC5wYXJzZT09PXZvaWQgMCl0LnBhcnNlPXRydWU7dmFyIGU9dC5zdWNjZXNzO3ZhciBpPXRoaXM7dC5zdWNjZXNzPWZ1bmN0aW9uKHIpe3ZhciBzPXQucmVzZXQ/XCJyZXNldFwiOlwic2V0XCI7aVtzXShyLHQpO2lmKGUpZShpLHIsdCk7aS50cmlnZ2VyKFwic3luY1wiLGkscix0KX07TSh0aGlzLHQpO3JldHVybiB0aGlzLnN5bmMoXCJyZWFkXCIsdGhpcyx0KX0sY3JlYXRlOmZ1bmN0aW9uKHQsZSl7ZT1lP2guY2xvbmUoZSk6e307aWYoISh0PXRoaXMuX3ByZXBhcmVNb2RlbCh0LGUpKSlyZXR1cm4gZmFsc2U7aWYoIWUud2FpdCl0aGlzLmFkZCh0LGUpO3ZhciBpPXRoaXM7dmFyIHI9ZS5zdWNjZXNzO2Uuc3VjY2Vzcz1mdW5jdGlvbih0LGUscyl7aWYocy53YWl0KWkuYWRkKHQscyk7aWYocilyKHQsZSxzKX07dC5zYXZlKG51bGwsZSk7cmV0dXJuIHR9LHBhcnNlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMubW9kZWxzKX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5sZW5ndGg9MDt0aGlzLm1vZGVscz1bXTt0aGlzLl9ieUlkPXt9fSxfcHJlcGFyZU1vZGVsOmZ1bmN0aW9uKHQsZSl7aWYodCBpbnN0YW5jZW9mIGQpe2lmKCF0LmNvbGxlY3Rpb24pdC5jb2xsZWN0aW9uPXRoaXM7cmV0dXJuIHR9ZT1lP2guY2xvbmUoZSk6e307ZS5jb2xsZWN0aW9uPXRoaXM7dmFyIGk9bmV3IHRoaXMubW9kZWwodCxlKTtpZighaS52YWxpZGF0aW9uRXJyb3IpcmV0dXJuIGk7dGhpcy50cmlnZ2VyKFwiaW52YWxpZFwiLHRoaXMsaS52YWxpZGF0aW9uRXJyb3IsZSk7cmV0dXJuIGZhbHNlfSxfcmVtb3ZlUmVmZXJlbmNlOmZ1bmN0aW9uKHQpe2lmKHRoaXM9PT10LmNvbGxlY3Rpb24pZGVsZXRlIHQuY29sbGVjdGlvbjt0Lm9mZihcImFsbFwiLHRoaXMuX29uTW9kZWxFdmVudCx0aGlzKX0sX29uTW9kZWxFdmVudDpmdW5jdGlvbih0LGUsaSxyKXtpZigodD09PVwiYWRkXCJ8fHQ9PT1cInJlbW92ZVwiKSYmaSE9PXRoaXMpcmV0dXJuO2lmKHQ9PT1cImRlc3Ryb3lcIil0aGlzLnJlbW92ZShlLHIpO2lmKGUmJnQ9PT1cImNoYW5nZTpcIitlLmlkQXR0cmlidXRlKXtkZWxldGUgdGhpcy5fYnlJZFtlLnByZXZpb3VzKGUuaWRBdHRyaWJ1dGUpXTtpZihlLmlkIT1udWxsKXRoaXMuX2J5SWRbZS5pZF09ZX10aGlzLnRyaWdnZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pO3ZhciB5PVtcImZvckVhY2hcIixcImVhY2hcIixcIm1hcFwiLFwiY29sbGVjdFwiLFwicmVkdWNlXCIsXCJmb2xkbFwiLFwiaW5qZWN0XCIsXCJyZWR1Y2VSaWdodFwiLFwiZm9sZHJcIixcImZpbmRcIixcImRldGVjdFwiLFwiZmlsdGVyXCIsXCJzZWxlY3RcIixcInJlamVjdFwiLFwiZXZlcnlcIixcImFsbFwiLFwic29tZVwiLFwiYW55XCIsXCJpbmNsdWRlXCIsXCJjb250YWluc1wiLFwiaW52b2tlXCIsXCJtYXhcIixcIm1pblwiLFwidG9BcnJheVwiLFwic2l6ZVwiLFwiZmlyc3RcIixcImhlYWRcIixcInRha2VcIixcImluaXRpYWxcIixcInJlc3RcIixcInRhaWxcIixcImRyb3BcIixcImxhc3RcIixcIndpdGhvdXRcIixcImRpZmZlcmVuY2VcIixcImluZGV4T2ZcIixcInNodWZmbGVcIixcImxhc3RJbmRleE9mXCIsXCJpc0VtcHR5XCIsXCJjaGFpblwiXTtoLmVhY2goeSxmdW5jdGlvbih0KXt2LnByb3RvdHlwZVt0XT1mdW5jdGlvbigpe3ZhciBlPXMuY2FsbChhcmd1bWVudHMpO2UudW5zaGlmdCh0aGlzLm1vZGVscyk7cmV0dXJuIGhbdF0uYXBwbHkoaCxlKX19KTt2YXIgXz1bXCJncm91cEJ5XCIsXCJjb3VudEJ5XCIsXCJzb3J0QnlcIl07aC5lYWNoKF8sZnVuY3Rpb24odCl7di5wcm90b3R5cGVbdF09ZnVuY3Rpb24oZSxpKXt2YXIgcj1oLmlzRnVuY3Rpb24oZSk/ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQoZSl9O3JldHVybiBoW3RdKHRoaXMubW9kZWxzLHIsaSl9fSk7dmFyIHc9YS5WaWV3PWZ1bmN0aW9uKHQpe3RoaXMuY2lkPWgudW5pcXVlSWQoXCJ2aWV3XCIpO3R8fCh0PXt9KTtoLmV4dGVuZCh0aGlzLGgucGljayh0LHgpKTt0aGlzLl9lbnN1cmVFbGVtZW50KCk7dGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmRlbGVnYXRlRXZlbnRzKCl9O3ZhciBiPS9eKFxcUyspXFxzKiguKikkLzt2YXIgeD1bXCJtb2RlbFwiLFwiY29sbGVjdGlvblwiLFwiZWxcIixcImlkXCIsXCJhdHRyaWJ1dGVzXCIsXCJjbGFzc05hbWVcIixcInRhZ05hbWVcIixcImV2ZW50c1wiXTtoLmV4dGVuZCh3LnByb3RvdHlwZSxvLHt0YWdOYW1lOlwiZGl2XCIsJDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy4kZWwuZmluZCh0KX0saW5pdGlhbGl6ZTpmdW5jdGlvbigpe30scmVuZGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuJGVsLnJlbW92ZSgpO3RoaXMuc3RvcExpc3RlbmluZygpO3JldHVybiB0aGlzfSxzZXRFbGVtZW50OmZ1bmN0aW9uKHQsZSl7aWYodGhpcy4kZWwpdGhpcy51bmRlbGVnYXRlRXZlbnRzKCk7dGhpcy4kZWw9dCBpbnN0YW5jZW9mIGEuJD90OmEuJCh0KTt0aGlzLmVsPXRoaXMuJGVsWzBdO2lmKGUhPT1mYWxzZSl0aGlzLmRlbGVnYXRlRXZlbnRzKCk7cmV0dXJuIHRoaXN9LGRlbGVnYXRlRXZlbnRzOmZ1bmN0aW9uKHQpe2lmKCEodHx8KHQ9aC5yZXN1bHQodGhpcyxcImV2ZW50c1wiKSkpKXJldHVybiB0aGlzO3RoaXMudW5kZWxlZ2F0ZUV2ZW50cygpO2Zvcih2YXIgZSBpbiB0KXt2YXIgaT10W2VdO2lmKCFoLmlzRnVuY3Rpb24oaSkpaT10aGlzW3RbZV1dO2lmKCFpKWNvbnRpbnVlO3ZhciByPWUubWF0Y2goYik7dmFyIHM9clsxXSxuPXJbMl07aT1oLmJpbmQoaSx0aGlzKTtzKz1cIi5kZWxlZ2F0ZUV2ZW50c1wiK3RoaXMuY2lkO2lmKG49PT1cIlwiKXt0aGlzLiRlbC5vbihzLGkpfWVsc2V7dGhpcy4kZWwub24ocyxuLGkpfX1yZXR1cm4gdGhpc30sdW5kZWxlZ2F0ZUV2ZW50czpmdW5jdGlvbigpe3RoaXMuJGVsLm9mZihcIi5kZWxlZ2F0ZUV2ZW50c1wiK3RoaXMuY2lkKTtyZXR1cm4gdGhpc30sX2Vuc3VyZUVsZW1lbnQ6ZnVuY3Rpb24oKXtpZighdGhpcy5lbCl7dmFyIHQ9aC5leHRlbmQoe30saC5yZXN1bHQodGhpcyxcImF0dHJpYnV0ZXNcIikpO2lmKHRoaXMuaWQpdC5pZD1oLnJlc3VsdCh0aGlzLFwiaWRcIik7aWYodGhpcy5jbGFzc05hbWUpdFtcImNsYXNzXCJdPWgucmVzdWx0KHRoaXMsXCJjbGFzc05hbWVcIik7dmFyIGU9YS4kKFwiPFwiK2gucmVzdWx0KHRoaXMsXCJ0YWdOYW1lXCIpK1wiPlwiKS5hdHRyKHQpO3RoaXMuc2V0RWxlbWVudChlLGZhbHNlKX1lbHNle3RoaXMuc2V0RWxlbWVudChoLnJlc3VsdCh0aGlzLFwiZWxcIiksZmFsc2UpfX19KTthLnN5bmM9ZnVuY3Rpb24odCxlLGkpe3ZhciByPVRbdF07aC5kZWZhdWx0cyhpfHwoaT17fSkse2VtdWxhdGVIVFRQOmEuZW11bGF0ZUhUVFAsZW11bGF0ZUpTT046YS5lbXVsYXRlSlNPTn0pO3ZhciBzPXt0eXBlOnIsZGF0YVR5cGU6XCJqc29uXCJ9O2lmKCFpLnVybCl7cy51cmw9aC5yZXN1bHQoZSxcInVybFwiKXx8VSgpfWlmKGkuZGF0YT09bnVsbCYmZSYmKHQ9PT1cImNyZWF0ZVwifHx0PT09XCJ1cGRhdGVcInx8dD09PVwicGF0Y2hcIikpe3MuY29udGVudFR5cGU9XCJhcHBsaWNhdGlvbi9qc29uXCI7cy5kYXRhPUpTT04uc3RyaW5naWZ5KGkuYXR0cnN8fGUudG9KU09OKGkpKX1pZihpLmVtdWxhdGVKU09OKXtzLmNvbnRlbnRUeXBlPVwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCI7cy5kYXRhPXMuZGF0YT97bW9kZWw6cy5kYXRhfTp7fX1pZihpLmVtdWxhdGVIVFRQJiYocj09PVwiUFVUXCJ8fHI9PT1cIkRFTEVURVwifHxyPT09XCJQQVRDSFwiKSl7cy50eXBlPVwiUE9TVFwiO2lmKGkuZW11bGF0ZUpTT04pcy5kYXRhLl9tZXRob2Q9cjt2YXIgbj1pLmJlZm9yZVNlbmQ7aS5iZWZvcmVTZW5kPWZ1bmN0aW9uKHQpe3Quc2V0UmVxdWVzdEhlYWRlcihcIlgtSFRUUC1NZXRob2QtT3ZlcnJpZGVcIixyKTtpZihuKXJldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19aWYocy50eXBlIT09XCJHRVRcIiYmIWkuZW11bGF0ZUpTT04pe3MucHJvY2Vzc0RhdGE9ZmFsc2V9aWYocy50eXBlPT09XCJQQVRDSFwiJiZFKXtzLnhocj1mdW5jdGlvbigpe3JldHVybiBuZXcgQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxIVFRQXCIpfX12YXIgbz1pLnhocj1hLmFqYXgoaC5leHRlbmQocyxpKSk7ZS50cmlnZ2VyKFwicmVxdWVzdFwiLGUsbyxpKTtyZXR1cm4gb307dmFyIEU9dHlwZW9mIHdpbmRvdyE9PVwidW5kZWZpbmVkXCImJiEhd2luZG93LkFjdGl2ZVhPYmplY3QmJiEod2luZG93LlhNTEh0dHBSZXF1ZXN0JiYobmV3IFhNTEh0dHBSZXF1ZXN0KS5kaXNwYXRjaEV2ZW50KTt2YXIgVD17Y3JlYXRlOlwiUE9TVFwiLHVwZGF0ZTpcIlBVVFwiLHBhdGNoOlwiUEFUQ0hcIixcImRlbGV0ZVwiOlwiREVMRVRFXCIscmVhZDpcIkdFVFwifTthLmFqYXg9ZnVuY3Rpb24oKXtyZXR1cm4gYS4kLmFqYXguYXBwbHkoYS4kLGFyZ3VtZW50cyl9O3ZhciBrPWEuUm91dGVyPWZ1bmN0aW9uKHQpe3R8fCh0PXt9KTtpZih0LnJvdXRlcyl0aGlzLnJvdXRlcz10LnJvdXRlczt0aGlzLl9iaW5kUm91dGVzKCk7dGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIFM9L1xcKCguKj8pXFwpL2c7dmFyICQ9LyhcXChcXD8pPzpcXHcrL2c7dmFyIEg9L1xcKlxcdysvZzt2YXIgQT0vW1xcLXt9XFxbXFxdKz8uLFxcXFxcXF4kfCNcXHNdL2c7aC5leHRlbmQoay5wcm90b3R5cGUsbyx7aW5pdGlhbGl6ZTpmdW5jdGlvbigpe30scm91dGU6ZnVuY3Rpb24odCxlLGkpe2lmKCFoLmlzUmVnRXhwKHQpKXQ9dGhpcy5fcm91dGVUb1JlZ0V4cCh0KTtpZihoLmlzRnVuY3Rpb24oZSkpe2k9ZTtlPVwiXCJ9aWYoIWkpaT10aGlzW2VdO3ZhciByPXRoaXM7YS5oaXN0b3J5LnJvdXRlKHQsZnVuY3Rpb24ocyl7dmFyIG49ci5fZXh0cmFjdFBhcmFtZXRlcnModCxzKTtpJiZpLmFwcGx5KHIsbik7ci50cmlnZ2VyLmFwcGx5KHIsW1wicm91dGU6XCIrZV0uY29uY2F0KG4pKTtyLnRyaWdnZXIoXCJyb3V0ZVwiLGUsbik7YS5oaXN0b3J5LnRyaWdnZXIoXCJyb3V0ZVwiLHIsZSxuKX0pO3JldHVybiB0aGlzfSxuYXZpZ2F0ZTpmdW5jdGlvbih0LGUpe2EuaGlzdG9yeS5uYXZpZ2F0ZSh0LGUpO3JldHVybiB0aGlzfSxfYmluZFJvdXRlczpmdW5jdGlvbigpe2lmKCF0aGlzLnJvdXRlcylyZXR1cm47dGhpcy5yb3V0ZXM9aC5yZXN1bHQodGhpcyxcInJvdXRlc1wiKTt2YXIgdCxlPWgua2V5cyh0aGlzLnJvdXRlcyk7d2hpbGUoKHQ9ZS5wb3AoKSkhPW51bGwpe3RoaXMucm91dGUodCx0aGlzLnJvdXRlc1t0XSl9fSxfcm91dGVUb1JlZ0V4cDpmdW5jdGlvbih0KXt0PXQucmVwbGFjZShBLFwiXFxcXCQmXCIpLnJlcGxhY2UoUyxcIig/OiQxKT9cIikucmVwbGFjZSgkLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/dDpcIihbXi9dKylcIn0pLnJlcGxhY2UoSCxcIiguKj8pXCIpO3JldHVybiBuZXcgUmVnRXhwKFwiXlwiK3QrXCIkXCIpfSxfZXh0cmFjdFBhcmFtZXRlcnM6ZnVuY3Rpb24odCxlKXt2YXIgaT10LmV4ZWMoZSkuc2xpY2UoMSk7cmV0dXJuIGgubWFwKGksZnVuY3Rpb24odCl7cmV0dXJuIHQ/ZGVjb2RlVVJJQ29tcG9uZW50KHQpOm51bGx9KX19KTt2YXIgST1hLkhpc3Rvcnk9ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXJzPVtdO2guYmluZEFsbCh0aGlzLFwiY2hlY2tVcmxcIik7aWYodHlwZW9mIHdpbmRvdyE9PVwidW5kZWZpbmVkXCIpe3RoaXMubG9jYXRpb249d2luZG93LmxvY2F0aW9uO3RoaXMuaGlzdG9yeT13aW5kb3cuaGlzdG9yeX19O3ZhciBOPS9eWyNcXC9dfFxccyskL2c7dmFyIE89L15cXC8rfFxcLyskL2c7dmFyIFA9L21zaWUgW1xcdy5dKy87dmFyIEM9L1xcLyQvO3ZhciBqPS9bPyNdLiokLztJLnN0YXJ0ZWQ9ZmFsc2U7aC5leHRlbmQoSS5wcm90b3R5cGUsbyx7aW50ZXJ2YWw6NTAsZ2V0SGFzaDpmdW5jdGlvbih0KXt2YXIgZT0odHx8dGhpcykubG9jYXRpb24uaHJlZi5tYXRjaCgvIyguKikkLyk7cmV0dXJuIGU/ZVsxXTpcIlwifSxnZXRGcmFnbWVudDpmdW5jdGlvbih0LGUpe2lmKHQ9PW51bGwpe2lmKHRoaXMuX2hhc1B1c2hTdGF0ZXx8IXRoaXMuX3dhbnRzSGFzaENoYW5nZXx8ZSl7dD10aGlzLmxvY2F0aW9uLnBhdGhuYW1lO3ZhciBpPXRoaXMucm9vdC5yZXBsYWNlKEMsXCJcIik7aWYoIXQuaW5kZXhPZihpKSl0PXQuc2xpY2UoaS5sZW5ndGgpfWVsc2V7dD10aGlzLmdldEhhc2goKX19cmV0dXJuIHQucmVwbGFjZShOLFwiXCIpfSxzdGFydDpmdW5jdGlvbih0KXtpZihJLnN0YXJ0ZWQpdGhyb3cgbmV3IEVycm9yKFwiQmFja2JvbmUuaGlzdG9yeSBoYXMgYWxyZWFkeSBiZWVuIHN0YXJ0ZWRcIik7SS5zdGFydGVkPXRydWU7dGhpcy5vcHRpb25zPWguZXh0ZW5kKHtyb290OlwiL1wifSx0aGlzLm9wdGlvbnMsdCk7dGhpcy5yb290PXRoaXMub3B0aW9ucy5yb290O3RoaXMuX3dhbnRzSGFzaENoYW5nZT10aGlzLm9wdGlvbnMuaGFzaENoYW5nZSE9PWZhbHNlO3RoaXMuX3dhbnRzUHVzaFN0YXRlPSEhdGhpcy5vcHRpb25zLnB1c2hTdGF0ZTt0aGlzLl9oYXNQdXNoU3RhdGU9ISEodGhpcy5vcHRpb25zLnB1c2hTdGF0ZSYmdGhpcy5oaXN0b3J5JiZ0aGlzLmhpc3RvcnkucHVzaFN0YXRlKTt2YXIgZT10aGlzLmdldEZyYWdtZW50KCk7dmFyIGk9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlO3ZhciByPVAuZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpJiYoIWl8fGk8PTcpO3RoaXMucm9vdD0oXCIvXCIrdGhpcy5yb290K1wiL1wiKS5yZXBsYWNlKE8sXCIvXCIpO2lmKHImJnRoaXMuX3dhbnRzSGFzaENoYW5nZSl7dGhpcy5pZnJhbWU9YS4kKCc8aWZyYW1lIHNyYz1cImphdmFzY3JpcHQ6MFwiIHRhYmluZGV4PVwiLTFcIiAvPicpLmhpZGUoKS5hcHBlbmRUbyhcImJvZHlcIilbMF0uY29udGVudFdpbmRvdzt0aGlzLm5hdmlnYXRlKGUpfWlmKHRoaXMuX2hhc1B1c2hTdGF0ZSl7YS4kKHdpbmRvdykub24oXCJwb3BzdGF0ZVwiLHRoaXMuY2hlY2tVcmwpfWVsc2UgaWYodGhpcy5fd2FudHNIYXNoQ2hhbmdlJiZcIm9uaGFzaGNoYW5nZVwiaW4gd2luZG93JiYhcil7YS4kKHdpbmRvdykub24oXCJoYXNoY2hhbmdlXCIsdGhpcy5jaGVja1VybCl9ZWxzZSBpZih0aGlzLl93YW50c0hhc2hDaGFuZ2Upe3RoaXMuX2NoZWNrVXJsSW50ZXJ2YWw9c2V0SW50ZXJ2YWwodGhpcy5jaGVja1VybCx0aGlzLmludGVydmFsKX10aGlzLmZyYWdtZW50PWU7dmFyIHM9dGhpcy5sb2NhdGlvbjt2YXIgbj1zLnBhdGhuYW1lLnJlcGxhY2UoL1teXFwvXSQvLFwiJCYvXCIpPT09dGhpcy5yb290O2lmKHRoaXMuX3dhbnRzSGFzaENoYW5nZSYmdGhpcy5fd2FudHNQdXNoU3RhdGUpe2lmKCF0aGlzLl9oYXNQdXNoU3RhdGUmJiFuKXt0aGlzLmZyYWdtZW50PXRoaXMuZ2V0RnJhZ21lbnQobnVsbCx0cnVlKTt0aGlzLmxvY2F0aW9uLnJlcGxhY2UodGhpcy5yb290K3RoaXMubG9jYXRpb24uc2VhcmNoK1wiI1wiK3RoaXMuZnJhZ21lbnQpO3JldHVybiB0cnVlfWVsc2UgaWYodGhpcy5faGFzUHVzaFN0YXRlJiZuJiZzLmhhc2gpe3RoaXMuZnJhZ21lbnQ9dGhpcy5nZXRIYXNoKCkucmVwbGFjZShOLFwiXCIpO3RoaXMuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sZG9jdW1lbnQudGl0bGUsdGhpcy5yb290K3RoaXMuZnJhZ21lbnQrcy5zZWFyY2gpfX1pZighdGhpcy5vcHRpb25zLnNpbGVudClyZXR1cm4gdGhpcy5sb2FkVXJsKCl9LHN0b3A6ZnVuY3Rpb24oKXthLiQod2luZG93KS5vZmYoXCJwb3BzdGF0ZVwiLHRoaXMuY2hlY2tVcmwpLm9mZihcImhhc2hjaGFuZ2VcIix0aGlzLmNoZWNrVXJsKTtjbGVhckludGVydmFsKHRoaXMuX2NoZWNrVXJsSW50ZXJ2YWwpO0kuc3RhcnRlZD1mYWxzZX0scm91dGU6ZnVuY3Rpb24odCxlKXt0aGlzLmhhbmRsZXJzLnVuc2hpZnQoe3JvdXRlOnQsY2FsbGJhY2s6ZX0pfSxjaGVja1VybDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEZyYWdtZW50KCk7aWYoZT09PXRoaXMuZnJhZ21lbnQmJnRoaXMuaWZyYW1lKXtlPXRoaXMuZ2V0RnJhZ21lbnQodGhpcy5nZXRIYXNoKHRoaXMuaWZyYW1lKSl9aWYoZT09PXRoaXMuZnJhZ21lbnQpcmV0dXJuIGZhbHNlO2lmKHRoaXMuaWZyYW1lKXRoaXMubmF2aWdhdGUoZSk7dGhpcy5sb2FkVXJsKCl9LGxvYWRVcmw6ZnVuY3Rpb24odCl7dD10aGlzLmZyYWdtZW50PXRoaXMuZ2V0RnJhZ21lbnQodCk7cmV0dXJuIGguYW55KHRoaXMuaGFuZGxlcnMsZnVuY3Rpb24oZSl7aWYoZS5yb3V0ZS50ZXN0KHQpKXtlLmNhbGxiYWNrKHQpO3JldHVybiB0cnVlfX0pfSxuYXZpZ2F0ZTpmdW5jdGlvbih0LGUpe2lmKCFJLnN0YXJ0ZWQpcmV0dXJuIGZhbHNlO2lmKCFlfHxlPT09dHJ1ZSllPXt0cmlnZ2VyOiEhZX07dmFyIGk9dGhpcy5yb290Kyh0PXRoaXMuZ2V0RnJhZ21lbnQodHx8XCJcIikpO3Q9dC5yZXBsYWNlKGosXCJcIik7aWYodGhpcy5mcmFnbWVudD09PXQpcmV0dXJuO3RoaXMuZnJhZ21lbnQ9dDtpZih0PT09XCJcIiYmaSE9PVwiL1wiKWk9aS5zbGljZSgwLC0xKTtpZih0aGlzLl9oYXNQdXNoU3RhdGUpe3RoaXMuaGlzdG9yeVtlLnJlcGxhY2U/XCJyZXBsYWNlU3RhdGVcIjpcInB1c2hTdGF0ZVwiXSh7fSxkb2N1bWVudC50aXRsZSxpKX1lbHNlIGlmKHRoaXMuX3dhbnRzSGFzaENoYW5nZSl7dGhpcy5fdXBkYXRlSGFzaCh0aGlzLmxvY2F0aW9uLHQsZS5yZXBsYWNlKTtpZih0aGlzLmlmcmFtZSYmdCE9PXRoaXMuZ2V0RnJhZ21lbnQodGhpcy5nZXRIYXNoKHRoaXMuaWZyYW1lKSkpe2lmKCFlLnJlcGxhY2UpdGhpcy5pZnJhbWUuZG9jdW1lbnQub3BlbigpLmNsb3NlKCk7dGhpcy5fdXBkYXRlSGFzaCh0aGlzLmlmcmFtZS5sb2NhdGlvbix0LGUucmVwbGFjZSl9fWVsc2V7cmV0dXJuIHRoaXMubG9jYXRpb24uYXNzaWduKGkpfWlmKGUudHJpZ2dlcilyZXR1cm4gdGhpcy5sb2FkVXJsKHQpfSxfdXBkYXRlSGFzaDpmdW5jdGlvbih0LGUsaSl7aWYoaSl7dmFyIHI9dC5ocmVmLnJlcGxhY2UoLyhqYXZhc2NyaXB0OnwjKS4qJC8sXCJcIik7dC5yZXBsYWNlKHIrXCIjXCIrZSl9ZWxzZXt0Lmhhc2g9XCIjXCIrZX19fSk7YS5oaXN0b3J5PW5ldyBJO3ZhciBSPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpczt2YXIgcjtpZih0JiZoLmhhcyh0LFwiY29uc3RydWN0b3JcIikpe3I9dC5jb25zdHJ1Y3Rvcn1lbHNle3I9ZnVuY3Rpb24oKXtyZXR1cm4gaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWguZXh0ZW5kKHIsaSxlKTt2YXIgcz1mdW5jdGlvbigpe3RoaXMuY29uc3RydWN0b3I9cn07cy5wcm90b3R5cGU9aS5wcm90b3R5cGU7ci5wcm90b3R5cGU9bmV3IHM7aWYodCloLmV4dGVuZChyLnByb3RvdHlwZSx0KTtyLl9fc3VwZXJfXz1pLnByb3RvdHlwZTtyZXR1cm4gcn07ZC5leHRlbmQ9di5leHRlbmQ9ay5leHRlbmQ9dy5leHRlbmQ9SS5leHRlbmQ9Ujt2YXIgVT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcignQSBcInVybFwiIHByb3BlcnR5IG9yIGZ1bmN0aW9uIG11c3QgYmUgc3BlY2lmaWVkJyl9O3ZhciBNPWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5lcnJvcjtlLmVycm9yPWZ1bmN0aW9uKHIpe2lmKGkpaSh0LHIsZSk7dC50cmlnZ2VyKFwiZXJyb3JcIix0LHIsZSl9fX0pLmNhbGwodGhpcyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYWNrYm9uZS1taW4ubWFwXG47IGJyb3dzZXJpZnlfc2hpbV9fZGVmaW5lX19tb2R1bGVfX2V4cG9ydF9fKHR5cGVvZiBCYWNrYm9uZSAhPSBcInVuZGVmaW5lZFwiID8gQmFja2JvbmUgOiB3aW5kb3cuQmFja2JvbmUpO1xuXG59KS5jYWxsKGdsb2JhbCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24gZGVmaW5lRXhwb3J0KGV4KSB7IG1vZHVsZS5leHBvcnRzID0gZXg7IH0pO1xufSkuY2FsbCh0aGlzLHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSkiLCIoZnVuY3Rpb24gKGdsb2JhbCl7KGZ1bmN0aW9uIGJyb3dzZXJpZnlTaGltKG1vZHVsZSwgZXhwb3J0cywgZGVmaW5lLCBicm93c2VyaWZ5X3NoaW1fX2RlZmluZV9fbW9kdWxlX19leHBvcnRfXykge1xuLyohIGpRdWVyeSB2MS4xMC4yIHwgKGMpIDIwMDUsIDIwMTMgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2Vcbi8vQCBzb3VyY2VNYXBwaW5nVVJMPWpxdWVyeS5taW4ubWFwXG4qL1xuKGZ1bmN0aW9uKGUsdCl7dmFyIG4scixpPXR5cGVvZiB0LG89ZS5sb2NhdGlvbixhPWUuZG9jdW1lbnQscz1hLmRvY3VtZW50RWxlbWVudCxsPWUualF1ZXJ5LHU9ZS4kLGM9e30scD1bXSxmPVwiMS4xMC4yXCIsZD1wLmNvbmNhdCxoPXAucHVzaCxnPXAuc2xpY2UsbT1wLmluZGV4T2YseT1jLnRvU3RyaW5nLHY9Yy5oYXNPd25Qcm9wZXJ0eSxiPWYudHJpbSx4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyB4LmZuLmluaXQoZSx0LHIpfSx3PS9bKy1dPyg/OlxcZCpcXC58KVxcZCsoPzpbZUVdWystXT9cXGQrfCkvLnNvdXJjZSxUPS9cXFMrL2csQz0vXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csTj0vXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0qKSkkLyxrPS9ePChcXHcrKVxccypcXC8/Pig/OjxcXC9cXDE+fCkkLyxFPS9eW1xcXSw6e31cXHNdKiQvLFM9Lyg/Ol58OnwsKSg/OlxccypcXFspKy9nLEE9L1xcXFwoPzpbXCJcXFxcXFwvYmZucnRdfHVbXFxkYS1mQS1GXXs0fSkvZyxqPS9cIlteXCJcXFxcXFxyXFxuXSpcInx0cnVlfGZhbHNlfG51bGx8LT8oPzpcXGQrXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpL2csRD0vXi1tcy0vLEw9Ly0oW1xcZGEtel0pL2dpLEg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSxxPWZ1bmN0aW9uKGUpeyhhLmFkZEV2ZW50TGlzdGVuZXJ8fFwibG9hZFwiPT09ZS50eXBlfHxcImNvbXBsZXRlXCI9PT1hLnJlYWR5U3RhdGUpJiYoXygpLHgucmVhZHkoKSl9LF89ZnVuY3Rpb24oKXthLmFkZEV2ZW50TGlzdGVuZXI/KGEucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixxLCExKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIscSwhMSkpOihhLmRldGFjaEV2ZW50KFwib25yZWFkeXN0YXRlY2hhbmdlXCIscSksZS5kZXRhY2hFdmVudChcIm9ubG9hZFwiLHEpKX07eC5mbj14LnByb3RvdHlwZT17anF1ZXJ5OmYsY29uc3RydWN0b3I6eCxpbml0OmZ1bmN0aW9uKGUsbixyKXt2YXIgaSxvO2lmKCFlKXJldHVybiB0aGlzO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtpZihpPVwiPFwiPT09ZS5jaGFyQXQoMCkmJlwiPlwiPT09ZS5jaGFyQXQoZS5sZW5ndGgtMSkmJmUubGVuZ3RoPj0zP1tudWxsLGUsbnVsbF06Ti5leGVjKGUpLCFpfHwhaVsxXSYmbilyZXR1cm4hbnx8bi5qcXVlcnk/KG58fHIpLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3RvcihuKS5maW5kKGUpO2lmKGlbMV0pe2lmKG49biBpbnN0YW5jZW9mIHg/blswXTpuLHgubWVyZ2UodGhpcyx4LnBhcnNlSFRNTChpWzFdLG4mJm4ubm9kZVR5cGU/bi5vd25lckRvY3VtZW50fHxuOmEsITApKSxrLnRlc3QoaVsxXSkmJnguaXNQbGFpbk9iamVjdChuKSlmb3IoaSBpbiBuKXguaXNGdW5jdGlvbih0aGlzW2ldKT90aGlzW2ldKG5baV0pOnRoaXMuYXR0cihpLG5baV0pO3JldHVybiB0aGlzfWlmKG89YS5nZXRFbGVtZW50QnlJZChpWzJdKSxvJiZvLnBhcmVudE5vZGUpe2lmKG8uaWQhPT1pWzJdKXJldHVybiByLmZpbmQoZSk7dGhpcy5sZW5ndGg9MSx0aGlzWzBdPW99cmV0dXJuIHRoaXMuY29udGV4dD1hLHRoaXMuc2VsZWN0b3I9ZSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzLmNvbnRleHQ9dGhpc1swXT1lLHRoaXMubGVuZ3RoPTEsdGhpcyk6eC5pc0Z1bmN0aW9uKGUpP3IucmVhZHkoZSk6KGUuc2VsZWN0b3IhPT10JiYodGhpcy5zZWxlY3Rvcj1lLnNlbGVjdG9yLHRoaXMuY29udGV4dD1lLmNvbnRleHQpLHgubWFrZUFycmF5KGUsdGhpcykpfSxzZWxlY3RvcjpcIlwiLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gZy5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/dGhpcy50b0FycmF5KCk6MD5lP3RoaXNbdGhpcy5sZW5ndGgrZV06dGhpc1tlXX0scHVzaFN0YWNrOmZ1bmN0aW9uKGUpe3ZhciB0PXgubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGUpO3JldHVybiB0LnByZXZPYmplY3Q9dGhpcyx0LmNvbnRleHQ9dGhpcy5jb250ZXh0LHR9LGVhY2g6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geC5lYWNoKHRoaXMsZSx0KX0scmVhZHk6ZnVuY3Rpb24oZSl7cmV0dXJuIHgucmVhZHkucHJvbWlzZSgpLmRvbmUoZSksdGhpc30sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZy5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmxlbmd0aCxuPStlKygwPmU/dDowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobj49MCYmdD5uP1t0aGlzW25dXTpbXSl9LG1hcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeC5tYXAodGhpcyxmdW5jdGlvbih0LG4pe3JldHVybiBlLmNhbGwodCxuLHQpfSkpfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKG51bGwpfSxwdXNoOmgsc29ydDpbXS5zb3J0LHNwbGljZTpbXS5zcGxpY2V9LHguZm4uaW5pdC5wcm90b3R5cGU9eC5mbix4LmV4dGVuZD14LmZuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBlLG4scixpLG8sYSxzPWFyZ3VtZW50c1swXXx8e30sbD0xLHU9YXJndW1lbnRzLmxlbmd0aCxjPSExO2ZvcihcImJvb2xlYW5cIj09dHlwZW9mIHMmJihjPXMscz1hcmd1bWVudHNbMV18fHt9LGw9MiksXCJvYmplY3RcIj09dHlwZW9mIHN8fHguaXNGdW5jdGlvbihzKXx8KHM9e30pLHU9PT1sJiYocz10aGlzLC0tbCk7dT5sO2wrKylpZihudWxsIT0obz1hcmd1bWVudHNbbF0pKWZvcihpIGluIG8pZT1zW2ldLHI9b1tpXSxzIT09ciYmKGMmJnImJih4LmlzUGxhaW5PYmplY3Qocil8fChuPXguaXNBcnJheShyKSkpPyhuPyhuPSExLGE9ZSYmeC5pc0FycmF5KGUpP2U6W10pOmE9ZSYmeC5pc1BsYWluT2JqZWN0KGUpP2U6e30sc1tpXT14LmV4dGVuZChjLGEscikpOnIhPT10JiYoc1tpXT1yKSk7cmV0dXJuIHN9LHguZXh0ZW5kKHtleHBhbmRvOlwialF1ZXJ5XCIrKGYrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXFxEL2csXCJcIiksbm9Db25mbGljdDpmdW5jdGlvbih0KXtyZXR1cm4gZS4kPT09eCYmKGUuJD11KSx0JiZlLmpRdWVyeT09PXgmJihlLmpRdWVyeT1sKSx4fSxpc1JlYWR5OiExLHJlYWR5V2FpdDoxLGhvbGRSZWFkeTpmdW5jdGlvbihlKXtlP3gucmVhZHlXYWl0Kys6eC5yZWFkeSghMCl9LHJlYWR5OmZ1bmN0aW9uKGUpe2lmKGU9PT0hMD8hLS14LnJlYWR5V2FpdDoheC5pc1JlYWR5KXtpZighYS5ib2R5KXJldHVybiBzZXRUaW1lb3V0KHgucmVhZHkpO3guaXNSZWFkeT0hMCxlIT09ITAmJi0teC5yZWFkeVdhaXQ+MHx8KG4ucmVzb2x2ZVdpdGgoYSxbeF0pLHguZm4udHJpZ2dlciYmeChhKS50cmlnZ2VyKFwicmVhZHlcIikub2ZmKFwicmVhZHlcIikpfX0saXNGdW5jdGlvbjpmdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PT14LnR5cGUoZSl9LGlzQXJyYXk6QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuXCJhcnJheVwiPT09eC50eXBlKGUpfSxpc1dpbmRvdzpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09ZS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihlKXtyZXR1cm4haXNOYU4ocGFyc2VGbG9hdChlKSkmJmlzRmluaXRlKGUpfSx0eXBlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP2UrXCJcIjpcIm9iamVjdFwiPT10eXBlb2YgZXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZT9jW3kuY2FsbChlKV18fFwib2JqZWN0XCI6dHlwZW9mIGV9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oZSl7dmFyIG47aWYoIWV8fFwib2JqZWN0XCIhPT14LnR5cGUoZSl8fGUubm9kZVR5cGV8fHguaXNXaW5kb3coZSkpcmV0dXJuITE7dHJ5e2lmKGUuY29uc3RydWN0b3ImJiF2LmNhbGwoZSxcImNvbnN0cnVjdG9yXCIpJiYhdi5jYWxsKGUuY29uc3RydWN0b3IucHJvdG90eXBlLFwiaXNQcm90b3R5cGVPZlwiKSlyZXR1cm4hMX1jYXRjaChyKXtyZXR1cm4hMX1pZih4LnN1cHBvcnQub3duTGFzdClmb3IobiBpbiBlKXJldHVybiB2LmNhbGwoZSxuKTtmb3IobiBpbiBlKTtyZXR1cm4gbj09PXR8fHYuY2FsbChlLG4pfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0IGluIGUpcmV0dXJuITE7cmV0dXJuITB9LGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IEVycm9yKGUpfSxwYXJzZUhUTUw6ZnVuY3Rpb24oZSx0LG4pe2lmKCFlfHxcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gbnVsbDtcImJvb2xlYW5cIj09dHlwZW9mIHQmJihuPXQsdD0hMSksdD10fHxhO3ZhciByPWsuZXhlYyhlKSxpPSFuJiZbXTtyZXR1cm4gcj9bdC5jcmVhdGVFbGVtZW50KHJbMV0pXToocj14LmJ1aWxkRnJhZ21lbnQoW2VdLHQsaSksaSYmeChpKS5yZW1vdmUoKSx4Lm1lcmdlKFtdLHIuY2hpbGROb2RlcykpfSxwYXJzZUpTT046ZnVuY3Rpb24obil7cmV0dXJuIGUuSlNPTiYmZS5KU09OLnBhcnNlP2UuSlNPTi5wYXJzZShuKTpudWxsPT09bj9uOlwic3RyaW5nXCI9PXR5cGVvZiBuJiYobj14LnRyaW0obiksbiYmRS50ZXN0KG4ucmVwbGFjZShBLFwiQFwiKS5yZXBsYWNlKGosXCJdXCIpLnJlcGxhY2UoUyxcIlwiKSkpP0Z1bmN0aW9uKFwicmV0dXJuIFwiK24pKCk6KHguZXJyb3IoXCJJbnZhbGlkIEpTT046IFwiK24pLHQpfSxwYXJzZVhNTDpmdW5jdGlvbihuKXt2YXIgcixpO2lmKCFufHxcInN0cmluZ1wiIT10eXBlb2YgbilyZXR1cm4gbnVsbDt0cnl7ZS5ET01QYXJzZXI/KGk9bmV3IERPTVBhcnNlcixyPWkucGFyc2VGcm9tU3RyaW5nKG4sXCJ0ZXh0L3htbFwiKSk6KHI9bmV3IEFjdGl2ZVhPYmplY3QoXCJNaWNyb3NvZnQuWE1MRE9NXCIpLHIuYXN5bmM9XCJmYWxzZVwiLHIubG9hZFhNTChuKSl9Y2F0Y2gobyl7cj10fXJldHVybiByJiZyLmRvY3VtZW50RWxlbWVudCYmIXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYXJzZXJlcnJvclwiKS5sZW5ndGh8fHguZXJyb3IoXCJJbnZhbGlkIFhNTDogXCIrbikscn0sbm9vcDpmdW5jdGlvbigpe30sZ2xvYmFsRXZhbDpmdW5jdGlvbih0KXt0JiZ4LnRyaW0odCkmJihlLmV4ZWNTY3JpcHR8fGZ1bmN0aW9uKHQpe2UuZXZhbC5jYWxsKGUsdCl9KSh0KX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoRCxcIm1zLVwiKS5yZXBsYWNlKEwsSCl9LG5vZGVOYW1lOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT0wLG89ZS5sZW5ndGgsYT1NKGUpO2lmKG4pe2lmKGEpe2Zvcig7bz5pO2krKylpZihyPXQuYXBwbHkoZVtpXSxuKSxyPT09ITEpYnJlYWt9ZWxzZSBmb3IoaSBpbiBlKWlmKHI9dC5hcHBseShlW2ldLG4pLHI9PT0hMSlicmVha31lbHNlIGlmKGEpe2Zvcig7bz5pO2krKylpZihyPXQuY2FsbChlW2ldLGksZVtpXSkscj09PSExKWJyZWFrfWVsc2UgZm9yKGkgaW4gZSlpZihyPXQuY2FsbChlW2ldLGksZVtpXSkscj09PSExKWJyZWFrO3JldHVybiBlfSx0cmltOmImJiFiLmNhbGwoXCJcXHVmZWZmXFx1MDBhMFwiKT9mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9cIlwiOmIuY2FsbChlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/XCJcIjooZStcIlwiKS5yZXBsYWNlKEMsXCJcIil9LG1ha2VBcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuPXR8fFtdO3JldHVybiBudWxsIT1lJiYoTShPYmplY3QoZSkpP3gubWVyZ2UobixcInN0cmluZ1wiPT10eXBlb2YgZT9bZV06ZSk6aC5jYWxsKG4sZSkpLG59LGluQXJyYXk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKHQpe2lmKG0pcmV0dXJuIG0uY2FsbCh0LGUsbik7Zm9yKHI9dC5sZW5ndGgsbj1uPzA+bj9NYXRoLm1heCgwLHIrbik6bjowO3I+bjtuKyspaWYobiBpbiB0JiZ0W25dPT09ZSlyZXR1cm4gbn1yZXR1cm4tMX0sbWVyZ2U6ZnVuY3Rpb24oZSxuKXt2YXIgcj1uLmxlbmd0aCxpPWUubGVuZ3RoLG89MDtpZihcIm51bWJlclwiPT10eXBlb2Ygcilmb3IoO3I+bztvKyspZVtpKytdPW5bb107ZWxzZSB3aGlsZShuW29dIT09dCllW2krK109bltvKytdO3JldHVybiBlLmxlbmd0aD1pLGV9LGdyZXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9W10sbz0wLGE9ZS5sZW5ndGg7Zm9yKG49ISFuO2E+bztvKyspcj0hIXQoZVtvXSxvKSxuIT09ciYmaS5wdXNoKGVbb10pO3JldHVybiBpfSxtYXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9MCxvPWUubGVuZ3RoLGE9TShlKSxzPVtdO2lmKGEpZm9yKDtvPmk7aSsrKXI9dChlW2ldLGksbiksbnVsbCE9ciYmKHNbcy5sZW5ndGhdPXIpO2Vsc2UgZm9yKGkgaW4gZSlyPXQoZVtpXSxpLG4pLG51bGwhPXImJihzW3MubGVuZ3RoXT1yKTtyZXR1cm4gZC5hcHBseShbXSxzKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGUsbil7dmFyIHIsaSxvO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBuJiYobz1lW25dLG49ZSxlPW8pLHguaXNGdW5jdGlvbihlKT8ocj1nLmNhbGwoYXJndW1lbnRzLDIpLGk9ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseShufHx0aGlzLHIuY29uY2F0KGcuY2FsbChhcmd1bWVudHMpKSl9LGkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHx4Lmd1aWQrKyxpKTp0fSxhY2Nlc3M6ZnVuY3Rpb24oZSxuLHIsaSxvLGEscyl7dmFyIGw9MCx1PWUubGVuZ3RoLGM9bnVsbD09cjtpZihcIm9iamVjdFwiPT09eC50eXBlKHIpKXtvPSEwO2ZvcihsIGluIHIpeC5hY2Nlc3MoZSxuLGwscltsXSwhMCxhLHMpfWVsc2UgaWYoaSE9PXQmJihvPSEwLHguaXNGdW5jdGlvbihpKXx8KHM9ITApLGMmJihzPyhuLmNhbGwoZSxpKSxuPW51bGwpOihjPW4sbj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGMuY2FsbCh4KGUpLG4pfSkpLG4pKWZvcig7dT5sO2wrKyluKGVbbF0scixzP2k6aS5jYWxsKGVbbF0sbCxuKGVbbF0scikpKTtyZXR1cm4gbz9lOmM/bi5jYWxsKGUpOnU/bihlWzBdLHIpOmF9LG5vdzpmdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfSxzd2FwOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYT17fTtmb3IobyBpbiB0KWFbb109ZS5zdHlsZVtvXSxlLnN0eWxlW29dPXRbb107aT1uLmFwcGx5KGUscnx8W10pO2ZvcihvIGluIHQpZS5zdHlsZVtvXT1hW29dO3JldHVybiBpfX0pLHgucmVhZHkucHJvbWlzZT1mdW5jdGlvbih0KXtpZighbilpZihuPXguRGVmZXJyZWQoKSxcImNvbXBsZXRlXCI9PT1hLnJlYWR5U3RhdGUpc2V0VGltZW91dCh4LnJlYWR5KTtlbHNlIGlmKGEuYWRkRXZlbnRMaXN0ZW5lcilhLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIscSwhMSksZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLHEsITEpO2Vsc2V7YS5hdHRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLHEpLGUuYXR0YWNoRXZlbnQoXCJvbmxvYWRcIixxKTt2YXIgcj0hMTt0cnl7cj1udWxsPT1lLmZyYW1lRWxlbWVudCYmYS5kb2N1bWVudEVsZW1lbnR9Y2F0Y2goaSl7fXImJnIuZG9TY3JvbGwmJmZ1bmN0aW9uIG8oKXtpZigheC5pc1JlYWR5KXt0cnl7ci5kb1Njcm9sbChcImxlZnRcIil9Y2F0Y2goZSl7cmV0dXJuIHNldFRpbWVvdXQobyw1MCl9XygpLHgucmVhZHkoKX19KCl9cmV0dXJuIG4ucHJvbWlzZSh0KX0seC5lYWNoKFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvclwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihlLHQpe2NbXCJbb2JqZWN0IFwiK3QrXCJdXCJdPXQudG9Mb3dlckNhc2UoKX0pO2Z1bmN0aW9uIE0oZSl7dmFyIHQ9ZS5sZW5ndGgsbj14LnR5cGUoZSk7cmV0dXJuIHguaXNXaW5kb3coZSk/ITE6MT09PWUubm9kZVR5cGUmJnQ/ITA6XCJhcnJheVwiPT09bnx8XCJmdW5jdGlvblwiIT09biYmKDA9PT10fHxcIm51bWJlclwiPT10eXBlb2YgdCYmdD4wJiZ0LTEgaW4gZSl9cj14KGEpLGZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzLGwsdSxjLHAsZixkLGgsZyxtLHksdixiPVwic2l6emxlXCIrLW5ldyBEYXRlLHc9ZS5kb2N1bWVudCxUPTAsQz0wLE49c3QoKSxrPXN0KCksRT1zdCgpLFM9ITEsQT1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dD8oUz0hMCwwKTowfSxqPXR5cGVvZiB0LEQ9MTw8MzEsTD17fS5oYXNPd25Qcm9wZXJ0eSxIPVtdLHE9SC5wb3AsXz1ILnB1c2gsTT1ILnB1c2gsTz1ILnNsaWNlLEY9SC5pbmRleE9mfHxmdW5jdGlvbihlKXt2YXIgdD0wLG49dGhpcy5sZW5ndGg7Zm9yKDtuPnQ7dCsrKWlmKHRoaXNbdF09PT1lKXJldHVybiB0O3JldHVybi0xfSxCPVwiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWRcIixQPVwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixSPVwiKD86XFxcXFxcXFwufFtcXFxcdy1dfFteXFxcXHgwMC1cXFxceGEwXSkrXCIsVz1SLnJlcGxhY2UoXCJ3XCIsXCJ3I1wiKSwkPVwiXFxcXFtcIitQK1wiKihcIitSK1wiKVwiK1ArXCIqKD86KFsqXiR8IX5dPz0pXCIrUCtcIiooPzooWydcXFwiXSkoKD86XFxcXFxcXFwufFteXFxcXFxcXFxdKSo/KVxcXFwzfChcIitXK1wiKXwpfClcIitQK1wiKlxcXFxdXCIsST1cIjooXCIrUitcIikoPzpcXFxcKCgoWydcXFwiXSkoKD86XFxcXFxcXFwufFteXFxcXFxcXFxdKSo/KVxcXFwzfCgoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIiskLnJlcGxhY2UoMyw4KStcIikqKXwuKilcXFxcKXwpXCIsej1SZWdFeHAoXCJeXCIrUCtcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIrUCtcIiskXCIsXCJnXCIpLFg9UmVnRXhwKFwiXlwiK1ArXCIqLFwiK1ArXCIqXCIpLFU9UmVnRXhwKFwiXlwiK1ArXCIqKFs+K35dfFwiK1ArXCIpXCIrUCtcIipcIiksVj1SZWdFeHAoUCtcIipbK35dXCIpLFk9UmVnRXhwKFwiPVwiK1ArXCIqKFteXFxcXF0nXFxcIl0qKVwiK1ArXCIqXFxcXF1cIixcImdcIiksSj1SZWdFeHAoSSksRz1SZWdFeHAoXCJeXCIrVytcIiRcIiksUT17SUQ6UmVnRXhwKFwiXiMoXCIrUitcIilcIiksQ0xBU1M6UmVnRXhwKFwiXlxcXFwuKFwiK1IrXCIpXCIpLFRBRzpSZWdFeHAoXCJeKFwiK1IucmVwbGFjZShcIndcIixcIncqXCIpK1wiKVwiKSxBVFRSOlJlZ0V4cChcIl5cIiskKSxQU0VVRE86UmVnRXhwKFwiXlwiK0kpLENISUxEOlJlZ0V4cChcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIrUCtcIiooZXZlbnxvZGR8KChbKy1dfCkoXFxcXGQqKW58KVwiK1ArXCIqKD86KFsrLV18KVwiK1ArXCIqKFxcXFxkKyl8KSlcIitQK1wiKlxcXFwpfClcIixcImlcIiksYm9vbDpSZWdFeHAoXCJeKD86XCIrQitcIikkXCIsXCJpXCIpLG5lZWRzQ29udGV4dDpSZWdFeHAoXCJeXCIrUCtcIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcXFwoXCIrUCtcIiooKD86LVxcXFxkKT9cXFxcZCopXCIrUCtcIipcXFxcKXwpKD89W14tXXwkKVwiLFwiaVwiKX0sSz0vXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLFo9L14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sZXQ9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSx0dD0vXmhcXGQkL2ksbnQ9Lyd8XFxcXC9nLHJ0PVJlZ0V4cChcIlxcXFxcXFxcKFtcXFxcZGEtZl17MSw2fVwiK1ArXCI/fChcIitQK1wiKXwuKVwiLFwiaWdcIiksaXQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVwiMHhcIit0LTY1NTM2O3JldHVybiByIT09cnx8bj90OjA+cj9TdHJpbmcuZnJvbUNoYXJDb2RlKHIrNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8cj4+MTAsNTYzMjB8MTAyMyZyKX07dHJ5e00uYXBwbHkoSD1PLmNhbGwody5jaGlsZE5vZGVzKSx3LmNoaWxkTm9kZXMpLEhbdy5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2gob3Qpe009e2FwcGx5OkgubGVuZ3RoP2Z1bmN0aW9uKGUsdCl7Xy5hcHBseShlLE8uY2FsbCh0KSl9OmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5sZW5ndGgscj0wO3doaWxlKGVbbisrXT10W3IrK10pO2UubGVuZ3RoPW4tMX19fWZ1bmN0aW9uIGF0KGUsdCxuLGkpe3ZhciBvLGEscyxsLHUsYyxkLG0seSx4O2lmKCh0P3Qub3duZXJEb2N1bWVudHx8dDp3KSE9PWYmJnAodCksdD10fHxmLG49bnx8W10sIWV8fFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiBuO2lmKDEhPT0obD10Lm5vZGVUeXBlKSYmOSE9PWwpcmV0dXJuW107aWYoaCYmIWkpe2lmKG89Wi5leGVjKGUpKWlmKHM9b1sxXSl7aWYoOT09PWwpe2lmKGE9dC5nZXRFbGVtZW50QnlJZChzKSwhYXx8IWEucGFyZW50Tm9kZSlyZXR1cm4gbjtpZihhLmlkPT09cylyZXR1cm4gbi5wdXNoKGEpLG59ZWxzZSBpZih0Lm93bmVyRG9jdW1lbnQmJihhPXQub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChzKSkmJnYodCxhKSYmYS5pZD09PXMpcmV0dXJuIG4ucHVzaChhKSxufWVsc2V7aWYob1syXSlyZXR1cm4gTS5hcHBseShuLHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSkpLG47aWYoKHM9b1szXSkmJnIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBNLmFwcGx5KG4sdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHMpKSxufWlmKHIucXNhJiYoIWd8fCFnLnRlc3QoZSkpKXtpZihtPWQ9Yix5PXQseD05PT09bCYmZSwxPT09bCYmXCJvYmplY3RcIiE9PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Yz1tdChlKSwoZD10LmdldEF0dHJpYnV0ZShcImlkXCIpKT9tPWQucmVwbGFjZShudCxcIlxcXFwkJlwiKTp0LnNldEF0dHJpYnV0ZShcImlkXCIsbSksbT1cIltpZD0nXCIrbStcIiddIFwiLHU9Yy5sZW5ndGg7d2hpbGUodS0tKWNbdV09bSt5dChjW3VdKTt5PVYudGVzdChlKSYmdC5wYXJlbnROb2RlfHx0LHg9Yy5qb2luKFwiLFwiKX1pZih4KXRyeXtyZXR1cm4gTS5hcHBseShuLHkucXVlcnlTZWxlY3RvckFsbCh4KSksbn1jYXRjaChUKXt9ZmluYWxseXtkfHx0LnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpfX19cmV0dXJuIGt0KGUucmVwbGFjZSh6LFwiJDFcIiksdCxuLGkpfWZ1bmN0aW9uIHN0KCl7dmFyIGU9W107ZnVuY3Rpb24gdChuLHIpe3JldHVybiBlLnB1c2gobis9XCIgXCIpPm8uY2FjaGVMZW5ndGgmJmRlbGV0ZSB0W2Uuc2hpZnQoKV0sdFtuXT1yfXJldHVybiB0fWZ1bmN0aW9uIGx0KGUpe3JldHVybiBlW2JdPSEwLGV9ZnVuY3Rpb24gdXQoZSl7dmFyIHQ9Zi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2gobil7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGN0KGUsdCl7dmFyIG49ZS5zcGxpdChcInxcIikscj1lLmxlbmd0aDt3aGlsZShyLS0pby5hdHRySGFuZGxlW25bcl1dPXR9ZnVuY3Rpb24gcHQoZSx0KXt2YXIgbj10JiZlLHI9biYmMT09PWUubm9kZVR5cGUmJjE9PT10Lm5vZGVUeXBlJiYofnQuc291cmNlSW5kZXh8fEQpLSh+ZS5zb3VyY2VJbmRleHx8RCk7aWYocilyZXR1cm4gcjtpZihuKXdoaWxlKG49bi5uZXh0U2libGluZylpZihuPT09dClyZXR1cm4tMTtyZXR1cm4gZT8xOi0xfWZ1bmN0aW9uIGZ0KGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09biYmdC50eXBlPT09ZX19ZnVuY3Rpb24gZHQoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oXCJpbnB1dFwiPT09bnx8XCJidXR0b25cIj09PW4pJiZ0LnR5cGU9PT1lfX1mdW5jdGlvbiBodChlKXtyZXR1cm4gbHQoZnVuY3Rpb24odCl7cmV0dXJuIHQ9K3QsbHQoZnVuY3Rpb24obixyKXt2YXIgaSxvPWUoW10sbi5sZW5ndGgsdCksYT1vLmxlbmd0aDt3aGlsZShhLS0pbltpPW9bYV1dJiYobltpXT0hKHJbaV09bltpXSkpfSl9KX1zPWF0LmlzWE1MPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gdD9cIkhUTUxcIiE9PXQubm9kZU5hbWU6ITF9LHI9YXQuc3VwcG9ydD17fSxwPWF0LnNldERvY3VtZW50PWZ1bmN0aW9uKGUpe3ZhciBuPWU/ZS5vd25lckRvY3VtZW50fHxlOncsaT1uLmRlZmF1bHRWaWV3O3JldHVybiBuIT09ZiYmOT09PW4ubm9kZVR5cGUmJm4uZG9jdW1lbnRFbGVtZW50PyhmPW4sZD1uLmRvY3VtZW50RWxlbWVudCxoPSFzKG4pLGkmJmkuYXR0YWNoRXZlbnQmJmkhPT1pLnRvcCYmaS5hdHRhY2hFdmVudChcIm9uYmVmb3JldW5sb2FkXCIsZnVuY3Rpb24oKXtwKCl9KSxyLmF0dHJpYnV0ZXM9dXQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NOYW1lPVwiaVwiLCFlLmdldEF0dHJpYnV0ZShcImNsYXNzTmFtZVwiKX0pLHIuZ2V0RWxlbWVudHNCeVRhZ05hbWU9dXQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXBwZW5kQ2hpbGQobi5jcmVhdGVDb21tZW50KFwiXCIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikubGVuZ3RofSksci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPXV0KGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD1cIjxkaXYgY2xhc3M9J2EnPjwvZGl2PjxkaXYgY2xhc3M9J2EgaSc+PC9kaXY+XCIsZS5maXJzdENoaWxkLmNsYXNzTmFtZT1cImlcIiwyPT09ZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaVwiKS5sZW5ndGh9KSxyLmdldEJ5SWQ9dXQoZnVuY3Rpb24oZSl7cmV0dXJuIGQuYXBwZW5kQ2hpbGQoZSkuaWQ9Yiwhbi5nZXRFbGVtZW50c0J5TmFtZXx8IW4uZ2V0RWxlbWVudHNCeU5hbWUoYikubGVuZ3RofSksci5nZXRCeUlkPyhvLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZih0eXBlb2YgdC5nZXRFbGVtZW50QnlJZCE9PWomJmgpe3ZhciBuPXQuZ2V0RWxlbWVudEJ5SWQoZSk7cmV0dXJuIG4mJm4ucGFyZW50Tm9kZT9bbl06W119fSxvLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UocnQsaXQpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKT09PXR9fSk6KGRlbGV0ZSBvLmZpbmQuSUQsby5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHJ0LGl0KTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49dHlwZW9mIGUuZ2V0QXR0cmlidXRlTm9kZSE9PWomJmUuZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO3JldHVybiBuJiZuLnZhbHVlPT09dH19KSxvLmZpbmQuVEFHPXIuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdHlwZW9mIG4uZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT1qP24uZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk6dH06ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLGk9MCxvPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk7aWYoXCIqXCI9PT1lKXt3aGlsZShuPW9baSsrXSkxPT09bi5ub2RlVHlwZSYmci5wdXNoKG4pO3JldHVybiByfXJldHVybiBvfSxvLmZpbmQuQ0xBU1M9ci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihlLG4pe3JldHVybiB0eXBlb2Ygbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lIT09aiYmaD9uLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZSk6dH0sbT1bXSxnPVtdLChyLnFzYT1LLnRlc3Qobi5xdWVyeVNlbGVjdG9yQWxsKSkmJih1dChmdW5jdGlvbihlKXtlLmlubmVySFRNTD1cIjxzZWxlY3Q+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD5cIixlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbc2VsZWN0ZWRdXCIpLmxlbmd0aHx8Zy5wdXNoKFwiXFxcXFtcIitQK1wiKig/OnZhbHVlfFwiK0IrXCIpXCIpLGUucXVlcnlTZWxlY3RvckFsbChcIjpjaGVja2VkXCIpLmxlbmd0aHx8Zy5wdXNoKFwiOmNoZWNrZWRcIil9KSx1dChmdW5jdGlvbihlKXt2YXIgdD1uLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTt0LnNldEF0dHJpYnV0ZShcInR5cGVcIixcImhpZGRlblwiKSxlLmFwcGVuZENoaWxkKHQpLnNldEF0dHJpYnV0ZShcInRcIixcIlwiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbdF49JyddXCIpLmxlbmd0aCYmZy5wdXNoKFwiWypeJF09XCIrUCtcIiooPzonJ3xcXFwiXFxcIilcIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiOmVuYWJsZWRcIikubGVuZ3RofHxnLnB1c2goXCI6ZW5hYmxlZFwiLFwiOmRpc2FibGVkXCIpLGUucXVlcnlTZWxlY3RvckFsbChcIiosOnhcIiksZy5wdXNoKFwiLC4qOlwiKX0pKSwoci5tYXRjaGVzU2VsZWN0b3I9Sy50ZXN0KHk9ZC53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGQubW96TWF0Y2hlc1NlbGVjdG9yfHxkLm9NYXRjaGVzU2VsZWN0b3J8fGQubXNNYXRjaGVzU2VsZWN0b3IpKSYmdXQoZnVuY3Rpb24oZSl7ci5kaXNjb25uZWN0ZWRNYXRjaD15LmNhbGwoZSxcImRpdlwiKSx5LmNhbGwoZSxcIltzIT0nJ106eFwiKSxtLnB1c2goXCIhPVwiLEkpfSksZz1nLmxlbmd0aCYmUmVnRXhwKGcuam9pbihcInxcIikpLG09bS5sZW5ndGgmJlJlZ0V4cChtLmpvaW4oXCJ8XCIpKSx2PUsudGVzdChkLmNvbnRhaW5zKXx8ZC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9mdW5jdGlvbihlLHQpe3ZhciBuPTk9PT1lLm5vZGVUeXBlP2UuZG9jdW1lbnRFbGVtZW50OmUscj10JiZ0LnBhcmVudE5vZGU7cmV0dXJuIGU9PT1yfHwhKCFyfHwxIT09ci5ub2RlVHlwZXx8IShuLmNvbnRhaW5zP24uY29udGFpbnMocik6ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihyKSkpfTpmdW5jdGlvbihlLHQpe2lmKHQpd2hpbGUodD10LnBhcmVudE5vZGUpaWYodD09PWUpcmV0dXJuITA7cmV0dXJuITF9LEE9ZC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9mdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiBTPSEwLDA7dmFyIGk9dC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0KTtyZXR1cm4gaT8xJml8fCFyLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PWk/ZT09PW58fHYodyxlKT8tMTp0PT09bnx8dih3LHQpPzE6Yz9GLmNhbGwoYyxlKS1GLmNhbGwoYyx0KTowOjQmaT8tMToxOmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24/LTE6MX06ZnVuY3Rpb24oZSx0KXt2YXIgcixpPTAsbz1lLnBhcmVudE5vZGUsYT10LnBhcmVudE5vZGUscz1bZV0sbD1bdF07aWYoZT09PXQpcmV0dXJuIFM9ITAsMDtpZighb3x8IWEpcmV0dXJuIGU9PT1uPy0xOnQ9PT1uPzE6bz8tMTphPzE6Yz9GLmNhbGwoYyxlKS1GLmNhbGwoYyx0KTowO2lmKG89PT1hKXJldHVybiBwdChlLHQpO3I9ZTt3aGlsZShyPXIucGFyZW50Tm9kZSlzLnVuc2hpZnQocik7cj10O3doaWxlKHI9ci5wYXJlbnROb2RlKWwudW5zaGlmdChyKTt3aGlsZShzW2ldPT09bFtpXSlpKys7cmV0dXJuIGk/cHQoc1tpXSxsW2ldKTpzW2ldPT09dz8tMTpsW2ldPT09dz8xOjB9LG4pOmZ9LGF0Lm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXQoZSxudWxsLG51bGwsdCl9LGF0Lm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKChlLm93bmVyRG9jdW1lbnR8fGUpIT09ZiYmcChlKSx0PXQucmVwbGFjZShZLFwiPSckMSddXCIpLCEoIXIubWF0Y2hlc1NlbGVjdG9yfHwhaHx8bSYmbS50ZXN0KHQpfHxnJiZnLnRlc3QodCkpKXRyeXt2YXIgbj15LmNhbGwoZSx0KTtpZihufHxyLmRpc2Nvbm5lY3RlZE1hdGNofHxlLmRvY3VtZW50JiYxMSE9PWUuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIG59Y2F0Y2goaSl7fXJldHVybiBhdCh0LGYsbnVsbCxbZV0pLmxlbmd0aD4wfSxhdC5jb250YWlucz1mdW5jdGlvbihlLHQpe3JldHVybihlLm93bmVyRG9jdW1lbnR8fGUpIT09ZiYmcChlKSx2KGUsdCl9LGF0LmF0dHI9ZnVuY3Rpb24oZSxuKXsoZS5vd25lckRvY3VtZW50fHxlKSE9PWYmJnAoZSk7dmFyIGk9by5hdHRySGFuZGxlW24udG9Mb3dlckNhc2UoKV0sYT1pJiZMLmNhbGwoby5hdHRySGFuZGxlLG4udG9Mb3dlckNhc2UoKSk/aShlLG4sIWgpOnQ7cmV0dXJuIGE9PT10P3IuYXR0cmlidXRlc3x8IWg/ZS5nZXRBdHRyaWJ1dGUobik6KGE9ZS5nZXRBdHRyaWJ1dGVOb2RlKG4pKSYmYS5zcGVjaWZpZWQ/YS52YWx1ZTpudWxsOmF9LGF0LmVycm9yPWZ1bmN0aW9uKGUpe3Rocm93IEVycm9yKFwiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogXCIrZSl9LGF0LnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxpPTAsbz0wO2lmKFM9IXIuZGV0ZWN0RHVwbGljYXRlcyxjPSFyLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KEEpLFMpe3doaWxlKHQ9ZVtvKytdKXQ9PT1lW29dJiYoaT1uLnB1c2gobykpO3doaWxlKGktLSllLnNwbGljZShuW2ldLDEpfXJldHVybiBlfSxhPWF0LmdldFRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1cIlwiLHI9MCxpPWUubm9kZVR5cGU7aWYoaSl7aWYoMT09PWl8fDk9PT1pfHwxMT09PWkpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1hKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIGZvcig7dD1lW3JdO3IrKyluKz1hKHQpO3JldHVybiBufSxvPWF0LnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmx0LG1hdGNoOlEsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOntcIj5cIjp7ZGlyOlwicGFyZW50Tm9kZVwiLGZpcnN0OiEwfSxcIiBcIjp7ZGlyOlwicGFyZW50Tm9kZVwifSxcIitcIjp7ZGlyOlwicHJldmlvdXNTaWJsaW5nXCIsZmlyc3Q6ITB9LFwiflwiOntkaXI6XCJwcmV2aW91c1NpYmxpbmdcIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXT1lWzFdLnJlcGxhY2UocnQsaXQpLGVbM109KGVbNF18fGVbNV18fFwiXCIpLnJlcGxhY2UocnQsaXQpLFwifj1cIj09PWVbMl0mJihlWzNdPVwiIFwiK2VbM10rXCIgXCIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLFwibnRoXCI9PT1lWzFdLnNsaWNlKDAsMyk/KGVbM118fGF0LmVycm9yKGVbMF0pLGVbNF09KyhlWzRdP2VbNV0rKGVbNl18fDEpOjIqKFwiZXZlblwiPT09ZVszXXx8XCJvZGRcIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHxcIm9kZFwiPT09ZVszXSkpOmVbM10mJmF0LmVycm9yKGVbMF0pLGV9LFBTRVVETzpmdW5jdGlvbihlKXt2YXIgbixyPSFlWzVdJiZlWzJdO3JldHVybiBRLkNISUxELnRlc3QoZVswXSk/bnVsbDooZVszXSYmZVs0XSE9PXQ/ZVsyXT1lWzRdOnImJkoudGVzdChyKSYmKG49bXQociwhMCkpJiYobj1yLmluZGV4T2YoXCIpXCIsci5sZW5ndGgtbiktci5sZW5ndGgpJiYoZVswXT1lWzBdLnNsaWNlKDAsbiksZVsyXT1yLnNsaWNlKDAsbikpLGUuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UocnQsaXQpLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCIqXCI9PT1lP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGUpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10fX0sQ0xBU1M6ZnVuY3Rpb24oZSl7dmFyIHQ9TltlK1wiIFwiXTtyZXR1cm4gdHx8KHQ9UmVnRXhwKFwiKF58XCIrUCtcIilcIitlK1wiKFwiK1ArXCJ8JClcIikpJiZOKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQudGVzdChcInN0cmluZ1wiPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHx0eXBlb2YgZS5nZXRBdHRyaWJ1dGUhPT1qJiZlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKX0pfSxBVFRSOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIGk9YXQuYXR0cihyLGUpO3JldHVybiBudWxsPT1pP1wiIT1cIj09PXQ6dD8oaSs9XCJcIixcIj1cIj09PXQ/aT09PW46XCIhPVwiPT09dD9pIT09bjpcIl49XCI9PT10P24mJjA9PT1pLmluZGV4T2Yobik6XCIqPVwiPT09dD9uJiZpLmluZGV4T2Yobik+LTE6XCIkPVwiPT09dD9uJiZpLnNsaWNlKC1uLmxlbmd0aCk9PT1uOlwifj1cIj09PXQ/KFwiIFwiK2krXCIgXCIpLmluZGV4T2Yobik+LTE6XCJ8PVwiPT09dD9pPT09bnx8aS5zbGljZSgwLG4ubGVuZ3RoKzEpPT09bitcIi1cIjohMSk6ITB9fSxDSElMRDpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvPVwibnRoXCIhPT1lLnNsaWNlKDAsMyksYT1cImxhc3RcIiE9PWUuc2xpY2UoLTQpLHM9XCJvZi10eXBlXCI9PT10O3JldHVybiAxPT09ciYmMD09PWk/ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmVudE5vZGV9OmZ1bmN0aW9uKHQsbixsKXt2YXIgdSxjLHAsZixkLGgsZz1vIT09YT9cIm5leHRTaWJsaW5nXCI6XCJwcmV2aW91c1NpYmxpbmdcIixtPXQucGFyZW50Tm9kZSx5PXMmJnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx2PSFsJiYhcztpZihtKXtpZihvKXt3aGlsZShnKXtwPXQ7d2hpbGUocD1wW2ddKWlmKHM/cC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09eToxPT09cC5ub2RlVHlwZSlyZXR1cm4hMTtoPWc9XCJvbmx5XCI9PT1lJiYhaCYmXCJuZXh0U2libGluZ1wifXJldHVybiEwfWlmKGg9W2E/bS5maXJzdENoaWxkOm0ubGFzdENoaWxkXSxhJiZ2KXtjPW1bYl18fChtW2JdPXt9KSx1PWNbZV18fFtdLGQ9dVswXT09PVQmJnVbMV0sZj11WzBdPT09VCYmdVsyXSxwPWQmJm0uY2hpbGROb2Rlc1tkXTt3aGlsZShwPSsrZCYmcCYmcFtnXXx8KGY9ZD0wKXx8aC5wb3AoKSlpZigxPT09cC5ub2RlVHlwZSYmKytmJiZwPT09dCl7Y1tlXT1bVCxkLGZdO2JyZWFrfX1lbHNlIGlmKHYmJih1PSh0W2JdfHwodFtiXT17fSkpW2VdKSYmdVswXT09PVQpZj11WzFdO2Vsc2Ugd2hpbGUocD0rK2QmJnAmJnBbZ118fChmPWQ9MCl8fGgucG9wKCkpaWYoKHM/cC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09eToxPT09cC5ub2RlVHlwZSkmJisrZiYmKHYmJigocFtiXXx8KHBbYl09e30pKVtlXT1bVCxmXSkscD09PXQpKWJyZWFrO3JldHVybiBmLT1pLGY9PT1yfHwwPT09ZiVyJiZmL3I+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1vLnBzZXVkb3NbZV18fG8uc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxhdC5lcnJvcihcInVuc3VwcG9ydGVkIHBzZXVkbzogXCIrZSk7cmV0dXJuIHJbYl0/cih0KTpyLmxlbmd0aD4xPyhuPVtlLGUsXCJcIix0XSxvLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoZS50b0xvd2VyQ2FzZSgpKT9sdChmdW5jdGlvbihlLG4pe3ZhciBpLG89cihlLHQpLGE9by5sZW5ndGg7d2hpbGUoYS0tKWk9Ri5jYWxsKGUsb1thXSksZVtpXT0hKG5baV09b1thXSl9KTpmdW5jdGlvbihlKXtyZXR1cm4gcihlLDAsbil9KTpyfX0scHNldWRvczp7bm90Omx0KGZ1bmN0aW9uKGUpe3ZhciB0PVtdLG49W10scj1sKGUucmVwbGFjZSh6LFwiJDFcIikpO3JldHVybiByW2JdP2x0KGZ1bmN0aW9uKGUsdCxuLGkpe3ZhciBvLGE9cihlLG51bGwsaSxbXSkscz1lLmxlbmd0aDt3aGlsZShzLS0pKG89YVtzXSkmJihlW3NdPSEodFtzXT1vKSl9KTpmdW5jdGlvbihlLGksbyl7cmV0dXJuIHRbMF09ZSxyKHQsbnVsbCxvLG4pLCFuLnBvcCgpfX0pLGhhczpsdChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGF0KGUsdCkubGVuZ3RoPjB9fSksY29udGFpbnM6bHQoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybih0LnRleHRDb250ZW50fHx0LmlubmVyVGV4dHx8YSh0KSkuaW5kZXhPZihlKT4tMX19KSxsYW5nOmx0KGZ1bmN0aW9uKGUpe3JldHVybiBHLnRlc3QoZXx8XCJcIil8fGF0LmVycm9yKFwidW5zdXBwb3J0ZWQgbGFuZzogXCIrZSksZT1lLnJlcGxhY2UocnQsaXQpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24odCl7dmFyIG47ZG8gaWYobj1oP3QubGFuZzp0LmdldEF0dHJpYnV0ZShcInhtbDpsYW5nXCIpfHx0LmdldEF0dHJpYnV0ZShcImxhbmdcIikpcmV0dXJuIG49bi50b0xvd2VyQ2FzZSgpLG49PT1lfHwwPT09bi5pbmRleE9mKGUrXCItXCIpO3doaWxlKCh0PXQucGFyZW50Tm9kZSkmJjE9PT10Lm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24odCl7dmFyIG49ZS5sb2NhdGlvbiYmZS5sb2NhdGlvbi5oYXNoO3JldHVybiBuJiZuLnNsaWNlKDEpPT09dC5pZH0scm9vdDpmdW5jdGlvbihlKXtyZXR1cm4gZT09PWR9LGZvY3VzOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09Zi5hY3RpdmVFbGVtZW50JiYoIWYuaGFzRm9jdXN8fGYuaGFzRm9jdXMoKSkmJiEhKGUudHlwZXx8ZS5ocmVmfHx+ZS50YWJJbmRleCl9LGVuYWJsZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzYWJsZWQ9PT0hMX0sZGlzYWJsZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzYWJsZWQ9PT0hMH0sY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09dCYmISFlLmNoZWNrZWR8fFwib3B0aW9uXCI9PT10JiYhIWUuc2VsZWN0ZWR9LHNlbGVjdGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LGUuc2VsZWN0ZWQ9PT0hMH0sZW1wdHk6ZnVuY3Rpb24oZSl7Zm9yKGU9ZS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWlmKGUubm9kZU5hbWU+XCJAXCJ8fDM9PT1lLm5vZGVUeXBlfHw0PT09ZS5ub2RlVHlwZSlyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGUpe3JldHVybiFvLnBzZXVkb3MuZW1wdHkoZSl9LGhlYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdHQudGVzdChlLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGV0LnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09dCYmXCJidXR0b25cIj09PWUudHlwZXx8XCJidXR0b25cIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuXCJpbnB1dFwiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZcInRleHRcIj09PWUudHlwZSYmKG51bGw9PSh0PWUuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSl8fHQudG9Mb3dlckNhc2UoKT09PWUudHlwZSl9LGZpcnN0Omh0KGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDpodChmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6aHQoZnVuY3Rpb24oZSx0LG4pe3JldHVyblswPm4/bit0Om5dfSksZXZlbjpodChmdW5jdGlvbihlLHQpe3ZhciBuPTA7Zm9yKDt0Pm47bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxvZGQ6aHQoZnVuY3Rpb24oZSx0KXt2YXIgbj0xO2Zvcig7dD5uO24rPTIpZS5wdXNoKG4pO3JldHVybiBlfSksbHQ6aHQoZnVuY3Rpb24oZSx0LG4pe3ZhciByPTA+bj9uK3Q6bjtmb3IoOy0tcj49MDspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6aHQoZnVuY3Rpb24oZSx0LG4pe3ZhciByPTA+bj9uK3Q6bjtmb3IoO3Q+KytyOyllLnB1c2gocik7cmV0dXJuIGV9KX19LG8ucHNldWRvcy5udGg9by5wc2V1ZG9zLmVxO2ZvcihuIGlue3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KW8ucHNldWRvc1tuXT1mdChuKTtmb3IobiBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KW8ucHNldWRvc1tuXT1kdChuKTtmdW5jdGlvbiBndCgpe31ndC5wcm90b3R5cGU9by5maWx0ZXJzPW8ucHNldWRvcyxvLnNldEZpbHRlcnM9bmV3IGd0O2Z1bmN0aW9uIG10KGUsdCl7dmFyIG4scixpLGEscyxsLHUsYz1rW2UrXCIgXCJdO2lmKGMpcmV0dXJuIHQ/MDpjLnNsaWNlKDApO3M9ZSxsPVtdLHU9by5wcmVGaWx0ZXI7d2hpbGUocyl7KCFufHwocj1YLmV4ZWMocykpKSYmKHImJihzPXMuc2xpY2UoclswXS5sZW5ndGgpfHxzKSxsLnB1c2goaT1bXSkpLG49ITEsKHI9VS5leGVjKHMpKSYmKG49ci5zaGlmdCgpLGkucHVzaCh7dmFsdWU6bix0eXBlOnJbMF0ucmVwbGFjZSh6LFwiIFwiKX0pLHM9cy5zbGljZShuLmxlbmd0aCkpO2ZvcihhIGluIG8uZmlsdGVyKSEocj1RW2FdLmV4ZWMocykpfHx1W2FdJiYhKHI9dVthXShyKSl8fChuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTphLG1hdGNoZXM6cn0pLHM9cy5zbGljZShuLmxlbmd0aCkpO2lmKCFuKWJyZWFrfXJldHVybiB0P3MubGVuZ3RoOnM/YXQuZXJyb3IoZSk6ayhlLGwpLnNsaWNlKDApfWZ1bmN0aW9uIHl0KGUpe3ZhciB0PTAsbj1lLmxlbmd0aCxyPVwiXCI7Zm9yKDtuPnQ7dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gdnQoZSx0LG4pe3ZhciByPXQuZGlyLG89biYmXCJwYXJlbnROb2RlXCI9PT1yLGE9QysrO3JldHVybiB0LmZpcnN0P2Z1bmN0aW9uKHQsbixpKXt3aGlsZSh0PXRbcl0paWYoMT09PXQubm9kZVR5cGV8fG8pcmV0dXJuIGUodCxuLGkpfTpmdW5jdGlvbih0LG4scyl7dmFyIGwsdSxjLHA9VCtcIiBcIithO2lmKHMpe3doaWxlKHQ9dFtyXSlpZigoMT09PXQubm9kZVR5cGV8fG8pJiZlKHQsbixzKSlyZXR1cm4hMH1lbHNlIHdoaWxlKHQ9dFtyXSlpZigxPT09dC5ub2RlVHlwZXx8bylpZihjPXRbYl18fCh0W2JdPXt9KSwodT1jW3JdKSYmdVswXT09PXApe2lmKChsPXVbMV0pPT09ITB8fGw9PT1pKXJldHVybiBsPT09ITB9ZWxzZSBpZih1PWNbcl09W3BdLHVbMV09ZSh0LG4scyl8fGksdVsxXT09PSEwKXJldHVybiEwfX1mdW5jdGlvbiBidChlKXtyZXR1cm4gZS5sZW5ndGg+MT9mdW5jdGlvbih0LG4scil7dmFyIGk9ZS5sZW5ndGg7d2hpbGUoaS0tKWlmKCFlW2ldKHQsbixyKSlyZXR1cm4hMTtyZXR1cm4hMH06ZVswXX1mdW5jdGlvbiB4dChlLHQsbixyLGkpe3ZhciBvLGE9W10scz0wLGw9ZS5sZW5ndGgsdT1udWxsIT10O2Zvcig7bD5zO3MrKykobz1lW3NdKSYmKCFufHxuKG8scixpKSkmJihhLnB1c2gobyksdSYmdC5wdXNoKHMpKTtyZXR1cm4gYX1mdW5jdGlvbiB3dChlLHQsbixyLGksbyl7cmV0dXJuIHImJiFyW2JdJiYocj13dChyKSksaSYmIWlbYl0mJihpPXd0KGksbykpLGx0KGZ1bmN0aW9uKG8sYSxzLGwpe3ZhciB1LGMscCxmPVtdLGQ9W10saD1hLmxlbmd0aCxnPW98fE50KHR8fFwiKlwiLHMubm9kZVR5cGU/W3NdOnMsW10pLG09IWV8fCFvJiZ0P2c6eHQoZyxmLGUscyxsKSx5PW4/aXx8KG8/ZTpofHxyKT9bXTphOm07aWYobiYmbihtLHkscyxsKSxyKXt1PXh0KHksZCkscih1LFtdLHMsbCksYz11Lmxlbmd0aDt3aGlsZShjLS0pKHA9dVtjXSkmJih5W2RbY11dPSEobVtkW2NdXT1wKSl9aWYobyl7aWYoaXx8ZSl7aWYoaSl7dT1bXSxjPXkubGVuZ3RoO3doaWxlKGMtLSkocD15W2NdKSYmdS5wdXNoKG1bY109cCk7aShudWxsLHk9W10sdSxsKX1jPXkubGVuZ3RoO3doaWxlKGMtLSkocD15W2NdKSYmKHU9aT9GLmNhbGwobyxwKTpmW2NdKT4tMSYmKG9bdV09IShhW3VdPXApKX19ZWxzZSB5PXh0KHk9PT1hP3kuc3BsaWNlKGgseS5sZW5ndGgpOnkpLGk/aShudWxsLGEseSxsKTpNLmFwcGx5KGEseSl9KX1mdW5jdGlvbiBUdChlKXt2YXIgdCxuLHIsaT1lLmxlbmd0aCxhPW8ucmVsYXRpdmVbZVswXS50eXBlXSxzPWF8fG8ucmVsYXRpdmVbXCIgXCJdLGw9YT8xOjAsYz12dChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9LHMsITApLHA9dnQoZnVuY3Rpb24oZSl7cmV0dXJuIEYuY2FsbCh0LGUpPi0xfSxzLCEwKSxmPVtmdW5jdGlvbihlLG4scil7cmV0dXJuIWEmJihyfHxuIT09dSl8fCgodD1uKS5ub2RlVHlwZT9jKGUsbixyKTpwKGUsbixyKSl9XTtmb3IoO2k+bDtsKyspaWYobj1vLnJlbGF0aXZlW2VbbF0udHlwZV0pZj1bdnQoYnQoZiksbildO2Vsc2V7aWYobj1vLmZpbHRlcltlW2xdLnR5cGVdLmFwcGx5KG51bGwsZVtsXS5tYXRjaGVzKSxuW2JdKXtmb3Iocj0rK2w7aT5yO3IrKylpZihvLnJlbGF0aXZlW2Vbcl0udHlwZV0pYnJlYWs7cmV0dXJuIHd0KGw+MSYmYnQoZiksbD4xJiZ5dChlLnNsaWNlKDAsbC0xKS5jb25jYXQoe3ZhbHVlOlwiIFwiPT09ZVtsLTJdLnR5cGU/XCIqXCI6XCJcIn0pKS5yZXBsYWNlKHosXCIkMVwiKSxuLHI+bCYmVHQoZS5zbGljZShsLHIpKSxpPnImJlR0KGU9ZS5zbGljZShyKSksaT5yJiZ5dChlKSl9Zi5wdXNoKG4pfXJldHVybiBidChmKX1mdW5jdGlvbiBDdChlLHQpe3ZhciBuPTAscj10Lmxlbmd0aD4wLGE9ZS5sZW5ndGg+MCxzPWZ1bmN0aW9uKHMsbCxjLHAsZCl7dmFyIGgsZyxtLHk9W10sdj0wLGI9XCIwXCIseD1zJiZbXSx3PW51bGwhPWQsQz11LE49c3x8YSYmby5maW5kLlRBRyhcIipcIixkJiZsLnBhcmVudE5vZGV8fGwpLGs9VCs9bnVsbD09Qz8xOk1hdGgucmFuZG9tKCl8fC4xO2Zvcih3JiYodT1sIT09ZiYmbCxpPW4pO251bGwhPShoPU5bYl0pO2IrKyl7aWYoYSYmaCl7Zz0wO3doaWxlKG09ZVtnKytdKWlmKG0oaCxsLGMpKXtwLnB1c2goaCk7YnJlYWt9dyYmKFQ9ayxpPSsrbil9ciYmKChoPSFtJiZoKSYmdi0tLHMmJngucHVzaChoKSl9aWYodis9YixyJiZiIT09dil7Zz0wO3doaWxlKG09dFtnKytdKW0oeCx5LGwsYyk7aWYocyl7aWYodj4wKXdoaWxlKGItLSl4W2JdfHx5W2JdfHwoeVtiXT1xLmNhbGwocCkpO3k9eHQoeSl9TS5hcHBseShwLHkpLHcmJiFzJiZ5Lmxlbmd0aD4wJiZ2K3QubGVuZ3RoPjEmJmF0LnVuaXF1ZVNvcnQocCl9cmV0dXJuIHcmJihUPWssdT1DKSx4fTtyZXR1cm4gcj9sdChzKTpzfWw9YXQuY29tcGlsZT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT1bXSxvPUVbZStcIiBcIl07aWYoIW8pe3R8fCh0PW10KGUpKSxuPXQubGVuZ3RoO3doaWxlKG4tLSlvPVR0KHRbbl0pLG9bYl0/ci5wdXNoKG8pOmkucHVzaChvKTtvPUUoZSxDdChpLHIpKX1yZXR1cm4gb307ZnVuY3Rpb24gTnQoZSx0LG4pe3ZhciByPTAsaT10Lmxlbmd0aDtmb3IoO2k+cjtyKyspYXQoZSx0W3JdLG4pO3JldHVybiBufWZ1bmN0aW9uIGt0KGUsdCxuLGkpe3ZhciBhLHMsdSxjLHAsZj1tdChlKTtpZighaSYmMT09PWYubGVuZ3RoKXtpZihzPWZbMF09ZlswXS5zbGljZSgwKSxzLmxlbmd0aD4yJiZcIklEXCI9PT0odT1zWzBdKS50eXBlJiZyLmdldEJ5SWQmJjk9PT10Lm5vZGVUeXBlJiZoJiZvLnJlbGF0aXZlW3NbMV0udHlwZV0pe2lmKHQ9KG8uZmluZC5JRCh1Lm1hdGNoZXNbMF0ucmVwbGFjZShydCxpdCksdCl8fFtdKVswXSwhdClyZXR1cm4gbjtlPWUuc2xpY2Uocy5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9YT1RLm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6cy5sZW5ndGg7d2hpbGUoYS0tKXtpZih1PXNbYV0sby5yZWxhdGl2ZVtjPXUudHlwZV0pYnJlYWs7aWYoKHA9by5maW5kW2NdKSYmKGk9cCh1Lm1hdGNoZXNbMF0ucmVwbGFjZShydCxpdCksVi50ZXN0KHNbMF0udHlwZSkmJnQucGFyZW50Tm9kZXx8dCkpKXtpZihzLnNwbGljZShhLDEpLGU9aS5sZW5ndGgmJnl0KHMpLCFlKXJldHVybiBNLmFwcGx5KG4saSksbjticmVha319fXJldHVybiBsKGUsZikoaSx0LCFoLG4sVi50ZXN0KGUpKSxufXIuc29ydFN0YWJsZT1iLnNwbGl0KFwiXCIpLnNvcnQoQSkuam9pbihcIlwiKT09PWIsci5kZXRlY3REdXBsaWNhdGVzPVMscCgpLHIuc29ydERldGFjaGVkPXV0KGZ1bmN0aW9uKGUpe3JldHVybiAxJmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKX0pLHV0KGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD1cIjxhIGhyZWY9JyMnPjwvYT5cIixcIiNcIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpfSl8fGN0KFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gcj90OmUuZ2V0QXR0cmlidXRlKG4sXCJ0eXBlXCI9PT1uLnRvTG93ZXJDYXNlKCk/MToyKX0pLHIuYXR0cmlidXRlcyYmdXQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5uZXJIVE1MPVwiPGlucHV0Lz5cIixlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKFwidmFsdWVcIixcIlwiKSxcIlwiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpfSl8fGN0KFwidmFsdWVcIixmdW5jdGlvbihlLG4scil7cmV0dXJuIHJ8fFwiaW5wdXRcIiE9PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT90OmUuZGVmYXVsdFZhbHVlfSksdXQoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWUuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIil9KXx8Y3QoQixmdW5jdGlvbihlLG4scil7dmFyIGk7cmV0dXJuIHI/dDooaT1lLmdldEF0dHJpYnV0ZU5vZGUobikpJiZpLnNwZWNpZmllZD9pLnZhbHVlOmVbbl09PT0hMD9uLnRvTG93ZXJDYXNlKCk6bnVsbH0pLHguZmluZD1hdCx4LmV4cHI9YXQuc2VsZWN0b3JzLHguZXhwcltcIjpcIl09eC5leHByLnBzZXVkb3MseC51bmlxdWU9YXQudW5pcXVlU29ydCx4LnRleHQ9YXQuZ2V0VGV4dCx4LmlzWE1MRG9jPWF0LmlzWE1MLHguY29udGFpbnM9YXQuY29udGFpbnN9KGUpO3ZhciBPPXt9O2Z1bmN0aW9uIEYoZSl7dmFyIHQ9T1tlXT17fTtyZXR1cm4geC5lYWNoKGUubWF0Y2goVCl8fFtdLGZ1bmN0aW9uKGUsbil7dFtuXT0hMH0pLHR9eC5DYWxsYmFja3M9ZnVuY3Rpb24oZSl7ZT1cInN0cmluZ1wiPT10eXBlb2YgZT9PW2VdfHxGKGUpOnguZXh0ZW5kKHt9LGUpO3ZhciBuLHIsaSxvLGEscyxsPVtdLHU9IWUub25jZSYmW10sYz1mdW5jdGlvbih0KXtmb3Iocj1lLm1lbW9yeSYmdCxpPSEwLGE9c3x8MCxzPTAsbz1sLmxlbmd0aCxuPSEwO2wmJm8+YTthKyspaWYobFthXS5hcHBseSh0WzBdLHRbMV0pPT09ITEmJmUuc3RvcE9uRmFsc2Upe3I9ITE7YnJlYWt9bj0hMSxsJiYodT91Lmxlbmd0aCYmYyh1LnNoaWZ0KCkpOnI/bD1bXTpwLmRpc2FibGUoKSl9LHA9e2FkZDpmdW5jdGlvbigpe2lmKGwpe3ZhciB0PWwubGVuZ3RoOyhmdW5jdGlvbiBpKHQpe3guZWFjaCh0LGZ1bmN0aW9uKHQsbil7dmFyIHI9eC50eXBlKG4pO1wiZnVuY3Rpb25cIj09PXI/ZS51bmlxdWUmJnAuaGFzKG4pfHxsLnB1c2gobik6biYmbi5sZW5ndGgmJlwic3RyaW5nXCIhPT1yJiZpKG4pfSl9KShhcmd1bWVudHMpLG4/bz1sLmxlbmd0aDpyJiYocz10LGMocikpfXJldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gbCYmeC5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihlLHQpe3ZhciByO3doaWxlKChyPXguaW5BcnJheSh0LGwscikpPi0xKWwuc3BsaWNlKHIsMSksbiYmKG8+PXImJm8tLSxhPj1yJiZhLS0pfSksdGhpc30saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBlP3guaW5BcnJheShlLGwpPi0xOiEoIWx8fCFsLmxlbmd0aCl9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIGw9W10sbz0wLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gbD11PXI9dCx0aGlzfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiFsfSxsb2NrOmZ1bmN0aW9uKCl7cmV0dXJuIHU9dCxyfHxwLmRpc2FibGUoKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdX0sZmlyZVdpdGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hbHx8aSYmIXV8fCh0PXR8fFtdLHQ9W2UsdC5zbGljZT90LnNsaWNlKCk6dF0sbj91LnB1c2godCk6Yyh0KSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBwLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhaX19O3JldHVybiBwfSx4LmV4dGVuZCh7RGVmZXJyZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9W1tcInJlc29sdmVcIixcImRvbmVcIix4LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLFwicmVzb2x2ZWRcIl0sW1wicmVqZWN0XCIsXCJmYWlsXCIseC5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxcInJlamVjdGVkXCJdLFtcIm5vdGlmeVwiLFwicHJvZ3Jlc3NcIix4LkNhbGxiYWNrcyhcIm1lbW9yeVwiKV1dLG49XCJwZW5kaW5nXCIscj17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gbn0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIGkuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSx0aGVuOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzO3JldHVybiB4LkRlZmVycmVkKGZ1bmN0aW9uKG4pe3guZWFjaCh0LGZ1bmN0aW9uKHQsbyl7dmFyIGE9b1swXSxzPXguaXNGdW5jdGlvbihlW3RdKSYmZVt0XTtpW29bMV1dKGZ1bmN0aW9uKCl7dmFyIGU9cyYmcy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZSYmeC5pc0Z1bmN0aW9uKGUucHJvbWlzZSk/ZS5wcm9taXNlKCkuZG9uZShuLnJlc29sdmUpLmZhaWwobi5yZWplY3QpLnByb2dyZXNzKG4ubm90aWZ5KTpuW2ErXCJXaXRoXCJdKHRoaXM9PT1yP24ucHJvbWlzZSgpOnRoaXMscz9bZV06YXJndW1lbnRzKX0pfSksZT1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lP3guZXh0ZW5kKGUscik6cn19LGk9e307cmV0dXJuIHIucGlwZT1yLnRoZW4seC5lYWNoKHQsZnVuY3Rpb24oZSxvKXt2YXIgYT1vWzJdLHM9b1szXTtyW29bMV1dPWEuYWRkLHMmJmEuYWRkKGZ1bmN0aW9uKCl7bj1zfSx0WzFeZV1bMl0uZGlzYWJsZSx0WzJdWzJdLmxvY2spLGlbb1swXV09ZnVuY3Rpb24oKXtyZXR1cm4gaVtvWzBdK1wiV2l0aFwiXSh0aGlzPT09aT9yOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxpW29bMF0rXCJXaXRoXCJdPWEuZmlyZVdpdGh9KSxyLnByb21pc2UoaSksZSYmZS5jYWxsKGksaSksaX0sd2hlbjpmdW5jdGlvbihlKXt2YXIgdD0wLG49Zy5jYWxsKGFyZ3VtZW50cykscj1uLmxlbmd0aCxpPTEhPT1yfHxlJiZ4LmlzRnVuY3Rpb24oZS5wcm9taXNlKT9yOjAsbz0xPT09aT9lOnguRGVmZXJyZWQoKSxhPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZnVuY3Rpb24ocil7dFtlXT10aGlzLG5bZV09YXJndW1lbnRzLmxlbmd0aD4xP2cuY2FsbChhcmd1bWVudHMpOnIsbj09PXM/by5ub3RpZnlXaXRoKHQsbik6LS1pfHxvLnJlc29sdmVXaXRoKHQsbil9fSxzLGwsdTtpZihyPjEpZm9yKHM9QXJyYXkociksbD1BcnJheShyKSx1PUFycmF5KHIpO3I+dDt0Kyspblt0XSYmeC5pc0Z1bmN0aW9uKG5bdF0ucHJvbWlzZSk/blt0XS5wcm9taXNlKCkuZG9uZShhKHQsdSxuKSkuZmFpbChvLnJlamVjdCkucHJvZ3Jlc3MoYSh0LGwscykpOi0taTtyZXR1cm4gaXx8by5yZXNvbHZlV2l0aCh1LG4pLG8ucHJvbWlzZSgpfX0pLHguc3VwcG9ydD1mdW5jdGlvbih0KXt2YXIgbixyLG8scyxsLHUsYyxwLGYsZD1hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYoZC5zZXRBdHRyaWJ1dGUoXCJjbGFzc05hbWVcIixcInRcIiksZC5pbm5lckhUTUw9XCIgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYSc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz5cIixuPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpfHxbXSxyPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJhXCIpWzBdLCFyfHwhci5zdHlsZXx8IW4ubGVuZ3RoKXJldHVybiB0O3M9YS5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpLHU9cy5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIikpLG89ZC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlucHV0XCIpWzBdLHIuc3R5bGUuY3NzVGV4dD1cInRvcDoxcHg7ZmxvYXQ6bGVmdDtvcGFjaXR5Oi41XCIsdC5nZXRTZXRBdHRyaWJ1dGU9XCJ0XCIhPT1kLmNsYXNzTmFtZSx0LmxlYWRpbmdXaGl0ZXNwYWNlPTM9PT1kLmZpcnN0Q2hpbGQubm9kZVR5cGUsdC50Ym9keT0hZC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRib2R5XCIpLmxlbmd0aCx0Lmh0bWxTZXJpYWxpemU9ISFkLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGlua1wiKS5sZW5ndGgsdC5zdHlsZT0vdG9wLy50ZXN0KHIuZ2V0QXR0cmlidXRlKFwic3R5bGVcIikpLHQuaHJlZk5vcm1hbGl6ZWQ9XCIvYVwiPT09ci5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLHQub3BhY2l0eT0vXjAuNS8udGVzdChyLnN0eWxlLm9wYWNpdHkpLHQuY3NzRmxvYXQ9ISFyLnN0eWxlLmNzc0Zsb2F0LHQuY2hlY2tPbj0hIW8udmFsdWUsdC5vcHRTZWxlY3RlZD11LnNlbGVjdGVkLHQuZW5jdHlwZT0hIWEuY3JlYXRlRWxlbWVudChcImZvcm1cIikuZW5jdHlwZSx0Lmh0bWw1Q2xvbmU9XCI8Om5hdj48LzpuYXY+XCIhPT1hLmNyZWF0ZUVsZW1lbnQoXCJuYXZcIikuY2xvbmVOb2RlKCEwKS5vdXRlckhUTUwsdC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0PSExLHQuc2hyaW5rV3JhcEJsb2Nrcz0hMSx0LnBpeGVsUG9zaXRpb249ITEsdC5kZWxldGVFeHBhbmRvPSEwLHQubm9DbG9uZUV2ZW50PSEwLHQucmVsaWFibGVNYXJnaW5SaWdodD0hMCx0LmJveFNpemluZ1JlbGlhYmxlPSEwLG8uY2hlY2tlZD0hMCx0Lm5vQ2xvbmVDaGVja2VkPW8uY2xvbmVOb2RlKCEwKS5jaGVja2VkLHMuZGlzYWJsZWQ9ITAsdC5vcHREaXNhYmxlZD0hdS5kaXNhYmxlZDt0cnl7ZGVsZXRlIGQudGVzdH1jYXRjaChoKXt0LmRlbGV0ZUV4cGFuZG89ITF9bz1hLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxvLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsXCJcIiksdC5pbnB1dD1cIlwiPT09by5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSxvLnZhbHVlPVwidFwiLG8uc2V0QXR0cmlidXRlKFwidHlwZVwiLFwicmFkaW9cIiksdC5yYWRpb1ZhbHVlPVwidFwiPT09by52YWx1ZSxvLnNldEF0dHJpYnV0ZShcImNoZWNrZWRcIixcInRcIiksby5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJ0XCIpLGw9YS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbC5hcHBlbmRDaGlsZChvKSx0LmFwcGVuZENoZWNrZWQ9by5jaGVja2VkLHQuY2hlY2tDbG9uZT1sLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxkLmF0dGFjaEV2ZW50JiYoZC5hdHRhY2hFdmVudChcIm9uY2xpY2tcIixmdW5jdGlvbigpe3Qubm9DbG9uZUV2ZW50PSExfSksZC5jbG9uZU5vZGUoITApLmNsaWNrKCkpO2ZvcihmIGlue3N1Ym1pdDohMCxjaGFuZ2U6ITAsZm9jdXNpbjohMH0pZC5zZXRBdHRyaWJ1dGUoYz1cIm9uXCIrZixcInRcIiksdFtmK1wiQnViYmxlc1wiXT1jIGluIGV8fGQuYXR0cmlidXRlc1tjXS5leHBhbmRvPT09ITE7ZC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD1cImNvbnRlbnQtYm94XCIsZC5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPVwiXCIsdC5jbGVhckNsb25lU3R5bGU9XCJjb250ZW50LWJveFwiPT09ZC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcDtmb3IoZiBpbiB4KHQpKWJyZWFrO3JldHVybiB0Lm93bkxhc3Q9XCIwXCIhPT1mLHgoZnVuY3Rpb24oKXt2YXIgbixyLG8scz1cInBhZGRpbmc6MDttYXJnaW46MDtib3JkZXI6MDtkaXNwbGF5OmJsb2NrO2JveC1zaXppbmc6Y29udGVudC1ib3g7LW1vei1ib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDtcIixsPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdO2wmJihuPWEuY3JlYXRlRWxlbWVudChcImRpdlwiKSxuLnN0eWxlLmNzc1RleHQ9XCJib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6LTk5OTlweDttYXJnaW4tdG9wOjFweFwiLGwuYXBwZW5kQ2hpbGQobikuYXBwZW5kQ2hpbGQoZCksZC5pbm5lckhUTUw9XCI8dGFibGU+PHRyPjx0ZD48L3RkPjx0ZD50PC90ZD48L3RyPjwvdGFibGU+XCIsbz1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGRcIiksb1swXS5zdHlsZS5jc3NUZXh0PVwicGFkZGluZzowO21hcmdpbjowO2JvcmRlcjowO2Rpc3BsYXk6bm9uZVwiLHA9MD09PW9bMF0ub2Zmc2V0SGVpZ2h0LG9bMF0uc3R5bGUuZGlzcGxheT1cIlwiLG9bMV0uc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0LnJlbGlhYmxlSGlkZGVuT2Zmc2V0cz1wJiYwPT09b1swXS5vZmZzZXRIZWlnaHQsZC5pbm5lckhUTUw9XCJcIixkLnN0eWxlLmNzc1RleHQ9XCJib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7cGFkZGluZzoxcHg7Ym9yZGVyOjFweDtkaXNwbGF5OmJsb2NrO3dpZHRoOjRweDttYXJnaW4tdG9wOjElO3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxJTtcIix4LnN3YXAobCxudWxsIT1sLnN0eWxlLnpvb20/e3pvb206MX06e30sZnVuY3Rpb24oKXt0LmJveFNpemluZz00PT09ZC5vZmZzZXRXaWR0aH0pLGUuZ2V0Q29tcHV0ZWRTdHlsZSYmKHQucGl4ZWxQb3NpdGlvbj1cIjElXCIhPT0oZS5nZXRDb21wdXRlZFN0eWxlKGQsbnVsbCl8fHt9KS50b3AsdC5ib3hTaXppbmdSZWxpYWJsZT1cIjRweFwiPT09KGUuZ2V0Q29tcHV0ZWRTdHlsZShkLG51bGwpfHx7d2lkdGg6XCI0cHhcIn0pLndpZHRoLHI9ZC5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLHIuc3R5bGUuY3NzVGV4dD1kLnN0eWxlLmNzc1RleHQ9cyxyLnN0eWxlLm1hcmdpblJpZ2h0PXIuc3R5bGUud2lkdGg9XCIwXCIsZC5zdHlsZS53aWR0aD1cIjFweFwiLHQucmVsaWFibGVNYXJnaW5SaWdodD0hcGFyc2VGbG9hdCgoZS5nZXRDb21wdXRlZFN0eWxlKHIsbnVsbCl8fHt9KS5tYXJnaW5SaWdodCkpLHR5cGVvZiBkLnN0eWxlLnpvb20hPT1pJiYoZC5pbm5lckhUTUw9XCJcIixkLnN0eWxlLmNzc1RleHQ9cytcIndpZHRoOjFweDtwYWRkaW5nOjFweDtkaXNwbGF5OmlubGluZTt6b29tOjFcIix0LmlubGluZUJsb2NrTmVlZHNMYXlvdXQ9Mz09PWQub2Zmc2V0V2lkdGgsZC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIixkLmlubmVySFRNTD1cIjxkaXY+PC9kaXY+XCIsZC5maXJzdENoaWxkLnN0eWxlLndpZHRoPVwiNXB4XCIsdC5zaHJpbmtXcmFwQmxvY2tzPTMhPT1kLm9mZnNldFdpZHRoLHQuaW5saW5lQmxvY2tOZWVkc0xheW91dCYmKGwuc3R5bGUuem9vbT0xKSksbC5yZW1vdmVDaGlsZChuKSxuPWQ9bz1yPW51bGwpfSksbj1zPWw9dT1yPW89bnVsbCx0XG59KHt9KTt2YXIgQj0vKD86XFx7W1xcc1xcU10qXFx9fFxcW1tcXHNcXFNdKlxcXSkkLyxQPS8oW0EtWl0pL2c7ZnVuY3Rpb24gUihlLG4scixpKXtpZih4LmFjY2VwdERhdGEoZSkpe3ZhciBvLGEscz14LmV4cGFuZG8sbD1lLm5vZGVUeXBlLHU9bD94LmNhY2hlOmUsYz1sP2Vbc106ZVtzXSYmcztpZihjJiZ1W2NdJiYoaXx8dVtjXS5kYXRhKXx8ciE9PXR8fFwic3RyaW5nXCIhPXR5cGVvZiBuKXJldHVybiBjfHwoYz1sP2Vbc109cC5wb3AoKXx8eC5ndWlkKys6cyksdVtjXXx8KHVbY109bD97fTp7dG9KU09OOngubm9vcH0pLChcIm9iamVjdFwiPT10eXBlb2Ygbnx8XCJmdW5jdGlvblwiPT10eXBlb2YgbikmJihpP3VbY109eC5leHRlbmQodVtjXSxuKTp1W2NdLmRhdGE9eC5leHRlbmQodVtjXS5kYXRhLG4pKSxhPXVbY10saXx8KGEuZGF0YXx8KGEuZGF0YT17fSksYT1hLmRhdGEpLHIhPT10JiYoYVt4LmNhbWVsQ2FzZShuKV09ciksXCJzdHJpbmdcIj09dHlwZW9mIG4/KG89YVtuXSxudWxsPT1vJiYobz1hW3guY2FtZWxDYXNlKG4pXSkpOm89YSxvfX1mdW5jdGlvbiBXKGUsdCxuKXtpZih4LmFjY2VwdERhdGEoZSkpe3ZhciByLGksbz1lLm5vZGVUeXBlLGE9bz94LmNhY2hlOmUscz1vP2VbeC5leHBhbmRvXTp4LmV4cGFuZG87aWYoYVtzXSl7aWYodCYmKHI9bj9hW3NdOmFbc10uZGF0YSkpe3guaXNBcnJheSh0KT90PXQuY29uY2F0KHgubWFwKHQseC5jYW1lbENhc2UpKTp0IGluIHI/dD1bdF06KHQ9eC5jYW1lbENhc2UodCksdD10IGluIHI/W3RdOnQuc3BsaXQoXCIgXCIpKSxpPXQubGVuZ3RoO3doaWxlKGktLSlkZWxldGUgclt0W2ldXTtpZihuPyFJKHIpOiF4LmlzRW1wdHlPYmplY3QocikpcmV0dXJufShufHwoZGVsZXRlIGFbc10uZGF0YSxJKGFbc10pKSkmJihvP3guY2xlYW5EYXRhKFtlXSwhMCk6eC5zdXBwb3J0LmRlbGV0ZUV4cGFuZG98fGEhPWEud2luZG93P2RlbGV0ZSBhW3NdOmFbc109bnVsbCl9fX14LmV4dGVuZCh7Y2FjaGU6e30sbm9EYXRhOnthcHBsZXQ6ITAsZW1iZWQ6ITAsb2JqZWN0OlwiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwXCJ9LGhhc0RhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS5ub2RlVHlwZT94LmNhY2hlW2VbeC5leHBhbmRvXV06ZVt4LmV4cGFuZG9dLCEhZSYmIUkoZSl9LGRhdGE6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBSKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe3JldHVybiBXKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gUihlLHQsbiwhMCl9LF9yZW1vdmVEYXRhOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIFcoZSx0LCEwKX0sYWNjZXB0RGF0YTpmdW5jdGlvbihlKXtpZihlLm5vZGVUeXBlJiYxIT09ZS5ub2RlVHlwZSYmOSE9PWUubm9kZVR5cGUpcmV0dXJuITE7dmFyIHQ9ZS5ub2RlTmFtZSYmeC5ub0RhdGFbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXTtyZXR1cm4hdHx8dCE9PSEwJiZlLmdldEF0dHJpYnV0ZShcImNsYXNzaWRcIik9PT10fX0pLHguZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGUsbil7dmFyIHIsaSxvPW51bGwsYT0wLHM9dGhpc1swXTtpZihlPT09dCl7aWYodGhpcy5sZW5ndGgmJihvPXguZGF0YShzKSwxPT09cy5ub2RlVHlwZSYmIXguX2RhdGEocyxcInBhcnNlZEF0dHJzXCIpKSl7Zm9yKHI9cy5hdHRyaWJ1dGVzO3IubGVuZ3RoPmE7YSsrKWk9clthXS5uYW1lLDA9PT1pLmluZGV4T2YoXCJkYXRhLVwiKSYmKGk9eC5jYW1lbENhc2UoaS5zbGljZSg1KSksJChzLGksb1tpXSkpO3guX2RhdGEocyxcInBhcnNlZEF0dHJzXCIsITApfXJldHVybiBvfXJldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlP3RoaXMuZWFjaChmdW5jdGlvbigpe3guZGF0YSh0aGlzLGUpfSk6YXJndW1lbnRzLmxlbmd0aD4xP3RoaXMuZWFjaChmdW5jdGlvbigpe3guZGF0YSh0aGlzLGUsbil9KTpzPyQocyxlLHguZGF0YShzLGUpKTpudWxsfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt4LnJlbW92ZURhdGEodGhpcyxlKX0pfX0pO2Z1bmN0aW9uICQoZSxuLHIpe2lmKHI9PT10JiYxPT09ZS5ub2RlVHlwZSl7dmFyIGk9XCJkYXRhLVwiK24ucmVwbGFjZShQLFwiLSQxXCIpLnRvTG93ZXJDYXNlKCk7aWYocj1lLmdldEF0dHJpYnV0ZShpKSxcInN0cmluZ1wiPT10eXBlb2Ygcil7dHJ5e3I9XCJ0cnVlXCI9PT1yPyEwOlwiZmFsc2VcIj09PXI/ITE6XCJudWxsXCI9PT1yP251bGw6K3IrXCJcIj09PXI/K3I6Qi50ZXN0KHIpP3gucGFyc2VKU09OKHIpOnJ9Y2F0Y2gobyl7fXguZGF0YShlLG4scil9ZWxzZSByPXR9cmV0dXJuIHJ9ZnVuY3Rpb24gSShlKXt2YXIgdDtmb3IodCBpbiBlKWlmKChcImRhdGFcIiE9PXR8fCF4LmlzRW1wdHlPYmplY3QoZVt0XSkpJiZcInRvSlNPTlwiIT09dClyZXR1cm4hMTtyZXR1cm4hMH14LmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpO3JldHVybiBlPyhuPShufHxcImZ4XCIpK1wicXVldWVcIixpPXguX2RhdGEoZSxuKSxyJiYoIWl8fHguaXNBcnJheShyKT9pPXguX2RhdGEoZSxuLHgubWFrZUFycmF5KHIpKTppLnB1c2gocikpLGl8fFtdKTp0fSxkZXF1ZXVlOmZ1bmN0aW9uKGUsdCl7dD10fHxcImZ4XCI7dmFyIG49eC5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz14Ll9xdWV1ZUhvb2tzKGUsdCksYT1mdW5jdGlvbigpe3guZGVxdWV1ZShlLHQpfTtcImlucHJvZ3Jlc3NcIj09PWkmJihpPW4uc2hpZnQoKSxyLS0pLGkmJihcImZ4XCI9PT10JiZuLnVuc2hpZnQoXCJpbnByb2dyZXNzXCIpLGRlbGV0ZSBvLnN0b3AsaS5jYWxsKGUsYSxvKSksIXImJm8mJm8uZW1wdHkuZmlyZSgpfSxfcXVldWVIb29rczpmdW5jdGlvbihlLHQpe3ZhciBuPXQrXCJxdWV1ZUhvb2tzXCI7cmV0dXJuIHguX2RhdGEoZSxuKXx8eC5fZGF0YShlLG4se2VtcHR5OnguQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIikuYWRkKGZ1bmN0aW9uKCl7eC5fcmVtb3ZlRGF0YShlLHQrXCJxdWV1ZVwiKSx4Ll9yZW1vdmVEYXRhKGUsbil9KX0pfX0pLHguZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihlLG4pe3ZhciByPTI7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGUmJihuPWUsZT1cImZ4XCIsci0tKSxyPmFyZ3VtZW50cy5sZW5ndGg/eC5xdWV1ZSh0aGlzWzBdLGUpOm49PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9eC5xdWV1ZSh0aGlzLGUsbik7eC5fcXVldWVIb29rcyh0aGlzLGUpLFwiZnhcIj09PWUmJlwiaW5wcm9ncmVzc1wiIT09dFswXSYmeC5kZXF1ZXVlKHRoaXMsZSl9KX0sZGVxdWV1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7eC5kZXF1ZXVlKHRoaXMsZSl9KX0sZGVsYXk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT14LmZ4P3guZnguc3BlZWRzW2VdfHxlOmUsdD10fHxcImZ4XCIsdGhpcy5xdWV1ZSh0LGZ1bmN0aW9uKHQsbil7dmFyIHI9c2V0VGltZW91dCh0LGUpO24uc3RvcD1mdW5jdGlvbigpe2NsZWFyVGltZW91dChyKX19KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5xdWV1ZShlfHxcImZ4XCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsbil7dmFyIHIsaT0xLG89eC5EZWZlcnJlZCgpLGE9dGhpcyxzPXRoaXMubGVuZ3RoLGw9ZnVuY3Rpb24oKXstLWl8fG8ucmVzb2x2ZVdpdGgoYSxbYV0pfTtcInN0cmluZ1wiIT10eXBlb2YgZSYmKG49ZSxlPXQpLGU9ZXx8XCJmeFwiO3doaWxlKHMtLSlyPXguX2RhdGEoYVtzXSxlK1wicXVldWVIb29rc1wiKSxyJiZyLmVtcHR5JiYoaSsrLHIuZW1wdHkuYWRkKGwpKTtyZXR1cm4gbCgpLG8ucHJvbWlzZShuKX19KTt2YXIgeixYLFU9L1tcXHRcXHJcXG5cXGZdL2csVj0vXFxyL2csWT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0KSQvaSxKPS9eKD86YXxhcmVhKSQvaSxHPS9eKD86Y2hlY2tlZHxzZWxlY3RlZCkkL2ksUT14LnN1cHBvcnQuZ2V0U2V0QXR0cmlidXRlLEs9eC5zdXBwb3J0LmlucHV0O3guZm4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHguYWNjZXNzKHRoaXMseC5hdHRyLGUsdCxhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt4LnJlbW92ZUF0dHIodGhpcyxlKX0pfSxwcm9wOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHguYWNjZXNzKHRoaXMseC5wcm9wLGUsdCxhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGUpe3JldHVybiBlPXgucHJvcEZpeFtlXXx8ZSx0aGlzLmVhY2goZnVuY3Rpb24oKXt0cnl7dGhpc1tlXT10LGRlbGV0ZSB0aGlzW2VdfWNhdGNoKG4pe319KX0sYWRkQ2xhc3M6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksbyxhPTAscz10aGlzLmxlbmd0aCxsPVwic3RyaW5nXCI9PXR5cGVvZiBlJiZlO2lmKHguaXNGdW5jdGlvbihlKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3godGhpcykuYWRkQ2xhc3MoZS5jYWxsKHRoaXMsdCx0aGlzLmNsYXNzTmFtZSkpfSk7aWYobClmb3IodD0oZXx8XCJcIikubWF0Y2goVCl8fFtdO3M+YTthKyspaWYobj10aGlzW2FdLHI9MT09PW4ubm9kZVR5cGUmJihuLmNsYXNzTmFtZT8oXCIgXCIrbi5jbGFzc05hbWUrXCIgXCIpLnJlcGxhY2UoVSxcIiBcIik6XCIgXCIpKXtvPTA7d2hpbGUoaT10W28rK10pMD5yLmluZGV4T2YoXCIgXCIraStcIiBcIikmJihyKz1pK1wiIFwiKTtuLmNsYXNzTmFtZT14LnRyaW0ocil9cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLG8sYT0wLHM9dGhpcy5sZW5ndGgsbD0wPT09YXJndW1lbnRzLmxlbmd0aHx8XCJzdHJpbmdcIj09dHlwZW9mIGUmJmU7aWYoeC5pc0Z1bmN0aW9uKGUpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24odCl7eCh0aGlzKS5yZW1vdmVDbGFzcyhlLmNhbGwodGhpcyx0LHRoaXMuY2xhc3NOYW1lKSl9KTtpZihsKWZvcih0PShlfHxcIlwiKS5tYXRjaChUKXx8W107cz5hO2ErKylpZihuPXRoaXNbYV0scj0xPT09bi5ub2RlVHlwZSYmKG4uY2xhc3NOYW1lPyhcIiBcIituLmNsYXNzTmFtZStcIiBcIikucmVwbGFjZShVLFwiIFwiKTpcIlwiKSl7bz0wO3doaWxlKGk9dFtvKytdKXdoaWxlKHIuaW5kZXhPZihcIiBcIitpK1wiIFwiKT49MClyPXIucmVwbGFjZShcIiBcIitpK1wiIFwiLFwiIFwiKTtuLmNsYXNzTmFtZT1lP3gudHJpbShyKTpcIlwifXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihlLHQpe3ZhciBuPXR5cGVvZiBlO3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgdCYmXCJzdHJpbmdcIj09PW4/dD90aGlzLmFkZENsYXNzKGUpOnRoaXMucmVtb3ZlQ2xhc3MoZSk6eC5pc0Z1bmN0aW9uKGUpP3RoaXMuZWFjaChmdW5jdGlvbihuKXt4KHRoaXMpLnRvZ2dsZUNsYXNzKGUuY2FsbCh0aGlzLG4sdGhpcy5jbGFzc05hbWUsdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXtpZihcInN0cmluZ1wiPT09bil7dmFyIHQscj0wLG89eCh0aGlzKSxhPWUubWF0Y2goVCl8fFtdO3doaWxlKHQ9YVtyKytdKW8uaGFzQ2xhc3ModCk/by5yZW1vdmVDbGFzcyh0KTpvLmFkZENsYXNzKHQpfWVsc2Uobj09PWl8fFwiYm9vbGVhblwiPT09bikmJih0aGlzLmNsYXNzTmFtZSYmeC5fZGF0YSh0aGlzLFwiX19jbGFzc05hbWVfX1wiLHRoaXMuY2xhc3NOYW1lKSx0aGlzLmNsYXNzTmFtZT10aGlzLmNsYXNzTmFtZXx8ZT09PSExP1wiXCI6eC5fZGF0YSh0aGlzLFwiX19jbGFzc05hbWVfX1wiKXx8XCJcIil9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oZSl7dmFyIHQ9XCIgXCIrZStcIiBcIixuPTAscj10aGlzLmxlbmd0aDtmb3IoO3I+bjtuKyspaWYoMT09PXRoaXNbbl0ubm9kZVR5cGUmJihcIiBcIit0aGlzW25dLmNsYXNzTmFtZStcIiBcIikucmVwbGFjZShVLFwiIFwiKS5pbmRleE9mKHQpPj0wKXJldHVybiEwO3JldHVybiExfSx2YWw6ZnVuY3Rpb24oZSl7dmFyIG4scixpLG89dGhpc1swXTt7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gaT14LmlzRnVuY3Rpb24oZSksdGhpcy5lYWNoKGZ1bmN0aW9uKG4pe3ZhciBvOzE9PT10aGlzLm5vZGVUeXBlJiYobz1pP2UuY2FsbCh0aGlzLG4seCh0aGlzKS52YWwoKSk6ZSxudWxsPT1vP289XCJcIjpcIm51bWJlclwiPT10eXBlb2Ygbz9vKz1cIlwiOnguaXNBcnJheShvKSYmKG89eC5tYXAobyxmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9cIlwiOmUrXCJcIn0pKSxyPXgudmFsSG9va3NbdGhpcy50eXBlXXx8eC52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLHImJlwic2V0XCJpbiByJiZyLnNldCh0aGlzLG8sXCJ2YWx1ZVwiKSE9PXR8fCh0aGlzLnZhbHVlPW8pKX0pO2lmKG8pcmV0dXJuIHI9eC52YWxIb29rc1tvLnR5cGVdfHx4LnZhbEhvb2tzW28ubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sciYmXCJnZXRcImluIHImJihuPXIuZ2V0KG8sXCJ2YWx1ZVwiKSkhPT10P246KG49by52YWx1ZSxcInN0cmluZ1wiPT10eXBlb2Ygbj9uLnJlcGxhY2UoVixcIlwiKTpudWxsPT1uP1wiXCI6bil9fX0pLHguZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9eC5maW5kLmF0dHIoZSxcInZhbHVlXCIpO3JldHVybiBudWxsIT10P3Q6ZS50ZXh0fX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWUub3B0aW9ucyxpPWUuc2VsZWN0ZWRJbmRleCxvPVwic2VsZWN0LW9uZVwiPT09ZS50eXBlfHwwPmksYT1vP251bGw6W10scz1vP2krMTpyLmxlbmd0aCxsPTA+aT9zOm8/aTowO2Zvcig7cz5sO2wrKylpZihuPXJbbF0sISghbi5zZWxlY3RlZCYmbCE9PWl8fCh4LnN1cHBvcnQub3B0RGlzYWJsZWQ/bi5kaXNhYmxlZDpudWxsIT09bi5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSl8fG4ucGFyZW50Tm9kZS5kaXNhYmxlZCYmeC5ub2RlTmFtZShuLnBhcmVudE5vZGUsXCJvcHRncm91cFwiKSkpe2lmKHQ9eChuKS52YWwoKSxvKXJldHVybiB0O2EucHVzaCh0KX1yZXR1cm4gYX0sc2V0OmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpPWUub3B0aW9ucyxvPXgubWFrZUFycmF5KHQpLGE9aS5sZW5ndGg7d2hpbGUoYS0tKXI9aVthXSwoci5zZWxlY3RlZD14LmluQXJyYXkoeChyKS52YWwoKSxvKT49MCkmJihuPSEwKTtyZXR1cm4gbnx8KGUuc2VsZWN0ZWRJbmRleD0tMSksb319fSxhdHRyOmZ1bmN0aW9uKGUsbixyKXt2YXIgbyxhLHM9ZS5ub2RlVHlwZTtpZihlJiYzIT09cyYmOCE9PXMmJjIhPT1zKXJldHVybiB0eXBlb2YgZS5nZXRBdHRyaWJ1dGU9PT1pP3gucHJvcChlLG4scik6KDE9PT1zJiZ4LmlzWE1MRG9jKGUpfHwobj1uLnRvTG93ZXJDYXNlKCksbz14LmF0dHJIb29rc1tuXXx8KHguZXhwci5tYXRjaC5ib29sLnRlc3Qobik/WDp6KSkscj09PXQ/byYmXCJnZXRcImluIG8mJm51bGwhPT0oYT1vLmdldChlLG4pKT9hOihhPXguZmluZC5hdHRyKGUsbiksbnVsbD09YT90OmEpOm51bGwhPT1yP28mJlwic2V0XCJpbiBvJiYoYT1vLnNldChlLHIsbikpIT09dD9hOihlLnNldEF0dHJpYnV0ZShuLHIrXCJcIikscik6KHgucmVtb3ZlQXR0cihlLG4pLHQpKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT0wLG89dCYmdC5tYXRjaChUKTtpZihvJiYxPT09ZS5ub2RlVHlwZSl3aGlsZShuPW9baSsrXSlyPXgucHJvcEZpeFtuXXx8bix4LmV4cHIubWF0Y2guYm9vbC50ZXN0KG4pP0smJlF8fCFHLnRlc3Qobik/ZVtyXT0hMTplW3guY2FtZWxDYXNlKFwiZGVmYXVsdC1cIituKV09ZVtyXT0hMTp4LmF0dHIoZSxuLFwiXCIpLGUucmVtb3ZlQXR0cmlidXRlKFE/bjpyKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZigheC5zdXBwb3J0LnJhZGlvVmFsdWUmJlwicmFkaW9cIj09PXQmJngubm9kZU5hbWUoZSxcImlucHV0XCIpKXt2YXIgbj1lLnZhbHVlO3JldHVybiBlLnNldEF0dHJpYnV0ZShcInR5cGVcIix0KSxuJiYoZS52YWx1ZT1uKSx0fX19fSxwcm9wRml4OntcImZvclwiOlwiaHRtbEZvclwiLFwiY2xhc3NcIjpcImNsYXNzTmFtZVwifSxwcm9wOmZ1bmN0aW9uKGUsbixyKXt2YXIgaSxvLGEscz1lLm5vZGVUeXBlO2lmKGUmJjMhPT1zJiY4IT09cyYmMiE9PXMpcmV0dXJuIGE9MSE9PXN8fCF4LmlzWE1MRG9jKGUpLGEmJihuPXgucHJvcEZpeFtuXXx8bixvPXgucHJvcEhvb2tzW25dKSxyIT09dD9vJiZcInNldFwiaW4gbyYmKGk9by5zZXQoZSxyLG4pKSE9PXQ/aTplW25dPXI6byYmXCJnZXRcImluIG8mJm51bGwhPT0oaT1vLmdldChlLG4pKT9pOmVbbl19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihlKXt2YXIgdD14LmZpbmQuYXR0cihlLFwidGFiaW5kZXhcIik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6WS50ZXN0KGUubm9kZU5hbWUpfHxKLnRlc3QoZS5ub2RlTmFtZSkmJmUuaHJlZj8wOi0xfX19fSksWD17c2V0OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdD09PSExP3gucmVtb3ZlQXR0cihlLG4pOksmJlF8fCFHLnRlc3Qobik/ZS5zZXRBdHRyaWJ1dGUoIVEmJngucHJvcEZpeFtuXXx8bixuKTplW3guY2FtZWxDYXNlKFwiZGVmYXVsdC1cIituKV09ZVtuXT0hMCxufX0seC5lYWNoKHguZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXFx3Ky9nKSxmdW5jdGlvbihlLG4pe3ZhciByPXguZXhwci5hdHRySGFuZGxlW25dfHx4LmZpbmQuYXR0cjt4LmV4cHIuYXR0ckhhbmRsZVtuXT1LJiZRfHwhRy50ZXN0KG4pP2Z1bmN0aW9uKGUsbixpKXt2YXIgbz14LmV4cHIuYXR0ckhhbmRsZVtuXSxhPWk/dDooeC5leHByLmF0dHJIYW5kbGVbbl09dCkhPXIoZSxuLGkpP24udG9Mb3dlckNhc2UoKTpudWxsO3JldHVybiB4LmV4cHIuYXR0ckhhbmRsZVtuXT1vLGF9OmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gcj90OmVbeC5jYW1lbENhc2UoXCJkZWZhdWx0LVwiK24pXT9uLnRvTG93ZXJDYXNlKCk6bnVsbH19KSxLJiZRfHwoeC5hdHRySG9va3MudmFsdWU9e3NldDpmdW5jdGlvbihlLG4scil7cmV0dXJuIHgubm9kZU5hbWUoZSxcImlucHV0XCIpPyhlLmRlZmF1bHRWYWx1ZT1uLHQpOnomJnouc2V0KGUsbixyKX19KSxRfHwoej17c2V0OmZ1bmN0aW9uKGUsbixyKXt2YXIgaT1lLmdldEF0dHJpYnV0ZU5vZGUocik7cmV0dXJuIGl8fGUuc2V0QXR0cmlidXRlTm9kZShpPWUub3duZXJEb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUocikpLGkudmFsdWU9bis9XCJcIixcInZhbHVlXCI9PT1yfHxuPT09ZS5nZXRBdHRyaWJ1dGUocik/bjp0fX0seC5leHByLmF0dHJIYW5kbGUuaWQ9eC5leHByLmF0dHJIYW5kbGUubmFtZT14LmV4cHIuYXR0ckhhbmRsZS5jb29yZHM9ZnVuY3Rpb24oZSxuLHIpe3ZhciBpO3JldHVybiByP3Q6KGk9ZS5nZXRBdHRyaWJ1dGVOb2RlKG4pKSYmXCJcIiE9PWkudmFsdWU/aS52YWx1ZTpudWxsfSx4LnZhbEhvb2tzLmJ1dHRvbj17Z2V0OmZ1bmN0aW9uKGUsbil7dmFyIHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKG4pO3JldHVybiByJiZyLnNwZWNpZmllZD9yLnZhbHVlOnR9LHNldDp6LnNldH0seC5hdHRySG9va3MuY29udGVudGVkaXRhYmxlPXtzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ouc2V0KGUsXCJcIj09PXQ/ITE6dCxuKX19LHguZWFjaChbXCJ3aWR0aFwiLFwiaGVpZ2h0XCJdLGZ1bmN0aW9uKGUsbil7eC5hdHRySG9va3Nbbl09e3NldDpmdW5jdGlvbihlLHIpe3JldHVyblwiXCI9PT1yPyhlLnNldEF0dHJpYnV0ZShuLFwiYXV0b1wiKSxyKTp0fX19KSkseC5zdXBwb3J0LmhyZWZOb3JtYWxpemVkfHx4LmVhY2goW1wiaHJlZlwiLFwic3JjXCJdLGZ1bmN0aW9uKGUsdCl7eC5wcm9wSG9va3NbdF09e2dldDpmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUodCw0KX19fSkseC5zdXBwb3J0LnN0eWxlfHwoeC5hdHRySG9va3Muc3R5bGU9e2dldDpmdW5jdGlvbihlKXtyZXR1cm4gZS5zdHlsZS5jc3NUZXh0fHx0fSxzZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zdHlsZS5jc3NUZXh0PXQrXCJcIn19KSx4LnN1cHBvcnQub3B0U2VsZWN0ZWR8fCh4LnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KSxudWxsfX0pLHguZWFjaChbXCJ0YWJJbmRleFwiLFwicmVhZE9ubHlcIixcIm1heExlbmd0aFwiLFwiY2VsbFNwYWNpbmdcIixcImNlbGxQYWRkaW5nXCIsXCJyb3dTcGFuXCIsXCJjb2xTcGFuXCIsXCJ1c2VNYXBcIixcImZyYW1lQm9yZGVyXCIsXCJjb250ZW50RWRpdGFibGVcIl0sZnVuY3Rpb24oKXt4LnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSkseC5zdXBwb3J0LmVuY3R5cGV8fCh4LnByb3BGaXguZW5jdHlwZT1cImVuY29kaW5nXCIpLHguZWFjaChbXCJyYWRpb1wiLFwiY2hlY2tib3hcIl0sZnVuY3Rpb24oKXt4LnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oZSxuKXtyZXR1cm4geC5pc0FycmF5KG4pP2UuY2hlY2tlZD14LmluQXJyYXkoeChlKS52YWwoKSxuKT49MDp0fX0seC5zdXBwb3J0LmNoZWNrT258fCh4LnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWUuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik/XCJvblwiOmUudmFsdWV9KX0pO3ZhciBaPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhKSQvaSxldD0vXmtleS8sdHQ9L14oPzptb3VzZXxjb250ZXh0bWVudSl8Y2xpY2svLG50PS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxydD0vXihbXi5dKikoPzpcXC4oLispfCkkLztmdW5jdGlvbiBpdCgpe3JldHVybiEwfWZ1bmN0aW9uIG90KCl7cmV0dXJuITF9ZnVuY3Rpb24gYXQoKXt0cnl7cmV0dXJuIGEuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fXguZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24oZSxuLHIsbyxhKXt2YXIgcyxsLHUsYyxwLGYsZCxoLGcsbSx5LHY9eC5fZGF0YShlKTtpZih2KXtyLmhhbmRsZXImJihjPXIscj1jLmhhbmRsZXIsYT1jLnNlbGVjdG9yKSxyLmd1aWR8fChyLmd1aWQ9eC5ndWlkKyspLChsPXYuZXZlbnRzKXx8KGw9di5ldmVudHM9e30pLChmPXYuaGFuZGxlKXx8KGY9di5oYW5kbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiB4PT09aXx8ZSYmeC5ldmVudC50cmlnZ2VyZWQ9PT1lLnR5cGU/dDp4LmV2ZW50LmRpc3BhdGNoLmFwcGx5KGYuZWxlbSxhcmd1bWVudHMpfSxmLmVsZW09ZSksbj0obnx8XCJcIikubWF0Y2goVCl8fFtcIlwiXSx1PW4ubGVuZ3RoO3doaWxlKHUtLSlzPXJ0LmV4ZWMoblt1XSl8fFtdLGc9eT1zWzFdLG09KHNbMl18fFwiXCIpLnNwbGl0KFwiLlwiKS5zb3J0KCksZyYmKHA9eC5ldmVudC5zcGVjaWFsW2ddfHx7fSxnPShhP3AuZGVsZWdhdGVUeXBlOnAuYmluZFR5cGUpfHxnLHA9eC5ldmVudC5zcGVjaWFsW2ddfHx7fSxkPXguZXh0ZW5kKHt0eXBlOmcsb3JpZ1R5cGU6eSxkYXRhOm8saGFuZGxlcjpyLGd1aWQ6ci5ndWlkLHNlbGVjdG9yOmEsbmVlZHNDb250ZXh0OmEmJnguZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChhKSxuYW1lc3BhY2U6bS5qb2luKFwiLlwiKX0sYyksKGg9bFtnXSl8fChoPWxbZ109W10saC5kZWxlZ2F0ZUNvdW50PTAscC5zZXR1cCYmcC5zZXR1cC5jYWxsKGUsbyxtLGYpIT09ITF8fChlLmFkZEV2ZW50TGlzdGVuZXI/ZS5hZGRFdmVudExpc3RlbmVyKGcsZiwhMSk6ZS5hdHRhY2hFdmVudCYmZS5hdHRhY2hFdmVudChcIm9uXCIrZyxmKSkpLHAuYWRkJiYocC5hZGQuY2FsbChlLGQpLGQuaGFuZGxlci5ndWlkfHwoZC5oYW5kbGVyLmd1aWQ9ci5ndWlkKSksYT9oLnNwbGljZShoLmRlbGVnYXRlQ291bnQrKywwLGQpOmgucHVzaChkKSx4LmV2ZW50Lmdsb2JhbFtnXT0hMCk7ZT1udWxsfX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG8sYSxzLGwsdSxjLHAsZixkLGgsZyxtPXguaGFzRGF0YShlKSYmeC5fZGF0YShlKTtpZihtJiYoYz1tLmV2ZW50cykpe3Q9KHR8fFwiXCIpLm1hdGNoKFQpfHxbXCJcIl0sdT10Lmxlbmd0aDt3aGlsZSh1LS0paWYocz1ydC5leGVjKHRbdV0pfHxbXSxkPWc9c1sxXSxoPShzWzJdfHxcIlwiKS5zcGxpdChcIi5cIikuc29ydCgpLGQpe3A9eC5ldmVudC5zcGVjaWFsW2RdfHx7fSxkPShyP3AuZGVsZWdhdGVUeXBlOnAuYmluZFR5cGUpfHxkLGY9Y1tkXXx8W10scz1zWzJdJiZSZWdFeHAoXCIoXnxcXFxcLilcIitoLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKSxsPW89Zi5sZW5ndGg7d2hpbGUoby0tKWE9ZltvXSwhaSYmZyE9PWEub3JpZ1R5cGV8fG4mJm4uZ3VpZCE9PWEuZ3VpZHx8cyYmIXMudGVzdChhLm5hbWVzcGFjZSl8fHImJnIhPT1hLnNlbGVjdG9yJiYoXCIqKlwiIT09cnx8IWEuc2VsZWN0b3IpfHwoZi5zcGxpY2UobywxKSxhLnNlbGVjdG9yJiZmLmRlbGVnYXRlQ291bnQtLSxwLnJlbW92ZSYmcC5yZW1vdmUuY2FsbChlLGEpKTtsJiYhZi5sZW5ndGgmJihwLnRlYXJkb3duJiZwLnRlYXJkb3duLmNhbGwoZSxoLG0uaGFuZGxlKSE9PSExfHx4LnJlbW92ZUV2ZW50KGUsZCxtLmhhbmRsZSksZGVsZXRlIGNbZF0pfWVsc2UgZm9yKGQgaW4gYyl4LmV2ZW50LnJlbW92ZShlLGQrdFt1XSxuLHIsITApO3guaXNFbXB0eU9iamVjdChjKSYmKGRlbGV0ZSBtLmhhbmRsZSx4Ll9yZW1vdmVEYXRhKGUsXCJldmVudHNcIikpfX0sdHJpZ2dlcjpmdW5jdGlvbihuLHIsaSxvKXt2YXIgcyxsLHUsYyxwLGYsZCxoPVtpfHxhXSxnPXYuY2FsbChuLFwidHlwZVwiKT9uLnR5cGU6bixtPXYuY2FsbChuLFwibmFtZXNwYWNlXCIpP24ubmFtZXNwYWNlLnNwbGl0KFwiLlwiKTpbXTtpZih1PWY9aT1pfHxhLDMhPT1pLm5vZGVUeXBlJiY4IT09aS5ub2RlVHlwZSYmIW50LnRlc3QoZyt4LmV2ZW50LnRyaWdnZXJlZCkmJihnLmluZGV4T2YoXCIuXCIpPj0wJiYobT1nLnNwbGl0KFwiLlwiKSxnPW0uc2hpZnQoKSxtLnNvcnQoKSksbD0wPmcuaW5kZXhPZihcIjpcIikmJlwib25cIitnLG49blt4LmV4cGFuZG9dP246bmV3IHguRXZlbnQoZyxcIm9iamVjdFwiPT10eXBlb2YgbiYmbiksbi5pc1RyaWdnZXI9bz8yOjMsbi5uYW1lc3BhY2U9bS5qb2luKFwiLlwiKSxuLm5hbWVzcGFjZV9yZT1uLm5hbWVzcGFjZT9SZWdFeHAoXCIoXnxcXFxcLilcIittLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKTpudWxsLG4ucmVzdWx0PXQsbi50YXJnZXR8fChuLnRhcmdldD1pKSxyPW51bGw9PXI/W25dOngubWFrZUFycmF5KHIsW25dKSxwPXguZXZlbnQuc3BlY2lhbFtnXXx8e30sb3x8IXAudHJpZ2dlcnx8cC50cmlnZ2VyLmFwcGx5KGkscikhPT0hMSkpe2lmKCFvJiYhcC5ub0J1YmJsZSYmIXguaXNXaW5kb3coaSkpe2ZvcihjPXAuZGVsZWdhdGVUeXBlfHxnLG50LnRlc3QoYytnKXx8KHU9dS5wYXJlbnROb2RlKTt1O3U9dS5wYXJlbnROb2RlKWgucHVzaCh1KSxmPXU7Zj09PShpLm93bmVyRG9jdW1lbnR8fGEpJiZoLnB1c2goZi5kZWZhdWx0Vmlld3x8Zi5wYXJlbnRXaW5kb3d8fGUpfWQ9MDt3aGlsZSgodT1oW2QrK10pJiYhbi5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKW4udHlwZT1kPjE/YzpwLmJpbmRUeXBlfHxnLHM9KHguX2RhdGEodSxcImV2ZW50c1wiKXx8e30pW24udHlwZV0mJnguX2RhdGEodSxcImhhbmRsZVwiKSxzJiZzLmFwcGx5KHUscikscz1sJiZ1W2xdLHMmJnguYWNjZXB0RGF0YSh1KSYmcy5hcHBseSYmcy5hcHBseSh1LHIpPT09ITEmJm4ucHJldmVudERlZmF1bHQoKTtpZihuLnR5cGU9ZywhbyYmIW4uaXNEZWZhdWx0UHJldmVudGVkKCkmJighcC5fZGVmYXVsdHx8cC5fZGVmYXVsdC5hcHBseShoLnBvcCgpLHIpPT09ITEpJiZ4LmFjY2VwdERhdGEoaSkmJmwmJmlbZ10mJiF4LmlzV2luZG93KGkpKXtmPWlbbF0sZiYmKGlbbF09bnVsbCkseC5ldmVudC50cmlnZ2VyZWQ9Zzt0cnl7aVtnXSgpfWNhdGNoKHkpe314LmV2ZW50LnRyaWdnZXJlZD10LGYmJihpW2xdPWYpfXJldHVybiBuLnJlc3VsdH19LGRpc3BhdGNoOmZ1bmN0aW9uKGUpe2U9eC5ldmVudC5maXgoZSk7dmFyIG4scixpLG8sYSxzPVtdLGw9Zy5jYWxsKGFyZ3VtZW50cyksdT0oeC5fZGF0YSh0aGlzLFwiZXZlbnRzXCIpfHx7fSlbZS50eXBlXXx8W10sYz14LmV2ZW50LnNwZWNpYWxbZS50eXBlXXx8e307aWYobFswXT1lLGUuZGVsZWdhdGVUYXJnZXQ9dGhpcywhYy5wcmVEaXNwYXRjaHx8Yy5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsZSkhPT0hMSl7cz14LmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxlLHUpLG49MDt3aGlsZSgobz1zW24rK10pJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXtlLmN1cnJlbnRUYXJnZXQ9by5lbGVtLGE9MDt3aGlsZSgoaT1vLmhhbmRsZXJzW2ErK10pJiYhZS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKSghZS5uYW1lc3BhY2VfcmV8fGUubmFtZXNwYWNlX3JlLnRlc3QoaS5uYW1lc3BhY2UpKSYmKGUuaGFuZGxlT2JqPWksZS5kYXRhPWkuZGF0YSxyPSgoeC5ldmVudC5zcGVjaWFsW2kub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxpLmhhbmRsZXIpLmFwcGx5KG8uZWxlbSxsKSxyIT09dCYmKGUucmVzdWx0PXIpPT09ITEmJihlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBjLnBvc3REaXNwYXRjaCYmYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLGUpLGUucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSxuKXt2YXIgcixpLG8sYSxzPVtdLGw9bi5kZWxlZ2F0ZUNvdW50LHU9ZS50YXJnZXQ7aWYobCYmdS5ub2RlVHlwZSYmKCFlLmJ1dHRvbnx8XCJjbGlja1wiIT09ZS50eXBlKSlmb3IoO3UhPXRoaXM7dT11LnBhcmVudE5vZGV8fHRoaXMpaWYoMT09PXUubm9kZVR5cGUmJih1LmRpc2FibGVkIT09ITB8fFwiY2xpY2tcIiE9PWUudHlwZSkpe2ZvcihvPVtdLGE9MDtsPmE7YSsrKWk9blthXSxyPWkuc2VsZWN0b3IrXCIgXCIsb1tyXT09PXQmJihvW3JdPWkubmVlZHNDb250ZXh0P3gocix0aGlzKS5pbmRleCh1KT49MDp4LmZpbmQocix0aGlzLG51bGwsW3VdKS5sZW5ndGgpLG9bcl0mJm8ucHVzaChpKTtvLmxlbmd0aCYmcy5wdXNoKHtlbGVtOnUsaGFuZGxlcnM6b30pfXJldHVybiBuLmxlbmd0aD5sJiZzLnB1c2goe2VsZW06dGhpcyxoYW5kbGVyczpuLnNsaWNlKGwpfSksc30sZml4OmZ1bmN0aW9uKGUpe2lmKGVbeC5leHBhbmRvXSlyZXR1cm4gZTt2YXIgdCxuLHIsaT1lLnR5cGUsbz1lLHM9dGhpcy5maXhIb29rc1tpXTtzfHwodGhpcy5maXhIb29rc1tpXT1zPXR0LnRlc3QoaSk/dGhpcy5tb3VzZUhvb2tzOmV0LnRlc3QoaSk/dGhpcy5rZXlIb29rczp7fSkscj1zLnByb3BzP3RoaXMucHJvcHMuY29uY2F0KHMucHJvcHMpOnRoaXMucHJvcHMsZT1uZXcgeC5FdmVudChvKSx0PXIubGVuZ3RoO3doaWxlKHQtLSluPXJbdF0sZVtuXT1vW25dO3JldHVybiBlLnRhcmdldHx8KGUudGFyZ2V0PW8uc3JjRWxlbWVudHx8YSksMz09PWUudGFyZ2V0Lm5vZGVUeXBlJiYoZS50YXJnZXQ9ZS50YXJnZXQucGFyZW50Tm9kZSksZS5tZXRhS2V5PSEhZS5tZXRhS2V5LHMuZmlsdGVyP3MuZmlsdGVyKGUsbyk6ZX0scHJvcHM6XCJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2hcIi5zcGxpdChcIiBcIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOlwiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZVwiLnNwbGl0KFwiIFwiKSxmaWx0ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09ZS53aGljaCYmKGUud2hpY2g9bnVsbCE9dC5jaGFyQ29kZT90LmNoYXJDb2RlOnQua2V5Q29kZSksZX19LG1vdXNlSG9va3M6e3Byb3BzOlwiYnV0dG9uIGJ1dHRvbnMgY2xpZW50WCBjbGllbnRZIGZyb21FbGVtZW50IG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkgdG9FbGVtZW50XCIuc3BsaXQoXCIgXCIpLGZpbHRlcjpmdW5jdGlvbihlLG4pe3ZhciByLGksbyxzPW4uYnV0dG9uLGw9bi5mcm9tRWxlbWVudDtyZXR1cm4gbnVsbD09ZS5wYWdlWCYmbnVsbCE9bi5jbGllbnRYJiYoaT1lLnRhcmdldC5vd25lckRvY3VtZW50fHxhLG89aS5kb2N1bWVudEVsZW1lbnQscj1pLmJvZHksZS5wYWdlWD1uLmNsaWVudFgrKG8mJm8uc2Nyb2xsTGVmdHx8ciYmci5zY3JvbGxMZWZ0fHwwKS0obyYmby5jbGllbnRMZWZ0fHxyJiZyLmNsaWVudExlZnR8fDApLGUucGFnZVk9bi5jbGllbnRZKyhvJiZvLnNjcm9sbFRvcHx8ciYmci5zY3JvbGxUb3B8fDApLShvJiZvLmNsaWVudFRvcHx8ciYmci5jbGllbnRUb3B8fDApKSwhZS5yZWxhdGVkVGFyZ2V0JiZsJiYoZS5yZWxhdGVkVGFyZ2V0PWw9PT1lLnRhcmdldD9uLnRvRWxlbWVudDpsKSxlLndoaWNofHxzPT09dHx8KGUud2hpY2g9MSZzPzE6MiZzPzM6NCZzPzI6MCksZX19LHNwZWNpYWw6e2xvYWQ6e25vQnViYmxlOiEwfSxmb2N1czp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKHRoaXMhPT1hdCgpJiZ0aGlzLmZvY3VzKXRyeXtyZXR1cm4gdGhpcy5mb2N1cygpLCExfWNhdGNoKGUpe319LGRlbGVnYXRlVHlwZTpcImZvY3VzaW5cIn0sYmx1cjp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzPT09YXQoKSYmdGhpcy5ibHVyPyh0aGlzLmJsdXIoKSwhMSk6dH0sZGVsZWdhdGVUeXBlOlwiZm9jdXNvdXRcIn0sY2xpY2s6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4geC5ub2RlTmFtZSh0aGlzLFwiaW5wdXRcIikmJlwiY2hlY2tib3hcIj09PXRoaXMudHlwZSYmdGhpcy5jbGljaz8odGhpcy5jbGljaygpLCExKTp0fSxfZGVmYXVsdDpmdW5jdGlvbihlKXtyZXR1cm4geC5ub2RlTmFtZShlLnRhcmdldCxcImFcIil9fSxiZWZvcmV1bmxvYWQ6e3Bvc3REaXNwYXRjaDpmdW5jdGlvbihlKXtlLnJlc3VsdCE9PXQmJihlLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9ZS5yZXN1bHQpfX19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXguZXh0ZW5kKG5ldyB4LkV2ZW50LG4se3R5cGU6ZSxpc1NpbXVsYXRlZDohMCxvcmlnaW5hbEV2ZW50Ont9fSk7cj94LmV2ZW50LnRyaWdnZXIoaSxudWxsLHQpOnguZXZlbnQuZGlzcGF0Y2guY2FsbCh0LGkpLGkuaXNEZWZhdWx0UHJldmVudGVkKCkmJm4ucHJldmVudERlZmF1bHQoKX19LHgucmVtb3ZlRXZlbnQ9YS5yZW1vdmVFdmVudExpc3RlbmVyP2Z1bmN0aW9uKGUsdCxuKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXImJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4sITEpfTpmdW5jdGlvbihlLHQsbil7dmFyIHI9XCJvblwiK3Q7ZS5kZXRhY2hFdmVudCYmKHR5cGVvZiBlW3JdPT09aSYmKGVbcl09bnVsbCksZS5kZXRhY2hFdmVudChyLG4pKX0seC5FdmVudD1mdW5jdGlvbihlLG4pe3JldHVybiB0aGlzIGluc3RhbmNlb2YgeC5FdmVudD8oZSYmZS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9ZSx0aGlzLnR5cGU9ZS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWUuZGVmYXVsdFByZXZlbnRlZHx8ZS5yZXR1cm5WYWx1ZT09PSExfHxlLmdldFByZXZlbnREZWZhdWx0JiZlLmdldFByZXZlbnREZWZhdWx0KCk/aXQ6b3QpOnRoaXMudHlwZT1lLG4mJnguZXh0ZW5kKHRoaXMsbiksdGhpcy50aW1lU3RhbXA9ZSYmZS50aW1lU3RhbXB8fHgubm93KCksdGhpc1t4LmV4cGFuZG9dPSEwLHQpOm5ldyB4LkV2ZW50KGUsbil9LHguRXZlbnQucHJvdG90eXBlPXtpc0RlZmF1bHRQcmV2ZW50ZWQ6b3QsaXNQcm9wYWdhdGlvblN0b3BwZWQ6b3QsaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6b3QscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9aXQsZSYmKGUucHJldmVudERlZmF1bHQ/ZS5wcmV2ZW50RGVmYXVsdCgpOmUucmV0dXJuVmFsdWU9ITEpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1pdCxlJiYoZS5zdG9wUHJvcGFnYXRpb24mJmUuc3RvcFByb3BhZ2F0aW9uKCksZS5jYW5jZWxCdWJibGU9ITApfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPWl0LHRoaXMuc3RvcFByb3BhZ2F0aW9uKCl9fSx4LmVhY2goe21vdXNlZW50ZXI6XCJtb3VzZW92ZXJcIixtb3VzZWxlYXZlOlwibW91c2VvdXRcIn0sZnVuY3Rpb24oZSx0KXt4LmV2ZW50LnNwZWNpYWxbZV09e2RlbGVnYXRlVHlwZTp0LGJpbmRUeXBlOnQsaGFuZGxlOmZ1bmN0aW9uKGUpe3ZhciBuLHI9dGhpcyxpPWUucmVsYXRlZFRhcmdldCxvPWUuaGFuZGxlT2JqO3JldHVybighaXx8aSE9PXImJiF4LmNvbnRhaW5zKHIsaSkpJiYoZS50eXBlPW8ub3JpZ1R5cGUsbj1vLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT10KSxufX19KSx4LnN1cHBvcnQuc3VibWl0QnViYmxlc3x8KHguZXZlbnQuc3BlY2lhbC5zdWJtaXQ9e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIHgubm9kZU5hbWUodGhpcyxcImZvcm1cIik/ITE6KHguZXZlbnQuYWRkKHRoaXMsXCJjbGljay5fc3VibWl0IGtleXByZXNzLl9zdWJtaXRcIixmdW5jdGlvbihlKXt2YXIgbj1lLnRhcmdldCxyPXgubm9kZU5hbWUobixcImlucHV0XCIpfHx4Lm5vZGVOYW1lKG4sXCJidXR0b25cIik/bi5mb3JtOnQ7ciYmIXguX2RhdGEocixcInN1Ym1pdEJ1YmJsZXNcIikmJih4LmV2ZW50LmFkZChyLFwic3VibWl0Ll9zdWJtaXRcIixmdW5jdGlvbihlKXtlLl9zdWJtaXRfYnViYmxlPSEwfSkseC5fZGF0YShyLFwic3VibWl0QnViYmxlc1wiLCEwKSl9KSx0KX0scG9zdERpc3BhdGNoOmZ1bmN0aW9uKGUpe2UuX3N1Ym1pdF9idWJibGUmJihkZWxldGUgZS5fc3VibWl0X2J1YmJsZSx0aGlzLnBhcmVudE5vZGUmJiFlLmlzVHJpZ2dlciYmeC5ldmVudC5zaW11bGF0ZShcInN1Ym1pdFwiLHRoaXMucGFyZW50Tm9kZSxlLCEwKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIHgubm9kZU5hbWUodGhpcyxcImZvcm1cIik/ITE6KHguZXZlbnQucmVtb3ZlKHRoaXMsXCIuX3N1Ym1pdFwiKSx0KX19KSx4LnN1cHBvcnQuY2hhbmdlQnViYmxlc3x8KHguZXZlbnQuc3BlY2lhbC5jaGFuZ2U9e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIFoudGVzdCh0aGlzLm5vZGVOYW1lKT8oKFwiY2hlY2tib3hcIj09PXRoaXMudHlwZXx8XCJyYWRpb1wiPT09dGhpcy50eXBlKSYmKHguZXZlbnQuYWRkKHRoaXMsXCJwcm9wZXJ0eWNoYW5nZS5fY2hhbmdlXCIsZnVuY3Rpb24oZSl7XCJjaGVja2VkXCI9PT1lLm9yaWdpbmFsRXZlbnQucHJvcGVydHlOYW1lJiYodGhpcy5fanVzdF9jaGFuZ2VkPSEwKX0pLHguZXZlbnQuYWRkKHRoaXMsXCJjbGljay5fY2hhbmdlXCIsZnVuY3Rpb24oZSl7dGhpcy5fanVzdF9jaGFuZ2VkJiYhZS5pc1RyaWdnZXImJih0aGlzLl9qdXN0X2NoYW5nZWQ9ITEpLHguZXZlbnQuc2ltdWxhdGUoXCJjaGFuZ2VcIix0aGlzLGUsITApfSkpLCExKTooeC5ldmVudC5hZGQodGhpcyxcImJlZm9yZWFjdGl2YXRlLl9jaGFuZ2VcIixmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtaLnRlc3QodC5ub2RlTmFtZSkmJiF4Ll9kYXRhKHQsXCJjaGFuZ2VCdWJibGVzXCIpJiYoeC5ldmVudC5hZGQodCxcImNoYW5nZS5fY2hhbmdlXCIsZnVuY3Rpb24oZSl7IXRoaXMucGFyZW50Tm9kZXx8ZS5pc1NpbXVsYXRlZHx8ZS5pc1RyaWdnZXJ8fHguZXZlbnQuc2ltdWxhdGUoXCJjaGFuZ2VcIix0aGlzLnBhcmVudE5vZGUsZSwhMCl9KSx4Ll9kYXRhKHQsXCJjaGFuZ2VCdWJibGVzXCIsITApKX0pLHQpfSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIG49ZS50YXJnZXQ7cmV0dXJuIHRoaXMhPT1ufHxlLmlzU2ltdWxhdGVkfHxlLmlzVHJpZ2dlcnx8XCJyYWRpb1wiIT09bi50eXBlJiZcImNoZWNrYm94XCIhPT1uLnR5cGU/ZS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dH0sdGVhcmRvd246ZnVuY3Rpb24oKXtyZXR1cm4geC5ldmVudC5yZW1vdmUodGhpcyxcIi5fY2hhbmdlXCIpLCFaLnRlc3QodGhpcy5ub2RlTmFtZSl9fSkseC5zdXBwb3J0LmZvY3VzaW5CdWJibGVzfHx4LmVhY2goe2ZvY3VzOlwiZm9jdXNpblwiLGJsdXI6XCJmb2N1c291dFwifSxmdW5jdGlvbihlLHQpe3ZhciBuPTAscj1mdW5jdGlvbihlKXt4LmV2ZW50LnNpbXVsYXRlKHQsZS50YXJnZXQseC5ldmVudC5maXgoZSksITApfTt4LmV2ZW50LnNwZWNpYWxbdF09e3NldHVwOmZ1bmN0aW9uKCl7MD09PW4rKyYmYS5hZGRFdmVudExpc3RlbmVyKGUsciwhMCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7MD09PS0tbiYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGUsciwhMCl9fX0pLHguZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihlLG4scixpLG8pe3ZhciBhLHM7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUpe1wic3RyaW5nXCIhPXR5cGVvZiBuJiYocj1yfHxuLG49dCk7Zm9yKGEgaW4gZSl0aGlzLm9uKGEsbixyLGVbYV0sbyk7cmV0dXJuIHRoaXN9aWYobnVsbD09ciYmbnVsbD09aT8oaT1uLHI9bj10KTpudWxsPT1pJiYoXCJzdHJpbmdcIj09dHlwZW9mIG4/KGk9cixyPXQpOihpPXIscj1uLG49dCkpLGk9PT0hMSlpPW90O2Vsc2UgaWYoIWkpcmV0dXJuIHRoaXM7cmV0dXJuIDE9PT1vJiYocz1pLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHgoKS5vZmYoZSkscy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGkuZ3VpZD1zLmd1aWR8fChzLmd1aWQ9eC5ndWlkKyspKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt4LmV2ZW50LmFkZCh0aGlzLGUsaSxyLG4pfSl9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5vbihlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpLG87aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIGk9ZS5oYW5kbGVPYmoseChlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoaS5uYW1lc3BhY2U/aS5vcmlnVHlwZStcIi5cIitpLm5hbWVzcGFjZTppLm9yaWdUeXBlLGkuc2VsZWN0b3IsaS5oYW5kbGVyKSx0aGlzO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlKXtmb3IobyBpbiBlKXRoaXMub2ZmKG8sbixlW29dKTtyZXR1cm4gdGhpc31yZXR1cm4obj09PSExfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKSYmKHI9bixuPXQpLHI9PT0hMSYmKHI9b3QpLHRoaXMuZWFjaChmdW5jdGlvbigpe3guZXZlbnQucmVtb3ZlKHRoaXMsZSxyLG4pfSl9LHRyaWdnZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7eC5ldmVudC50cmlnZ2VyKGUsdCx0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihlLG4pe3ZhciByPXRoaXNbMF07cmV0dXJuIHI/eC5ldmVudC50cmlnZ2VyKGUsbixyLCEwKTp0fX0pO3ZhciBzdD0vXi5bXjojXFxbXFwuLF0qJC8sbHQ9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sdXQ9eC5leHByLm1hdGNoLm5lZWRzQ29udGV4dCxjdD17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTt4LmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuPVtdLHI9dGhpcyxpPXIubGVuZ3RoO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiB0aGlzLnB1c2hTdGFjayh4KGUpLmZpbHRlcihmdW5jdGlvbigpe2Zvcih0PTA7aT50O3QrKylpZih4LmNvbnRhaW5zKHJbdF0sdGhpcykpcmV0dXJuITB9KSk7Zm9yKHQ9MDtpPnQ7dCsrKXguZmluZChlLHJbdF0sbik7cmV0dXJuIG49dGhpcy5wdXNoU3RhY2soaT4xP3gudW5pcXVlKG4pOm4pLG4uc2VsZWN0b3I9dGhpcy5zZWxlY3Rvcj90aGlzLnNlbGVjdG9yK1wiIFwiK2U6ZSxufSxoYXM6ZnVuY3Rpb24oZSl7dmFyIHQsbj14KGUsdGhpcykscj1uLmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3I+dDt0KyspaWYoeC5jb250YWlucyh0aGlzLG5bdF0pKXJldHVybiEwfSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZnQodGhpcyxlfHxbXSwhMCkpfSxmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGZ0KHRoaXMsZXx8W10sITEpKX0saXM6ZnVuY3Rpb24oZSl7cmV0dXJuISFmdCh0aGlzLFwic3RyaW5nXCI9PXR5cGVvZiBlJiZ1dC50ZXN0KGUpP3goZSk6ZXx8W10sITEpLmxlbmd0aH0sY2xvc2VzdDpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXRoaXMubGVuZ3RoLG89W10sYT11dC50ZXN0KGUpfHxcInN0cmluZ1wiIT10eXBlb2YgZT94KGUsdHx8dGhpcy5jb250ZXh0KTowO2Zvcig7aT5yO3IrKylmb3Iobj10aGlzW3JdO24mJm4hPT10O249bi5wYXJlbnROb2RlKWlmKDExPm4ubm9kZVR5cGUmJihhP2EuaW5kZXgobik+LTE6MT09PW4ubm9kZVR5cGUmJnguZmluZC5tYXRjaGVzU2VsZWN0b3IobixlKSkpe249by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayhvLmxlbmd0aD4xP3gudW5pcXVlKG8pOm8pfSxpbmRleDpmdW5jdGlvbihlKXtyZXR1cm4gZT9cInN0cmluZ1wiPT10eXBlb2YgZT94LmluQXJyYXkodGhpc1swXSx4KGUpKTp4LmluQXJyYXkoZS5qcXVlcnk/ZVswXTplLHRoaXMpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGUsdCl7dmFyIG49XCJzdHJpbmdcIj09dHlwZW9mIGU/eChlLHQpOngubWFrZUFycmF5KGUmJmUubm9kZVR5cGU/W2VdOmUpLHI9eC5tZXJnZSh0aGlzLmdldCgpLG4pO3JldHVybiB0aGlzLnB1c2hTdGFjayh4LnVuaXF1ZShyKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pO2Z1bmN0aW9uIHB0KGUsdCl7ZG8gZT1lW3RdO3doaWxlKGUmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX14LmVhY2goe3BhcmVudDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIHQmJjExIT09dC5ub2RlVHlwZT90Om51bGx9LHBhcmVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIHguZGlyKGUsXCJwYXJlbnROb2RlXCIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB4LmRpcihlLFwicGFyZW50Tm9kZVwiLG4pfSxuZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBwdChlLFwibmV4dFNpYmxpbmdcIil9LHByZXY6ZnVuY3Rpb24oZSl7cmV0dXJuIHB0KGUsXCJwcmV2aW91c1NpYmxpbmdcIil9LG5leHRBbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIHguZGlyKGUsXCJuZXh0U2libGluZ1wiKX0scHJldkFsbDpmdW5jdGlvbihlKXtyZXR1cm4geC5kaXIoZSxcInByZXZpb3VzU2libGluZ1wiKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4geC5kaXIoZSxcIm5leHRTaWJsaW5nXCIsbil9LHByZXZVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHguZGlyKGUsXCJwcmV2aW91c1NpYmxpbmdcIixuKX0sc2libGluZ3M6ZnVuY3Rpb24oZSl7cmV0dXJuIHguc2libGluZygoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIHguc2libGluZyhlLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihlKXtyZXR1cm4geC5ub2RlTmFtZShlLFwiaWZyYW1lXCIpP2UuY29udGVudERvY3VtZW50fHxlLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ6eC5tZXJnZShbXSxlLmNoaWxkTm9kZXMpfX0sZnVuY3Rpb24oZSx0KXt4LmZuW2VdPWZ1bmN0aW9uKG4scil7dmFyIGk9eC5tYXAodGhpcyx0LG4pO3JldHVyblwiVW50aWxcIiE9PWUuc2xpY2UoLTUpJiYocj1uKSxyJiZcInN0cmluZ1wiPT10eXBlb2YgciYmKGk9eC5maWx0ZXIocixpKSksdGhpcy5sZW5ndGg+MSYmKGN0W2VdfHwoaT14LnVuaXF1ZShpKSksbHQudGVzdChlKSYmKGk9aS5yZXZlcnNlKCkpKSx0aGlzLnB1c2hTdGFjayhpKX19KSx4LmV4dGVuZCh7ZmlsdGVyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10WzBdO3JldHVybiBuJiYoZT1cIjpub3QoXCIrZStcIilcIiksMT09PXQubGVuZ3RoJiYxPT09ci5ub2RlVHlwZT94LmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsZSk/W3JdOltdOnguZmluZC5tYXRjaGVzKGUseC5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSxkaXI6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpPVtdLG89ZVtuXTt3aGlsZShvJiY5IT09by5ub2RlVHlwZSYmKHI9PT10fHwxIT09by5ub2RlVHlwZXx8IXgobykuaXMocikpKTE9PT1vLm5vZGVUeXBlJiZpLnB1c2gobyksbz1vW25dO3JldHVybiBpfSxzaWJsaW5nOmZ1bmN0aW9uKGUsdCl7dmFyIG49W107Zm9yKDtlO2U9ZS5uZXh0U2libGluZykxPT09ZS5ub2RlVHlwZSYmZSE9PXQmJm4ucHVzaChlKTtyZXR1cm4gbn19KTtmdW5jdGlvbiBmdChlLHQsbil7aWYoeC5pc0Z1bmN0aW9uKHQpKXJldHVybiB4LmdyZXAoZSxmdW5jdGlvbihlLHIpe3JldHVybiEhdC5jYWxsKGUscixlKSE9PW59KTtpZih0Lm5vZGVUeXBlKXJldHVybiB4LmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PXQhPT1ufSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKHN0LnRlc3QodCkpcmV0dXJuIHguZmlsdGVyKHQsZSxuKTt0PXguZmlsdGVyKHQsZSl9cmV0dXJuIHguZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybiB4LmluQXJyYXkoZSx0KT49MCE9PW59KX1mdW5jdGlvbiBkdChlKXt2YXIgdD1odC5zcGxpdChcInxcIiksbj1lLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihuLmNyZWF0ZUVsZW1lbnQpd2hpbGUodC5sZW5ndGgpbi5jcmVhdGVFbGVtZW50KHQucG9wKCkpO3JldHVybiBufXZhciBodD1cImFiYnJ8YXJ0aWNsZXxhc2lkZXxhdWRpb3xiZGl8Y2FudmFzfGRhdGF8ZGF0YWxpc3R8ZGV0YWlsc3xmaWdjYXB0aW9ufGZpZ3VyZXxmb290ZXJ8aGVhZGVyfGhncm91cHxtYXJrfG1ldGVyfG5hdnxvdXRwdXR8cHJvZ3Jlc3N8c2VjdGlvbnxzdW1tYXJ5fHRpbWV8dmlkZW9cIixndD0vIGpRdWVyeVxcZCs9XCIoPzpudWxsfFxcZCspXCIvZyxtdD1SZWdFeHAoXCI8KD86XCIraHQrXCIpW1xcXFxzLz5dXCIsXCJpXCIpLHl0PS9eXFxzKy8sdnQ9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1xcdzpdKylbXj5dKilcXC8+L2dpLGJ0PS88KFtcXHc6XSspLyx4dD0vPHRib2R5L2ksd3Q9Lzx8JiM/XFx3KzsvLFR0PS88KD86c2NyaXB0fHN0eWxlfGxpbmspL2ksQ3Q9L14oPzpjaGVja2JveHxyYWRpbykkL2ksTnQ9L2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSxrdD0vXiR8XFwvKD86amF2YXxlY21hKXNjcmlwdC9pLEV0PS9edHJ1ZVxcLyguKikvLFN0PS9eXFxzKjwhKD86XFxbQ0RBVEFcXFt8LS0pfCg/OlxcXVxcXXwtLSk+XFxzKiQvZyxBdD17b3B0aW9uOlsxLFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLFwiPC9zZWxlY3Q+XCJdLGxlZ2VuZDpbMSxcIjxmaWVsZHNldD5cIixcIjwvZmllbGRzZXQ+XCJdLGFyZWE6WzEsXCI8bWFwPlwiLFwiPC9tYXA+XCJdLHBhcmFtOlsxLFwiPG9iamVjdD5cIixcIjwvb2JqZWN0PlwiXSx0aGVhZDpbMSxcIjx0YWJsZT5cIixcIjwvdGFibGU+XCJdLHRyOlsyLFwiPHRhYmxlPjx0Ym9keT5cIixcIjwvdGJvZHk+PC90YWJsZT5cIl0sY29sOlsyLFwiPHRhYmxlPjx0Ym9keT48L3Rib2R5Pjxjb2xncm91cD5cIixcIjwvY29sZ3JvdXA+PC90YWJsZT5cIl0sdGQ6WzMsXCI8dGFibGU+PHRib2R5Pjx0cj5cIixcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiXSxfZGVmYXVsdDp4LnN1cHBvcnQuaHRtbFNlcmlhbGl6ZT9bMCxcIlwiLFwiXCJdOlsxLFwiWDxkaXY+XCIsXCI8L2Rpdj5cIl19LGp0PWR0KGEpLER0PWp0LmFwcGVuZENoaWxkKGEuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7QXQub3B0Z3JvdXA9QXQub3B0aW9uLEF0LnRib2R5PUF0LnRmb290PUF0LmNvbGdyb3VwPUF0LmNhcHRpb249QXQudGhlYWQsQXQudGg9QXQudGQseC5mbi5leHRlbmQoe3RleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHguYWNjZXNzKHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10P3gudGV4dCh0aGlzKTp0aGlzLmVtcHR5KCkuYXBwZW5kKCh0aGlzWzBdJiZ0aGlzWzBdLm93bmVyRG9jdW1lbnR8fGEpLmNyZWF0ZVRleHROb2RlKGUpKX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oZSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciB0PUx0KHRoaXMsZSk7dC5hcHBlbmRDaGlsZChlKX19KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9THQodGhpcyxlKTt0Lmluc2VydEJlZm9yZShlLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKX0pfSxyZW1vdmU6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWU/eC5maWx0ZXIoZSx0aGlzKTp0aGlzLGk9MDtmb3IoO251bGwhPShuPXJbaV0pO2krKyl0fHwxIT09bi5ub2RlVHlwZXx8eC5jbGVhbkRhdGEoRnQobikpLG4ucGFyZW50Tm9kZSYmKHQmJnguY29udGFpbnMobi5vd25lckRvY3VtZW50LG4pJiZfdChGdChuLFwic2NyaXB0XCIpKSxuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobikpO3JldHVybiB0aGlzfSxlbXB0eTpmdW5jdGlvbigpe3ZhciBlLHQ9MDtmb3IoO251bGwhPShlPXRoaXNbdF0pO3QrKyl7MT09PWUubm9kZVR5cGUmJnguY2xlYW5EYXRhKEZ0KGUsITEpKTt3aGlsZShlLmZpcnN0Q2hpbGQpZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpO2Uub3B0aW9ucyYmeC5ub2RlTmFtZShlLFwic2VsZWN0XCIpJiYoZS5vcHRpb25zLmxlbmd0aD0wKX1yZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1udWxsPT1lPyExOmUsdD1udWxsPT10P2U6dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiB4LmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiB4LmFjY2Vzcyh0aGlzLGZ1bmN0aW9uKGUpe3ZhciBuPXRoaXNbMF18fHt9LHI9MCxpPXRoaXMubGVuZ3RoO2lmKGU9PT10KXJldHVybiAxPT09bi5ub2RlVHlwZT9uLmlubmVySFRNTC5yZXBsYWNlKGd0LFwiXCIpOnQ7aWYoIShcInN0cmluZ1wiIT10eXBlb2YgZXx8VHQudGVzdChlKXx8IXguc3VwcG9ydC5odG1sU2VyaWFsaXplJiZtdC50ZXN0KGUpfHwheC5zdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlJiZ5dC50ZXN0KGUpfHxBdFsoYnQuZXhlYyhlKXx8W1wiXCIsXCJcIl0pWzFdLnRvTG93ZXJDYXNlKCldKSl7ZT1lLnJlcGxhY2UodnQsXCI8JDE+PC8kMj5cIik7dHJ5e2Zvcig7aT5yO3IrKyluPXRoaXNbcl18fHt9LDE9PT1uLm5vZGVUeXBlJiYoeC5jbGVhbkRhdGEoRnQobiwhMSkpLG4uaW5uZXJIVE1MPWUpO249MH1jYXRjaChvKXt9fW4mJnRoaXMuZW1wdHkoKS5hcHBlbmQoZSl9LG51bGwsZSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgZT14Lm1hcCh0aGlzLGZ1bmN0aW9uKGUpe3JldHVybltlLm5leHRTaWJsaW5nLGUucGFyZW50Tm9kZV19KSx0PTA7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKG4pe3ZhciByPWVbdCsrXSxpPWVbdCsrXTtpJiYociYmci5wYXJlbnROb2RlIT09aSYmKHI9dGhpcy5uZXh0U2libGluZykseCh0aGlzKS5yZW1vdmUoKSxpLmluc2VydEJlZm9yZShuLHIpKX0sITApLHQ/dGhpczp0aGlzLnJlbW92ZSgpfSxkZXRhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVtb3ZlKGUsITApfSxkb21NYW5pcDpmdW5jdGlvbihlLHQsbil7ZT1kLmFwcGx5KFtdLGUpO3ZhciByLGksbyxhLHMsbCx1PTAsYz10aGlzLmxlbmd0aCxwPXRoaXMsZj1jLTEsaD1lWzBdLGc9eC5pc0Z1bmN0aW9uKGgpO2lmKGd8fCEoMT49Y3x8XCJzdHJpbmdcIiE9dHlwZW9mIGh8fHguc3VwcG9ydC5jaGVja0Nsb25lKSYmTnQudGVzdChoKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHIpe3ZhciBpPXAuZXEocik7ZyYmKGVbMF09aC5jYWxsKHRoaXMscixpLmh0bWwoKSkpLGkuZG9tTWFuaXAoZSx0LG4pfSk7aWYoYyYmKGw9eC5idWlsZEZyYWdtZW50KGUsdGhpc1swXS5vd25lckRvY3VtZW50LCExLCFuJiZ0aGlzKSxyPWwuZmlyc3RDaGlsZCwxPT09bC5jaGlsZE5vZGVzLmxlbmd0aCYmKGw9cikscikpe2ZvcihhPXgubWFwKEZ0KGwsXCJzY3JpcHRcIiksSHQpLG89YS5sZW5ndGg7Yz51O3UrKylpPWwsdSE9PWYmJihpPXguY2xvbmUoaSwhMCwhMCksbyYmeC5tZXJnZShhLEZ0KGksXCJzY3JpcHRcIikpKSx0LmNhbGwodGhpc1t1XSxpLHUpO2lmKG8pZm9yKHM9YVthLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LHgubWFwKGEscXQpLHU9MDtvPnU7dSsrKWk9YVt1XSxrdC50ZXN0KGkudHlwZXx8XCJcIikmJiF4Ll9kYXRhKGksXCJnbG9iYWxFdmFsXCIpJiZ4LmNvbnRhaW5zKHMsaSkmJihpLnNyYz94Ll9ldmFsVXJsKGkuc3JjKTp4Lmdsb2JhbEV2YWwoKGkudGV4dHx8aS50ZXh0Q29udGVudHx8aS5pbm5lckhUTUx8fFwiXCIpLnJlcGxhY2UoU3QsXCJcIikpKTtsPXI9bnVsbH1yZXR1cm4gdGhpc319KTtmdW5jdGlvbiBMdChlLHQpe3JldHVybiB4Lm5vZGVOYW1lKGUsXCJ0YWJsZVwiKSYmeC5ub2RlTmFtZSgxPT09dC5ub2RlVHlwZT90OnQuZmlyc3RDaGlsZCxcInRyXCIpP2UuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0Ym9keVwiKVswXXx8ZS5hcHBlbmRDaGlsZChlLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRib2R5XCIpKTplfWZ1bmN0aW9uIEh0KGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT14LmZpbmQuYXR0cihlLFwidHlwZVwiKSkrXCIvXCIrZS50eXBlLGV9ZnVuY3Rpb24gcXQoZSl7dmFyIHQ9RXQuZXhlYyhlLnR5cGUpO3JldHVybiB0P2UudHlwZT10WzFdOmUucmVtb3ZlQXR0cmlidXRlKFwidHlwZVwiKSxlfWZ1bmN0aW9uIF90KGUsdCl7dmFyIG4scj0wO2Zvcig7bnVsbCE9KG49ZVtyXSk7cisrKXguX2RhdGEobixcImdsb2JhbEV2YWxcIiwhdHx8eC5fZGF0YSh0W3JdLFwiZ2xvYmFsRXZhbFwiKSl9ZnVuY3Rpb24gTXQoZSx0KXtpZigxPT09dC5ub2RlVHlwZSYmeC5oYXNEYXRhKGUpKXt2YXIgbixyLGksbz14Ll9kYXRhKGUpLGE9eC5fZGF0YSh0LG8pLHM9by5ldmVudHM7aWYocyl7ZGVsZXRlIGEuaGFuZGxlLGEuZXZlbnRzPXt9O2ZvcihuIGluIHMpZm9yKHI9MCxpPXNbbl0ubGVuZ3RoO2k+cjtyKyspeC5ldmVudC5hZGQodCxuLHNbbl1bcl0pfWEuZGF0YSYmKGEuZGF0YT14LmV4dGVuZCh7fSxhLmRhdGEpKX19ZnVuY3Rpb24gT3QoZSx0KXt2YXIgbixyLGk7aWYoMT09PXQubm9kZVR5cGUpe2lmKG49dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCF4LnN1cHBvcnQubm9DbG9uZUV2ZW50JiZ0W3guZXhwYW5kb10pe2k9eC5fZGF0YSh0KTtmb3IociBpbiBpLmV2ZW50cyl4LnJlbW92ZUV2ZW50KHQscixpLmhhbmRsZSk7dC5yZW1vdmVBdHRyaWJ1dGUoeC5leHBhbmRvKX1cInNjcmlwdFwiPT09biYmdC50ZXh0IT09ZS50ZXh0PyhIdCh0KS50ZXh0PWUudGV4dCxxdCh0KSk6XCJvYmplY3RcIj09PW4/KHQucGFyZW50Tm9kZSYmKHQub3V0ZXJIVE1MPWUub3V0ZXJIVE1MKSx4LnN1cHBvcnQuaHRtbDVDbG9uZSYmZS5pbm5lckhUTUwmJiF4LnRyaW0odC5pbm5lckhUTUwpJiYodC5pbm5lckhUTUw9ZS5pbm5lckhUTUwpKTpcImlucHV0XCI9PT1uJiZDdC50ZXN0KGUudHlwZSk/KHQuZGVmYXVsdENoZWNrZWQ9dC5jaGVja2VkPWUuY2hlY2tlZCx0LnZhbHVlIT09ZS52YWx1ZSYmKHQudmFsdWU9ZS52YWx1ZSkpOlwib3B0aW9uXCI9PT1uP3QuZGVmYXVsdFNlbGVjdGVkPXQuc2VsZWN0ZWQ9ZS5kZWZhdWx0U2VsZWN0ZWQ6KFwiaW5wdXRcIj09PW58fFwidGV4dGFyZWFcIj09PW4pJiYodC5kZWZhdWx0VmFsdWU9ZS5kZWZhdWx0VmFsdWUpfX14LmVhY2goe2FwcGVuZFRvOlwiYXBwZW5kXCIscHJlcGVuZFRvOlwicHJlcGVuZFwiLGluc2VydEJlZm9yZTpcImJlZm9yZVwiLGluc2VydEFmdGVyOlwiYWZ0ZXJcIixyZXBsYWNlQWxsOlwicmVwbGFjZVdpdGhcIn0sZnVuY3Rpb24oZSx0KXt4LmZuW2VdPWZ1bmN0aW9uKGUpe3ZhciBuLHI9MCxpPVtdLG89eChlKSxhPW8ubGVuZ3RoLTE7Zm9yKDthPj1yO3IrKyluPXI9PT1hP3RoaXM6dGhpcy5jbG9uZSghMCkseChvW3JdKVt0XShuKSxoLmFwcGx5KGksbi5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGkpfX0pO2Z1bmN0aW9uIEZ0KGUsbil7dmFyIHIsbyxhPTAscz10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZSE9PWk/ZS5nZXRFbGVtZW50c0J5VGFnTmFtZShufHxcIipcIik6dHlwZW9mIGUucXVlcnlTZWxlY3RvckFsbCE9PWk/ZS5xdWVyeVNlbGVjdG9yQWxsKG58fFwiKlwiKTp0O2lmKCFzKWZvcihzPVtdLHI9ZS5jaGlsZE5vZGVzfHxlO251bGwhPShvPXJbYV0pO2ErKykhbnx8eC5ub2RlTmFtZShvLG4pP3MucHVzaChvKTp4Lm1lcmdlKHMsRnQobyxuKSk7cmV0dXJuIG49PT10fHxuJiZ4Lm5vZGVOYW1lKGUsbik/eC5tZXJnZShbZV0scyk6c31mdW5jdGlvbiBCdChlKXtDdC50ZXN0KGUudHlwZSkmJihlLmRlZmF1bHRDaGVja2VkPWUuY2hlY2tlZCl9eC5leHRlbmQoe2Nsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLGw9eC5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSk7aWYoeC5zdXBwb3J0Lmh0bWw1Q2xvbmV8fHguaXNYTUxEb2MoZSl8fCFtdC50ZXN0KFwiPFwiK2Uubm9kZU5hbWUrXCI+XCIpP289ZS5jbG9uZU5vZGUoITApOihEdC5pbm5lckhUTUw9ZS5vdXRlckhUTUwsRHQucmVtb3ZlQ2hpbGQobz1EdC5maXJzdENoaWxkKSksISh4LnN1cHBvcnQubm9DbG9uZUV2ZW50JiZ4LnN1cHBvcnQubm9DbG9uZUNoZWNrZWR8fDEhPT1lLm5vZGVUeXBlJiYxMSE9PWUubm9kZVR5cGV8fHguaXNYTUxEb2MoZSkpKWZvcihyPUZ0KG8pLHM9RnQoZSksYT0wO251bGwhPShpPXNbYV0pOysrYSlyW2FdJiZPdChpLHJbYV0pO2lmKHQpaWYobilmb3Iocz1zfHxGdChlKSxyPXJ8fEZ0KG8pLGE9MDtudWxsIT0oaT1zW2FdKTthKyspTXQoaSxyW2FdKTtlbHNlIE10KGUsbyk7cmV0dXJuIHI9RnQobyxcInNjcmlwdFwiKSxyLmxlbmd0aD4wJiZfdChyLCFsJiZGdChlLFwic2NyaXB0XCIpKSxyPXM9aT1udWxsLG99LGJ1aWxkRnJhZ21lbnQ6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHMsbCx1LGMscD1lLmxlbmd0aCxmPWR0KHQpLGQ9W10saD0wO2Zvcig7cD5oO2grKylpZihvPWVbaF0sb3x8MD09PW8paWYoXCJvYmplY3RcIj09PXgudHlwZShvKSl4Lm1lcmdlKGQsby5ub2RlVHlwZT9bb106byk7ZWxzZSBpZih3dC50ZXN0KG8pKXtzPXN8fGYuYXBwZW5kQ2hpbGQodC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxsPShidC5leGVjKG8pfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKSxjPUF0W2xdfHxBdC5fZGVmYXVsdCxzLmlubmVySFRNTD1jWzFdK28ucmVwbGFjZSh2dCxcIjwkMT48LyQyPlwiKStjWzJdLGk9Y1swXTt3aGlsZShpLS0pcz1zLmxhc3RDaGlsZDtpZigheC5zdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlJiZ5dC50ZXN0KG8pJiZkLnB1c2godC5jcmVhdGVUZXh0Tm9kZSh5dC5leGVjKG8pWzBdKSksIXguc3VwcG9ydC50Ym9keSl7bz1cInRhYmxlXCIhPT1sfHx4dC50ZXN0KG8pP1wiPHRhYmxlPlwiIT09Y1sxXXx8eHQudGVzdChvKT8wOnM6cy5maXJzdENoaWxkLGk9byYmby5jaGlsZE5vZGVzLmxlbmd0aDt3aGlsZShpLS0peC5ub2RlTmFtZSh1PW8uY2hpbGROb2Rlc1tpXSxcInRib2R5XCIpJiYhdS5jaGlsZE5vZGVzLmxlbmd0aCYmby5yZW1vdmVDaGlsZCh1KX14Lm1lcmdlKGQscy5jaGlsZE5vZGVzKSxzLnRleHRDb250ZW50PVwiXCI7d2hpbGUocy5maXJzdENoaWxkKXMucmVtb3ZlQ2hpbGQocy5maXJzdENoaWxkKTtzPWYubGFzdENoaWxkfWVsc2UgZC5wdXNoKHQuY3JlYXRlVGV4dE5vZGUobykpO3MmJmYucmVtb3ZlQ2hpbGQocykseC5zdXBwb3J0LmFwcGVuZENoZWNrZWR8fHguZ3JlcChGdChkLFwiaW5wdXRcIiksQnQpLGg9MDt3aGlsZShvPWRbaCsrXSlpZigoIXJ8fC0xPT09eC5pbkFycmF5KG8scikpJiYoYT14LmNvbnRhaW5zKG8ub3duZXJEb2N1bWVudCxvKSxzPUZ0KGYuYXBwZW5kQ2hpbGQobyksXCJzY3JpcHRcIiksYSYmX3Qocyksbikpe2k9MDt3aGlsZShvPXNbaSsrXSlrdC50ZXN0KG8udHlwZXx8XCJcIikmJm4ucHVzaChvKX1yZXR1cm4gcz1udWxsLGZ9LGNsZWFuRGF0YTpmdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxhLHM9MCxsPXguZXhwYW5kbyx1PXguY2FjaGUsYz14LnN1cHBvcnQuZGVsZXRlRXhwYW5kbyxmPXguZXZlbnQuc3BlY2lhbDtmb3IoO251bGwhPShuPWVbc10pO3MrKylpZigodHx8eC5hY2NlcHREYXRhKG4pKSYmKG89bltsXSxhPW8mJnVbb10pKXtpZihhLmV2ZW50cylmb3IociBpbiBhLmV2ZW50cylmW3JdP3guZXZlbnQucmVtb3ZlKG4scik6eC5yZW1vdmVFdmVudChuLHIsYS5oYW5kbGUpO1xudVtvXSYmKGRlbGV0ZSB1W29dLGM/ZGVsZXRlIG5bbF06dHlwZW9mIG4ucmVtb3ZlQXR0cmlidXRlIT09aT9uLnJlbW92ZUF0dHJpYnV0ZShsKTpuW2xdPW51bGwscC5wdXNoKG8pKX19LF9ldmFsVXJsOmZ1bmN0aW9uKGUpe3JldHVybiB4LmFqYXgoe3VybDplLHR5cGU6XCJHRVRcIixkYXRhVHlwZTpcInNjcmlwdFwiLGFzeW5jOiExLGdsb2JhbDohMSxcInRocm93c1wiOiEwfSl9fSkseC5mbi5leHRlbmQoe3dyYXBBbGw6ZnVuY3Rpb24oZSl7aWYoeC5pc0Z1bmN0aW9uKGUpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24odCl7eCh0aGlzKS53cmFwQWxsKGUuY2FsbCh0aGlzLHQpKX0pO2lmKHRoaXNbMF0pe3ZhciB0PXgoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKTt0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3aGlsZShlLmZpcnN0Q2hpbGQmJjE9PT1lLmZpcnN0Q2hpbGQubm9kZVR5cGUpZT1lLmZpcnN0Q2hpbGQ7cmV0dXJuIGV9KS5hcHBlbmQodGhpcyl9cmV0dXJuIHRoaXN9LHdyYXBJbm5lcjpmdW5jdGlvbihlKXtyZXR1cm4geC5pc0Z1bmN0aW9uKGUpP3RoaXMuZWFjaChmdW5jdGlvbih0KXt4KHRoaXMpLndyYXBJbm5lcihlLmNhbGwodGhpcyx0KSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD14KHRoaXMpLG49dC5jb250ZW50cygpO24ubGVuZ3RoP24ud3JhcEFsbChlKTp0LmFwcGVuZChlKX0pfSx3cmFwOmZ1bmN0aW9uKGUpe3ZhciB0PXguaXNGdW5jdGlvbihlKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG4pe3godGhpcykud3JhcEFsbCh0P2UuY2FsbCh0aGlzLG4pOmUpfSl9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKXt4Lm5vZGVOYW1lKHRoaXMsXCJib2R5XCIpfHx4KHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX19KTt2YXIgUHQsUnQsV3QsJHQ9L2FscGhhXFwoW14pXSpcXCkvaSxJdD0vb3BhY2l0eVxccyo9XFxzKihbXildKikvLHp0PS9eKHRvcHxyaWdodHxib3R0b218bGVmdCkkLyxYdD0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sVXQ9L15tYXJnaW4vLFZ0PVJlZ0V4cChcIl4oXCIrdytcIikoLiopJFwiLFwiaVwiKSxZdD1SZWdFeHAoXCJeKFwiK3crXCIpKD8hcHgpW2EteiVdKyRcIixcImlcIiksSnQ9UmVnRXhwKFwiXihbKy1dKT0oXCIrdytcIilcIixcImlcIiksR3Q9e0JPRFk6XCJibG9ja1wifSxRdD17cG9zaXRpb246XCJhYnNvbHV0ZVwiLHZpc2liaWxpdHk6XCJoaWRkZW5cIixkaXNwbGF5OlwiYmxvY2tcIn0sS3Q9e2xldHRlclNwYWNpbmc6MCxmb250V2VpZ2h0OjQwMH0sWnQ9W1wiVG9wXCIsXCJSaWdodFwiLFwiQm90dG9tXCIsXCJMZWZ0XCJdLGVuPVtcIldlYmtpdFwiLFwiT1wiLFwiTW96XCIsXCJtc1wiXTtmdW5jdGlvbiB0bihlLHQpe2lmKHQgaW4gZSlyZXR1cm4gdDt2YXIgbj10LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSkscj10LGk9ZW4ubGVuZ3RoO3doaWxlKGktLSlpZih0PWVuW2ldK24sdCBpbiBlKXJldHVybiB0O3JldHVybiByfWZ1bmN0aW9uIG5uKGUsdCl7cmV0dXJuIGU9dHx8ZSxcIm5vbmVcIj09PXguY3NzKGUsXCJkaXNwbGF5XCIpfHwheC5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSl9ZnVuY3Rpb24gcm4oZSx0KXt2YXIgbixyLGksbz1bXSxhPTAscz1lLmxlbmd0aDtmb3IoO3M+YTthKyspcj1lW2FdLHIuc3R5bGUmJihvW2FdPXguX2RhdGEocixcIm9sZGRpc3BsYXlcIiksbj1yLnN0eWxlLmRpc3BsYXksdD8ob1thXXx8XCJub25lXCIhPT1ufHwoci5zdHlsZS5kaXNwbGF5PVwiXCIpLFwiXCI9PT1yLnN0eWxlLmRpc3BsYXkmJm5uKHIpJiYob1thXT14Ll9kYXRhKHIsXCJvbGRkaXNwbGF5XCIsbG4oci5ub2RlTmFtZSkpKSk6b1thXXx8KGk9bm4ociksKG4mJlwibm9uZVwiIT09bnx8IWkpJiZ4Ll9kYXRhKHIsXCJvbGRkaXNwbGF5XCIsaT9uOnguY3NzKHIsXCJkaXNwbGF5XCIpKSkpO2ZvcihhPTA7cz5hO2ErKylyPWVbYV0sci5zdHlsZSYmKHQmJlwibm9uZVwiIT09ci5zdHlsZS5kaXNwbGF5JiZcIlwiIT09ci5zdHlsZS5kaXNwbGF5fHwoci5zdHlsZS5kaXNwbGF5PXQ/b1thXXx8XCJcIjpcIm5vbmVcIikpO3JldHVybiBlfXguZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSxuKXtyZXR1cm4geC5hY2Nlc3ModGhpcyxmdW5jdGlvbihlLG4scil7dmFyIGksbyxhPXt9LHM9MDtpZih4LmlzQXJyYXkobikpe2ZvcihvPVJ0KGUpLGk9bi5sZW5ndGg7aT5zO3MrKylhW25bc11dPXguY3NzKGUsbltzXSwhMSxvKTtyZXR1cm4gYX1yZXR1cm4gciE9PXQ/eC5zdHlsZShlLG4scik6eC5jc3MoZSxuKX0sZSxuLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gcm4odGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gcm4odGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihlKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtubih0aGlzKT94KHRoaXMpLnNob3coKTp4KHRoaXMpLmhpZGUoKX0pfX0pLHguZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKGUsdCl7aWYodCl7dmFyIG49V3QoZSxcIm9wYWNpdHlcIik7cmV0dXJuXCJcIj09PW4/XCIxXCI6bn19fX0sY3NzTnVtYmVyOntjb2x1bW5Db3VudDohMCxmaWxsT3BhY2l0eTohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6e1wiZmxvYXRcIjp4LnN1cHBvcnQuY3NzRmxvYXQ/XCJjc3NGbG9hdFwiOlwic3R5bGVGbG9hdFwifSxzdHlsZTpmdW5jdGlvbihlLG4scixpKXtpZihlJiYzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGUmJmUuc3R5bGUpe3ZhciBvLGEscyxsPXguY2FtZWxDYXNlKG4pLHU9ZS5zdHlsZTtpZihuPXguY3NzUHJvcHNbbF18fCh4LmNzc1Byb3BzW2xdPXRuKHUsbCkpLHM9eC5jc3NIb29rc1tuXXx8eC5jc3NIb29rc1tsXSxyPT09dClyZXR1cm4gcyYmXCJnZXRcImluIHMmJihvPXMuZ2V0KGUsITEsaSkpIT09dD9vOnVbbl07aWYoYT10eXBlb2YgcixcInN0cmluZ1wiPT09YSYmKG89SnQuZXhlYyhyKSkmJihyPShvWzFdKzEpKm9bMl0rcGFyc2VGbG9hdCh4LmNzcyhlLG4pKSxhPVwibnVtYmVyXCIpLCEobnVsbD09cnx8XCJudW1iZXJcIj09PWEmJmlzTmFOKHIpfHwoXCJudW1iZXJcIiE9PWF8fHguY3NzTnVtYmVyW2xdfHwocis9XCJweFwiKSx4LnN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlfHxcIlwiIT09cnx8MCE9PW4uaW5kZXhPZihcImJhY2tncm91bmRcIil8fCh1W25dPVwiaW5oZXJpdFwiKSxzJiZcInNldFwiaW4gcyYmKHI9cy5zZXQoZSxyLGkpKT09PXQpKSl0cnl7dVtuXT1yfWNhdGNoKGMpe319fSxjc3M6ZnVuY3Rpb24oZSxuLHIsaSl7dmFyIG8sYSxzLGw9eC5jYW1lbENhc2Uobik7cmV0dXJuIG49eC5jc3NQcm9wc1tsXXx8KHguY3NzUHJvcHNbbF09dG4oZS5zdHlsZSxsKSkscz14LmNzc0hvb2tzW25dfHx4LmNzc0hvb2tzW2xdLHMmJlwiZ2V0XCJpbiBzJiYoYT1zLmdldChlLCEwLHIpKSxhPT09dCYmKGE9V3QoZSxuLGkpKSxcIm5vcm1hbFwiPT09YSYmbiBpbiBLdCYmKGE9S3Rbbl0pLFwiXCI9PT1yfHxyPyhvPXBhcnNlRmxvYXQoYSkscj09PSEwfHx4LmlzTnVtZXJpYyhvKT9vfHwwOmEpOmF9fSksZS5nZXRDb21wdXRlZFN0eWxlPyhSdD1mdW5jdGlvbih0KXtyZXR1cm4gZS5nZXRDb21wdXRlZFN0eWxlKHQsbnVsbCl9LFd0PWZ1bmN0aW9uKGUsbixyKXt2YXIgaSxvLGEscz1yfHxSdChlKSxsPXM/cy5nZXRQcm9wZXJ0eVZhbHVlKG4pfHxzW25dOnQsdT1lLnN0eWxlO3JldHVybiBzJiYoXCJcIiE9PWx8fHguY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpfHwobD14LnN0eWxlKGUsbikpLFl0LnRlc3QobCkmJlV0LnRlc3QobikmJihpPXUud2lkdGgsbz11Lm1pbldpZHRoLGE9dS5tYXhXaWR0aCx1Lm1pbldpZHRoPXUubWF4V2lkdGg9dS53aWR0aD1sLGw9cy53aWR0aCx1LndpZHRoPWksdS5taW5XaWR0aD1vLHUubWF4V2lkdGg9YSkpLGx9KTphLmRvY3VtZW50RWxlbWVudC5jdXJyZW50U3R5bGUmJihSdD1mdW5jdGlvbihlKXtyZXR1cm4gZS5jdXJyZW50U3R5bGV9LFd0PWZ1bmN0aW9uKGUsbixyKXt2YXIgaSxvLGEscz1yfHxSdChlKSxsPXM/c1tuXTp0LHU9ZS5zdHlsZTtyZXR1cm4gbnVsbD09bCYmdSYmdVtuXSYmKGw9dVtuXSksWXQudGVzdChsKSYmIXp0LnRlc3QobikmJihpPXUubGVmdCxvPWUucnVudGltZVN0eWxlLGE9byYmby5sZWZ0LGEmJihvLmxlZnQ9ZS5jdXJyZW50U3R5bGUubGVmdCksdS5sZWZ0PVwiZm9udFNpemVcIj09PW4/XCIxZW1cIjpsLGw9dS5waXhlbExlZnQrXCJweFwiLHUubGVmdD1pLGEmJihvLmxlZnQ9YSkpLFwiXCI9PT1sP1wiYXV0b1wiOmx9KTtmdW5jdGlvbiBvbihlLHQsbil7dmFyIHI9VnQuZXhlYyh0KTtyZXR1cm4gcj9NYXRoLm1heCgwLHJbMV0tKG58fDApKSsoclsyXXx8XCJweFwiKTp0fWZ1bmN0aW9uIGFuKGUsdCxuLHIsaSl7dmFyIG89bj09PShyP1wiYm9yZGVyXCI6XCJjb250ZW50XCIpPzQ6XCJ3aWR0aFwiPT09dD8xOjAsYT0wO2Zvcig7ND5vO28rPTIpXCJtYXJnaW5cIj09PW4mJihhKz14LmNzcyhlLG4rWnRbb10sITAsaSkpLHI/KFwiY29udGVudFwiPT09biYmKGEtPXguY3NzKGUsXCJwYWRkaW5nXCIrWnRbb10sITAsaSkpLFwibWFyZ2luXCIhPT1uJiYoYS09eC5jc3MoZSxcImJvcmRlclwiK1p0W29dK1wiV2lkdGhcIiwhMCxpKSkpOihhKz14LmNzcyhlLFwicGFkZGluZ1wiK1p0W29dLCEwLGkpLFwicGFkZGluZ1wiIT09biYmKGErPXguY3NzKGUsXCJib3JkZXJcIitadFtvXStcIldpZHRoXCIsITAsaSkpKTtyZXR1cm4gYX1mdW5jdGlvbiBzbihlLHQsbil7dmFyIHI9ITAsaT1cIndpZHRoXCI9PT10P2Uub2Zmc2V0V2lkdGg6ZS5vZmZzZXRIZWlnaHQsbz1SdChlKSxhPXguc3VwcG9ydC5ib3hTaXppbmcmJlwiYm9yZGVyLWJveFwiPT09eC5jc3MoZSxcImJveFNpemluZ1wiLCExLG8pO2lmKDA+PWl8fG51bGw9PWkpe2lmKGk9V3QoZSx0LG8pLCgwPml8fG51bGw9PWkpJiYoaT1lLnN0eWxlW3RdKSxZdC50ZXN0KGkpKXJldHVybiBpO3I9YSYmKHguc3VwcG9ydC5ib3hTaXppbmdSZWxpYWJsZXx8aT09PWUuc3R5bGVbdF0pLGk9cGFyc2VGbG9hdChpKXx8MH1yZXR1cm4gaSthbihlLHQsbnx8KGE/XCJib3JkZXJcIjpcImNvbnRlbnRcIikscixvKStcInB4XCJ9ZnVuY3Rpb24gbG4oZSl7dmFyIHQ9YSxuPUd0W2VdO3JldHVybiBufHwobj11bihlLHQpLFwibm9uZVwiIT09biYmbnx8KFB0PShQdHx8eChcIjxpZnJhbWUgZnJhbWVib3JkZXI9JzAnIHdpZHRoPScwJyBoZWlnaHQ9JzAnLz5cIikuY3NzKFwiY3NzVGV4dFwiLFwiZGlzcGxheTpibG9jayAhaW1wb3J0YW50XCIpKS5hcHBlbmRUbyh0LmRvY3VtZW50RWxlbWVudCksdD0oUHRbMF0uY29udGVudFdpbmRvd3x8UHRbMF0uY29udGVudERvY3VtZW50KS5kb2N1bWVudCx0LndyaXRlKFwiPCFkb2N0eXBlIGh0bWw+PGh0bWw+PGJvZHk+XCIpLHQuY2xvc2UoKSxuPXVuKGUsdCksUHQuZGV0YWNoKCkpLEd0W2VdPW4pLG59ZnVuY3Rpb24gdW4oZSx0KXt2YXIgbj14KHQuY3JlYXRlRWxlbWVudChlKSkuYXBwZW5kVG8odC5ib2R5KSxyPXguY3NzKG5bMF0sXCJkaXNwbGF5XCIpO3JldHVybiBuLnJlbW92ZSgpLHJ9eC5lYWNoKFtcImhlaWdodFwiLFwid2lkdGhcIl0sZnVuY3Rpb24oZSxuKXt4LmNzc0hvb2tzW25dPXtnZXQ6ZnVuY3Rpb24oZSxyLGkpe3JldHVybiByPzA9PT1lLm9mZnNldFdpZHRoJiZYdC50ZXN0KHguY3NzKGUsXCJkaXNwbGF5XCIpKT94LnN3YXAoZSxRdCxmdW5jdGlvbigpe3JldHVybiBzbihlLG4saSl9KTpzbihlLG4saSk6dH0sc2V0OmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1yJiZSdChlKTtyZXR1cm4gb24oZSx0LHI/YW4oZSxuLHIseC5zdXBwb3J0LmJveFNpemluZyYmXCJib3JkZXItYm94XCI9PT14LmNzcyhlLFwiYm94U2l6aW5nXCIsITEsaSksaSk6MCl9fX0pLHguc3VwcG9ydC5vcGFjaXR5fHwoeC5jc3NIb29rcy5vcGFjaXR5PXtnZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSXQudGVzdCgodCYmZS5jdXJyZW50U3R5bGU/ZS5jdXJyZW50U3R5bGUuZmlsdGVyOmUuc3R5bGUuZmlsdGVyKXx8XCJcIik/LjAxKnBhcnNlRmxvYXQoUmVnRXhwLiQxKStcIlwiOnQ/XCIxXCI6XCJcIn0sc2V0OmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5zdHlsZSxyPWUuY3VycmVudFN0eWxlLGk9eC5pc051bWVyaWModCk/XCJhbHBoYShvcGFjaXR5PVwiKzEwMCp0K1wiKVwiOlwiXCIsbz1yJiZyLmZpbHRlcnx8bi5maWx0ZXJ8fFwiXCI7bi56b29tPTEsKHQ+PTF8fFwiXCI9PT10KSYmXCJcIj09PXgudHJpbShvLnJlcGxhY2UoJHQsXCJcIikpJiZuLnJlbW92ZUF0dHJpYnV0ZSYmKG4ucmVtb3ZlQXR0cmlidXRlKFwiZmlsdGVyXCIpLFwiXCI9PT10fHxyJiYhci5maWx0ZXIpfHwobi5maWx0ZXI9JHQudGVzdChvKT9vLnJlcGxhY2UoJHQsaSk6bytcIiBcIitpKX19KSx4KGZ1bmN0aW9uKCl7eC5zdXBwb3J0LnJlbGlhYmxlTWFyZ2luUmlnaHR8fCh4LmNzc0hvb2tzLm1hcmdpblJpZ2h0PXtnZXQ6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gbj94LnN3YXAoZSx7ZGlzcGxheTpcImlubGluZS1ibG9ja1wifSxXdCxbZSxcIm1hcmdpblJpZ2h0XCJdKTp0fX0pLCF4LnN1cHBvcnQucGl4ZWxQb3NpdGlvbiYmeC5mbi5wb3NpdGlvbiYmeC5lYWNoKFtcInRvcFwiLFwibGVmdFwiXSxmdW5jdGlvbihlLG4pe3guY3NzSG9va3Nbbl09e2dldDpmdW5jdGlvbihlLHIpe3JldHVybiByPyhyPVd0KGUsbiksWXQudGVzdChyKT94KGUpLnBvc2l0aW9uKClbbl0rXCJweFwiOnIpOnR9fX0pfSkseC5leHByJiZ4LmV4cHIuZmlsdGVycyYmKHguZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4gMD49ZS5vZmZzZXRXaWR0aCYmMD49ZS5vZmZzZXRIZWlnaHR8fCF4LnN1cHBvcnQucmVsaWFibGVIaWRkZW5PZmZzZXRzJiZcIm5vbmVcIj09PShlLnN0eWxlJiZlLnN0eWxlLmRpc3BsYXl8fHguY3NzKGUsXCJkaXNwbGF5XCIpKX0seC5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4heC5leHByLmZpbHRlcnMuaGlkZGVuKGUpfSkseC5lYWNoKHttYXJnaW46XCJcIixwYWRkaW5nOlwiXCIsYm9yZGVyOlwiV2lkdGhcIn0sZnVuY3Rpb24oZSx0KXt4LmNzc0hvb2tzW2UrdF09e2V4cGFuZDpmdW5jdGlvbihuKXt2YXIgcj0wLGk9e30sbz1cInN0cmluZ1wiPT10eXBlb2Ygbj9uLnNwbGl0KFwiIFwiKTpbbl07Zm9yKDs0PnI7cisrKWlbZStadFtyXSt0XT1vW3JdfHxvW3ItMl18fG9bMF07cmV0dXJuIGl9fSxVdC50ZXN0KGUpfHwoeC5jc3NIb29rc1tlK3RdLnNldD1vbil9KTt2YXIgY249LyUyMC9nLHBuPS9cXFtcXF0kLyxmbj0vXFxyP1xcbi9nLGRuPS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxobj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7eC5mbi5leHRlbmQoe3NlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiB4LnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9eC5wcm9wKHRoaXMsXCJlbGVtZW50c1wiKTtyZXR1cm4gZT94Lm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiF4KHRoaXMpLmlzKFwiOmRpc2FibGVkXCIpJiZobi50ZXN0KHRoaXMubm9kZU5hbWUpJiYhZG4udGVzdChlKSYmKHRoaXMuY2hlY2tlZHx8IUN0LnRlc3QoZSkpfSkubWFwKGZ1bmN0aW9uKGUsdCl7dmFyIG49eCh0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09bj9udWxsOnguaXNBcnJheShuKT94Lm1hcChuLGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOnQubmFtZSx2YWx1ZTplLnJlcGxhY2UoZm4sXCJcXHJcXG5cIil9fSk6e25hbWU6dC5uYW1lLHZhbHVlOm4ucmVwbGFjZShmbixcIlxcclxcblwiKX19KS5nZXQoKX19KSx4LnBhcmFtPWZ1bmN0aW9uKGUsbil7dmFyIHIsaT1bXSxvPWZ1bmN0aW9uKGUsdCl7dD14LmlzRnVuY3Rpb24odCk/dCgpOm51bGw9PXQ/XCJcIjp0LGlbaS5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChlKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQodCl9O2lmKG49PT10JiYobj14LmFqYXhTZXR0aW5ncyYmeC5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpLHguaXNBcnJheShlKXx8ZS5qcXVlcnkmJiF4LmlzUGxhaW5PYmplY3QoZSkpeC5lYWNoKGUsZnVuY3Rpb24oKXtvKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKHIgaW4gZSlnbihyLGVbcl0sbixvKTtyZXR1cm4gaS5qb2luKFwiJlwiKS5yZXBsYWNlKGNuLFwiK1wiKX07ZnVuY3Rpb24gZ24oZSx0LG4scil7dmFyIGk7aWYoeC5pc0FycmF5KHQpKXguZWFjaCh0LGZ1bmN0aW9uKHQsaSl7bnx8cG4udGVzdChlKT9yKGUsaSk6Z24oZStcIltcIisoXCJvYmplY3RcIj09dHlwZW9mIGk/dDpcIlwiKStcIl1cIixpLG4scil9KTtlbHNlIGlmKG58fFwib2JqZWN0XCIhPT14LnR5cGUodCkpcihlLHQpO2Vsc2UgZm9yKGkgaW4gdClnbihlK1wiW1wiK2krXCJdXCIsdFtpXSxuLHIpfXguZWFjaChcImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnVcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oZSx0KXt4LmZuW3RdPWZ1bmN0aW9uKGUsbil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKHQsbnVsbCxlLG4pOnRoaXMudHJpZ2dlcih0KX19KSx4LmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGUpLm1vdXNlbGVhdmUodHx8ZSl9LGJpbmQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLm9uKGUsbnVsbCx0LG4pfSx1bmJpbmQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vZmYoZSxudWxsLHQpfSxkZWxlZ2F0ZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5vbih0LGUsbixyKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGUsXCIqKlwiKTp0aGlzLm9mZih0LGV8fFwiKipcIixuKX19KTt2YXIgbW4seW4sdm49eC5ub3coKSxibj0vXFw/Lyx4bj0vIy4qJC8sd249LyhbPyZdKV89W14mXSovLFRuPS9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKVxccj8kL2dtLENuPS9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLE5uPS9eKD86R0VUfEhFQUQpJC8sa249L15cXC9cXC8vLEVuPS9eKFtcXHcuKy1dKzopKD86XFwvXFwvKFteXFwvPyM6XSopKD86OihcXGQrKXwpfCkvLFNuPXguZm4ubG9hZCxBbj17fSxqbj17fSxEbj1cIiovXCIuY29uY2F0KFwiKlwiKTt0cnl7eW49by5ocmVmfWNhdGNoKExuKXt5bj1hLmNyZWF0ZUVsZW1lbnQoXCJhXCIpLHluLmhyZWY9XCJcIix5bj15bi5ocmVmfW1uPUVuLmV4ZWMoeW4udG9Mb3dlckNhc2UoKSl8fFtdO2Z1bmN0aW9uIEhuKGUpe3JldHVybiBmdW5jdGlvbih0LG4pe1wic3RyaW5nXCIhPXR5cGVvZiB0JiYobj10LHQ9XCIqXCIpO3ZhciByLGk9MCxvPXQudG9Mb3dlckNhc2UoKS5tYXRjaChUKXx8W107aWYoeC5pc0Z1bmN0aW9uKG4pKXdoaWxlKHI9b1tpKytdKVwiK1wiPT09clswXT8ocj1yLnNsaWNlKDEpfHxcIipcIiwoZVtyXT1lW3JdfHxbXSkudW5zaGlmdChuKSk6KGVbcl09ZVtyXXx8W10pLnB1c2gobil9fWZ1bmN0aW9uIHFuKGUsbixyLGkpe3ZhciBvPXt9LGE9ZT09PWpuO2Z1bmN0aW9uIHMobCl7dmFyIHU7cmV0dXJuIG9bbF09ITAseC5lYWNoKGVbbF18fFtdLGZ1bmN0aW9uKGUsbCl7dmFyIGM9bChuLHIsaSk7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGN8fGF8fG9bY10/YT8hKHU9Yyk6dDoobi5kYXRhVHlwZXMudW5zaGlmdChjKSxzKGMpLCExKX0pLHV9cmV0dXJuIHMobi5kYXRhVHlwZXNbMF0pfHwhb1tcIipcIl0mJnMoXCIqXCIpfWZ1bmN0aW9uIF9uKGUsbil7dmFyIHIsaSxvPXguYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IoaSBpbiBuKW5baV0hPT10JiYoKG9baV0/ZTpyfHwocj17fSkpW2ldPW5baV0pO3JldHVybiByJiZ4LmV4dGVuZCghMCxlLHIpLGV9eC5mbi5sb2FkPWZ1bmN0aW9uKGUsbixyKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSYmU24pcmV0dXJuIFNuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgaSxvLGEscz10aGlzLGw9ZS5pbmRleE9mKFwiIFwiKTtyZXR1cm4gbD49MCYmKGk9ZS5zbGljZShsLGUubGVuZ3RoKSxlPWUuc2xpY2UoMCxsKSkseC5pc0Z1bmN0aW9uKG4pPyhyPW4sbj10KTpuJiZcIm9iamVjdFwiPT10eXBlb2YgbiYmKGE9XCJQT1NUXCIpLHMubGVuZ3RoPjAmJnguYWpheCh7dXJsOmUsdHlwZTphLGRhdGFUeXBlOlwiaHRtbFwiLGRhdGE6bn0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMscy5odG1sKGk/eChcIjxkaXY+XCIpLmFwcGVuZCh4LnBhcnNlSFRNTChlKSkuZmluZChpKTplKX0pLmNvbXBsZXRlKHImJmZ1bmN0aW9uKGUsdCl7cy5lYWNoKHIsb3x8W2UucmVzcG9uc2VUZXh0LHQsZV0pfSksdGhpc30seC5lYWNoKFtcImFqYXhTdGFydFwiLFwiYWpheFN0b3BcIixcImFqYXhDb21wbGV0ZVwiLFwiYWpheEVycm9yXCIsXCJhamF4U3VjY2Vzc1wiLFwiYWpheFNlbmRcIl0sZnVuY3Rpb24oZSx0KXt4LmZuW3RdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9uKHQsZSl9fSkseC5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOnluLHR5cGU6XCJHRVRcIixpc0xvY2FsOkNuLnRlc3QobW5bMV0pLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiLGFjY2VwdHM6e1wiKlwiOkRuLHRleHQ6XCJ0ZXh0L3BsYWluXCIsaHRtbDpcInRleHQvaHRtbFwiLHhtbDpcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixqc29uOlwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0XCJ9LGNvbnRlbnRzOnt4bWw6L3htbC8saHRtbDovaHRtbC8sanNvbjovanNvbi99LHJlc3BvbnNlRmllbGRzOnt4bWw6XCJyZXNwb25zZVhNTFwiLHRleHQ6XCJyZXNwb25zZVRleHRcIixqc29uOlwicmVzcG9uc2VKU09OXCJ9LGNvbnZlcnRlcnM6e1wiKiB0ZXh0XCI6U3RyaW5nLFwidGV4dCBodG1sXCI6ITAsXCJ0ZXh0IGpzb25cIjp4LnBhcnNlSlNPTixcInRleHQgeG1sXCI6eC5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/X24oX24oZSx4LmFqYXhTZXR0aW5ncyksdCk6X24oeC5hamF4U2V0dGluZ3MsZSl9LGFqYXhQcmVmaWx0ZXI6SG4oQW4pLGFqYXhUcmFuc3BvcnQ6SG4oam4pLGFqYXg6ZnVuY3Rpb24oZSxuKXtcIm9iamVjdFwiPT10eXBlb2YgZSYmKG49ZSxlPXQpLG49bnx8e307dmFyIHIsaSxvLGEscyxsLHUsYyxwPXguYWpheFNldHVwKHt9LG4pLGY9cC5jb250ZXh0fHxwLGQ9cC5jb250ZXh0JiYoZi5ub2RlVHlwZXx8Zi5qcXVlcnkpP3goZik6eC5ldmVudCxoPXguRGVmZXJyZWQoKSxnPXguQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksbT1wLnN0YXR1c0NvZGV8fHt9LHk9e30sdj17fSxiPTAsdz1cImNhbmNlbGVkXCIsQz17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKDI9PT1iKXtpZighYyl7Yz17fTt3aGlsZSh0PVRuLmV4ZWMoYSkpY1t0WzFdLnRvTG93ZXJDYXNlKCldPXRbMl19dD1jW2UudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PXQ/bnVsbDp0fSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gMj09PWI/YTpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS50b0xvd2VyQ2FzZSgpO3JldHVybiBifHwoZT12W25dPXZbbl18fGUseVtlXT10KSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGUpe3JldHVybiBifHwocC5taW1lVHlwZT1lKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKGUpaWYoMj5iKWZvcih0IGluIGUpbVt0XT1bbVt0XSxlW3RdXTtlbHNlIEMuYWx3YXlzKGVbQy5zdGF0dXNdKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dztyZXR1cm4gdSYmdS5hYm9ydCh0KSxrKDAsdCksdGhpc319O2lmKGgucHJvbWlzZShDKS5jb21wbGV0ZT1nLmFkZCxDLnN1Y2Nlc3M9Qy5kb25lLEMuZXJyb3I9Qy5mYWlsLHAudXJsPSgoZXx8cC51cmx8fHluKStcIlwiKS5yZXBsYWNlKHhuLFwiXCIpLnJlcGxhY2Uoa24sbW5bMV0rXCIvL1wiKSxwLnR5cGU9bi5tZXRob2R8fG4udHlwZXx8cC5tZXRob2R8fHAudHlwZSxwLmRhdGFUeXBlcz14LnRyaW0ocC5kYXRhVHlwZXx8XCIqXCIpLnRvTG93ZXJDYXNlKCkubWF0Y2goVCl8fFtcIlwiXSxudWxsPT1wLmNyb3NzRG9tYWluJiYocj1Fbi5leGVjKHAudXJsLnRvTG93ZXJDYXNlKCkpLHAuY3Jvc3NEb21haW49ISghcnx8clsxXT09PW1uWzFdJiZyWzJdPT09bW5bMl0mJihyWzNdfHwoXCJodHRwOlwiPT09clsxXT9cIjgwXCI6XCI0NDNcIikpPT09KG1uWzNdfHwoXCJodHRwOlwiPT09bW5bMV0/XCI4MFwiOlwiNDQzXCIpKSkpLHAuZGF0YSYmcC5wcm9jZXNzRGF0YSYmXCJzdHJpbmdcIiE9dHlwZW9mIHAuZGF0YSYmKHAuZGF0YT14LnBhcmFtKHAuZGF0YSxwLnRyYWRpdGlvbmFsKSkscW4oQW4scCxuLEMpLDI9PT1iKXJldHVybiBDO2w9cC5nbG9iYWwsbCYmMD09PXguYWN0aXZlKysmJnguZXZlbnQudHJpZ2dlcihcImFqYXhTdGFydFwiKSxwLnR5cGU9cC50eXBlLnRvVXBwZXJDYXNlKCkscC5oYXNDb250ZW50PSFObi50ZXN0KHAudHlwZSksbz1wLnVybCxwLmhhc0NvbnRlbnR8fChwLmRhdGEmJihvPXAudXJsKz0oYm4udGVzdChvKT9cIiZcIjpcIj9cIikrcC5kYXRhLGRlbGV0ZSBwLmRhdGEpLHAuY2FjaGU9PT0hMSYmKHAudXJsPXduLnRlc3Qobyk/by5yZXBsYWNlKHduLFwiJDFfPVwiK3ZuKyspOm8rKGJuLnRlc3Qobyk/XCImXCI6XCI/XCIpK1wiXz1cIit2bisrKSkscC5pZk1vZGlmaWVkJiYoeC5sYXN0TW9kaWZpZWRbb10mJkMuc2V0UmVxdWVzdEhlYWRlcihcIklmLU1vZGlmaWVkLVNpbmNlXCIseC5sYXN0TW9kaWZpZWRbb10pLHguZXRhZ1tvXSYmQy5zZXRSZXF1ZXN0SGVhZGVyKFwiSWYtTm9uZS1NYXRjaFwiLHguZXRhZ1tvXSkpLChwLmRhdGEmJnAuaGFzQ29udGVudCYmcC5jb250ZW50VHlwZSE9PSExfHxuLmNvbnRlbnRUeXBlKSYmQy5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIscC5jb250ZW50VHlwZSksQy5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIscC5kYXRhVHlwZXNbMF0mJnAuYWNjZXB0c1twLmRhdGFUeXBlc1swXV0/cC5hY2NlcHRzW3AuZGF0YVR5cGVzWzBdXSsoXCIqXCIhPT1wLmRhdGFUeXBlc1swXT9cIiwgXCIrRG4rXCI7IHE9MC4wMVwiOlwiXCIpOnAuYWNjZXB0c1tcIipcIl0pO2ZvcihpIGluIHAuaGVhZGVycylDLnNldFJlcXVlc3RIZWFkZXIoaSxwLmhlYWRlcnNbaV0pO2lmKHAuYmVmb3JlU2VuZCYmKHAuYmVmb3JlU2VuZC5jYWxsKGYsQyxwKT09PSExfHwyPT09YikpcmV0dXJuIEMuYWJvcnQoKTt3PVwiYWJvcnRcIjtmb3IoaSBpbntzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0ZToxfSlDW2ldKHBbaV0pO2lmKHU9cW4oam4scCxuLEMpKXtDLnJlYWR5U3RhdGU9MSxsJiZkLnRyaWdnZXIoXCJhamF4U2VuZFwiLFtDLHBdKSxwLmFzeW5jJiZwLnRpbWVvdXQ+MCYmKHM9c2V0VGltZW91dChmdW5jdGlvbigpe0MuYWJvcnQoXCJ0aW1lb3V0XCIpfSxwLnRpbWVvdXQpKTt0cnl7Yj0xLHUuc2VuZCh5LGspfWNhdGNoKE4pe2lmKCEoMj5iKSl0aHJvdyBOO2soLTEsTil9fWVsc2UgaygtMSxcIk5vIFRyYW5zcG9ydFwiKTtmdW5jdGlvbiBrKGUsbixyLGkpe3ZhciBjLHksdix3LFQsTj1uOzIhPT1iJiYoYj0yLHMmJmNsZWFyVGltZW91dChzKSx1PXQsYT1pfHxcIlwiLEMucmVhZHlTdGF0ZT1lPjA/NDowLGM9ZT49MjAwJiYzMDA+ZXx8MzA0PT09ZSxyJiYodz1NbihwLEMscikpLHc9T24ocCx3LEMsYyksYz8ocC5pZk1vZGlmaWVkJiYoVD1DLmdldFJlc3BvbnNlSGVhZGVyKFwiTGFzdC1Nb2RpZmllZFwiKSxUJiYoeC5sYXN0TW9kaWZpZWRbb109VCksVD1DLmdldFJlc3BvbnNlSGVhZGVyKFwiZXRhZ1wiKSxUJiYoeC5ldGFnW29dPVQpKSwyMDQ9PT1lfHxcIkhFQURcIj09PXAudHlwZT9OPVwibm9jb250ZW50XCI6MzA0PT09ZT9OPVwibm90bW9kaWZpZWRcIjooTj13LnN0YXRlLHk9dy5kYXRhLHY9dy5lcnJvcixjPSF2KSk6KHY9TiwoZXx8IU4pJiYoTj1cImVycm9yXCIsMD5lJiYoZT0wKSkpLEMuc3RhdHVzPWUsQy5zdGF0dXNUZXh0PShufHxOKStcIlwiLGM/aC5yZXNvbHZlV2l0aChmLFt5LE4sQ10pOmgucmVqZWN0V2l0aChmLFtDLE4sdl0pLEMuc3RhdHVzQ29kZShtKSxtPXQsbCYmZC50cmlnZ2VyKGM/XCJhamF4U3VjY2Vzc1wiOlwiYWpheEVycm9yXCIsW0MscCxjP3k6dl0pLGcuZmlyZVdpdGgoZixbQyxOXSksbCYmKGQudHJpZ2dlcihcImFqYXhDb21wbGV0ZVwiLFtDLHBdKSwtLXguYWN0aXZlfHx4LmV2ZW50LnRyaWdnZXIoXCJhamF4U3RvcFwiKSkpfXJldHVybiBDfSxnZXRKU09OOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4geC5nZXQoZSx0LG4sXCJqc29uXCIpfSxnZXRTY3JpcHQ6ZnVuY3Rpb24oZSxuKXtyZXR1cm4geC5nZXQoZSx0LG4sXCJzY3JpcHRcIil9fSkseC5lYWNoKFtcImdldFwiLFwicG9zdFwiXSxmdW5jdGlvbihlLG4pe3hbbl09ZnVuY3Rpb24oZSxyLGksbyl7cmV0dXJuIHguaXNGdW5jdGlvbihyKSYmKG89b3x8aSxpPXIscj10KSx4LmFqYXgoe3VybDplLHR5cGU6bixkYXRhVHlwZTpvLGRhdGE6cixzdWNjZXNzOml9KX19KTtmdW5jdGlvbiBNbihlLG4scil7dmFyIGksbyxhLHMsbD1lLmNvbnRlbnRzLHU9ZS5kYXRhVHlwZXM7d2hpbGUoXCIqXCI9PT11WzBdKXUuc2hpZnQoKSxvPT09dCYmKG89ZS5taW1lVHlwZXx8bi5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSk7aWYobylmb3IocyBpbiBsKWlmKGxbc10mJmxbc10udGVzdChvKSl7dS51bnNoaWZ0KHMpO2JyZWFrfWlmKHVbMF1pbiByKWE9dVswXTtlbHNle2ZvcihzIGluIHIpe2lmKCF1WzBdfHxlLmNvbnZlcnRlcnNbcytcIiBcIit1WzBdXSl7YT1zO2JyZWFrfWl8fChpPXMpfWE9YXx8aX1yZXR1cm4gYT8oYSE9PXVbMF0mJnUudW5zaGlmdChhKSxyW2FdKTp0fWZ1bmN0aW9uIE9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzLGwsdT17fSxjPWUuZGF0YVR5cGVzLnNsaWNlKCk7aWYoY1sxXSlmb3IoYSBpbiBlLmNvbnZlcnRlcnMpdVthLnRvTG93ZXJDYXNlKCldPWUuY29udmVydGVyc1thXTtvPWMuc2hpZnQoKTt3aGlsZShvKWlmKGUucmVzcG9uc2VGaWVsZHNbb10mJihuW2UucmVzcG9uc2VGaWVsZHNbb11dPXQpLCFsJiZyJiZlLmRhdGFGaWx0ZXImJih0PWUuZGF0YUZpbHRlcih0LGUuZGF0YVR5cGUpKSxsPW8sbz1jLnNoaWZ0KCkpaWYoXCIqXCI9PT1vKW89bDtlbHNlIGlmKFwiKlwiIT09bCYmbCE9PW8pe2lmKGE9dVtsK1wiIFwiK29dfHx1W1wiKiBcIitvXSwhYSlmb3IoaSBpbiB1KWlmKHM9aS5zcGxpdChcIiBcIiksc1sxXT09PW8mJihhPXVbbCtcIiBcIitzWzBdXXx8dVtcIiogXCIrc1swXV0pKXthPT09ITA/YT11W2ldOnVbaV0hPT0hMCYmKG89c1swXSxjLnVuc2hpZnQoc1sxXSkpO2JyZWFrfWlmKGEhPT0hMClpZihhJiZlW1widGhyb3dzXCJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2gocCl7cmV0dXJue3N0YXRlOlwicGFyc2VyZXJyb3JcIixlcnJvcjphP3A6XCJObyBjb252ZXJzaW9uIGZyb20gXCIrbCtcIiB0byBcIitvfX19cmV0dXJue3N0YXRlOlwic3VjY2Vzc1wiLGRhdGE6dH19eC5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDpcInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0XCJ9LGNvbnRlbnRzOntzY3JpcHQ6Lyg/OmphdmF8ZWNtYSlzY3JpcHQvfSxjb252ZXJ0ZXJzOntcInRleHQgc2NyaXB0XCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHguZ2xvYmFsRXZhbChlKSxlfX19KSx4LmFqYXhQcmVmaWx0ZXIoXCJzY3JpcHRcIixmdW5jdGlvbihlKXtlLmNhY2hlPT09dCYmKGUuY2FjaGU9ITEpLGUuY3Jvc3NEb21haW4mJihlLnR5cGU9XCJHRVRcIixlLmdsb2JhbD0hMSl9KSx4LmFqYXhUcmFuc3BvcnQoXCJzY3JpcHRcIixmdW5jdGlvbihlKXtpZihlLmNyb3NzRG9tYWluKXt2YXIgbixyPWEuaGVhZHx8eChcImhlYWRcIilbMF18fGEuZG9jdW1lbnRFbGVtZW50O3JldHVybntzZW5kOmZ1bmN0aW9uKHQsaSl7bj1hLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksbi5hc3luYz0hMCxlLnNjcmlwdENoYXJzZXQmJihuLmNoYXJzZXQ9ZS5zY3JpcHRDaGFyc2V0KSxuLnNyYz1lLnVybCxuLm9ubG9hZD1uLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbihlLHQpeyh0fHwhbi5yZWFkeVN0YXRlfHwvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KG4ucmVhZHlTdGF0ZSkpJiYobi5vbmxvYWQ9bi5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxuLnBhcmVudE5vZGUmJm4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSxuPW51bGwsdHx8aSgyMDAsXCJzdWNjZXNzXCIpKX0sci5pbnNlcnRCZWZvcmUobixyLmZpcnN0Q2hpbGQpfSxhYm9ydDpmdW5jdGlvbigpe24mJm4ub25sb2FkKHQsITApfX19fSk7dmFyIEZuPVtdLEJuPS8oPSlcXD8oPz0mfCQpfFxcP1xcPy87eC5hamF4U2V0dXAoe2pzb25wOlwiY2FsbGJhY2tcIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9Rm4ucG9wKCl8fHguZXhwYW5kbytcIl9cIit2bisrO3JldHVybiB0aGlzW2VdPSEwLGV9fSkseC5hamF4UHJlZmlsdGVyKFwianNvbiBqc29ucFwiLGZ1bmN0aW9uKG4scixpKXt2YXIgbyxhLHMsbD1uLmpzb25wIT09ITEmJihCbi50ZXN0KG4udXJsKT9cInVybFwiOlwic3RyaW5nXCI9PXR5cGVvZiBuLmRhdGEmJiEobi5jb250ZW50VHlwZXx8XCJcIikuaW5kZXhPZihcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSYmQm4udGVzdChuLmRhdGEpJiZcImRhdGFcIik7cmV0dXJuIGx8fFwianNvbnBcIj09PW4uZGF0YVR5cGVzWzBdPyhvPW4uanNvbnBDYWxsYmFjaz14LmlzRnVuY3Rpb24obi5qc29ucENhbGxiYWNrKT9uLmpzb25wQ2FsbGJhY2soKTpuLmpzb25wQ2FsbGJhY2ssbD9uW2xdPW5bbF0ucmVwbGFjZShCbixcIiQxXCIrbyk6bi5qc29ucCE9PSExJiYobi51cmwrPShibi50ZXN0KG4udXJsKT9cIiZcIjpcIj9cIikrbi5qc29ucCtcIj1cIitvKSxuLmNvbnZlcnRlcnNbXCJzY3JpcHQganNvblwiXT1mdW5jdGlvbigpe3JldHVybiBzfHx4LmVycm9yKG8rXCIgd2FzIG5vdCBjYWxsZWRcIiksc1swXX0sbi5kYXRhVHlwZXNbMF09XCJqc29uXCIsYT1lW29dLGVbb109ZnVuY3Rpb24oKXtzPWFyZ3VtZW50c30saS5hbHdheXMoZnVuY3Rpb24oKXtlW29dPWEsbltvXSYmKG4uanNvbnBDYWxsYmFjaz1yLmpzb25wQ2FsbGJhY2ssRm4ucHVzaChvKSkscyYmeC5pc0Z1bmN0aW9uKGEpJiZhKHNbMF0pLHM9YT10fSksXCJzY3JpcHRcIik6dH0pO3ZhciBQbixSbixXbj0wLCRuPWUuQWN0aXZlWE9iamVjdCYmZnVuY3Rpb24oKXt2YXIgZTtmb3IoZSBpbiBQbilQbltlXSh0LCEwKX07ZnVuY3Rpb24gSW4oKXt0cnl7cmV0dXJuIG5ldyBlLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKHQpe319ZnVuY3Rpb24gem4oKXt0cnl7cmV0dXJuIG5ldyBlLkFjdGl2ZVhPYmplY3QoXCJNaWNyb3NvZnQuWE1MSFRUUFwiKX1jYXRjaCh0KXt9fXguYWpheFNldHRpbmdzLnhocj1lLkFjdGl2ZVhPYmplY3Q/ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0xvY2FsJiZJbigpfHx6bigpfTpJbixSbj14LmFqYXhTZXR0aW5ncy54aHIoKSx4LnN1cHBvcnQuY29ycz0hIVJuJiZcIndpdGhDcmVkZW50aWFsc1wiaW4gUm4sUm49eC5zdXBwb3J0LmFqYXg9ISFSbixSbiYmeC5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKG4pe2lmKCFuLmNyb3NzRG9tYWlufHx4LnN1cHBvcnQuY29ycyl7dmFyIHI7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oaSxvKXt2YXIgYSxzLGw9bi54aHIoKTtpZihuLnVzZXJuYW1lP2wub3BlbihuLnR5cGUsbi51cmwsbi5hc3luYyxuLnVzZXJuYW1lLG4ucGFzc3dvcmQpOmwub3BlbihuLnR5cGUsbi51cmwsbi5hc3luYyksbi54aHJGaWVsZHMpZm9yKHMgaW4gbi54aHJGaWVsZHMpbFtzXT1uLnhockZpZWxkc1tzXTtuLm1pbWVUeXBlJiZsLm92ZXJyaWRlTWltZVR5cGUmJmwub3ZlcnJpZGVNaW1lVHlwZShuLm1pbWVUeXBlKSxuLmNyb3NzRG9tYWlufHxpW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXXx8KGlbXCJYLVJlcXVlc3RlZC1XaXRoXCJdPVwiWE1MSHR0cFJlcXVlc3RcIik7dHJ5e2ZvcihzIGluIGkpbC5zZXRSZXF1ZXN0SGVhZGVyKHMsaVtzXSl9Y2F0Y2godSl7fWwuc2VuZChuLmhhc0NvbnRlbnQmJm4uZGF0YXx8bnVsbCkscj1mdW5jdGlvbihlLGkpe3ZhciBzLHUsYyxwO3RyeXtpZihyJiYoaXx8ND09PWwucmVhZHlTdGF0ZSkpaWYocj10LGEmJihsLm9ucmVhZHlzdGF0ZWNoYW5nZT14Lm5vb3AsJG4mJmRlbGV0ZSBQblthXSksaSk0IT09bC5yZWFkeVN0YXRlJiZsLmFib3J0KCk7ZWxzZXtwPXt9LHM9bC5zdGF0dXMsdT1sLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLFwic3RyaW5nXCI9PXR5cGVvZiBsLnJlc3BvbnNlVGV4dCYmKHAudGV4dD1sLnJlc3BvbnNlVGV4dCk7dHJ5e2M9bC5zdGF0dXNUZXh0fWNhdGNoKGYpe2M9XCJcIn1zfHwhbi5pc0xvY2FsfHxuLmNyb3NzRG9tYWluPzEyMjM9PT1zJiYocz0yMDQpOnM9cC50ZXh0PzIwMDo0MDR9fWNhdGNoKGQpe2l8fG8oLTEsZCl9cCYmbyhzLGMscCx1KX0sbi5hc3luYz80PT09bC5yZWFkeVN0YXRlP3NldFRpbWVvdXQocik6KGE9KytXbiwkbiYmKFBufHwoUG49e30seChlKS51bmxvYWQoJG4pKSxQblthXT1yKSxsLm9ucmVhZHlzdGF0ZWNoYW5nZT1yKTpyKCl9LGFib3J0OmZ1bmN0aW9uKCl7ciYmcih0LCEwKX19fX0pO3ZhciBYbixVbixWbj0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sWW49UmVnRXhwKFwiXig/OihbKy1dKT18KShcIit3K1wiKShbYS16JV0qKSRcIixcImlcIiksSm49L3F1ZXVlSG9va3MkLyxHbj1bbnJdLFFuPXtcIipcIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCkscj1uLmN1cigpLGk9WW4uZXhlYyh0KSxvPWkmJmlbM118fCh4LmNzc051bWJlcltlXT9cIlwiOlwicHhcIiksYT0oeC5jc3NOdW1iZXJbZV18fFwicHhcIiE9PW8mJityKSYmWW4uZXhlYyh4LmNzcyhuLmVsZW0sZSkpLHM9MSxsPTIwO2lmKGEmJmFbM10hPT1vKXtvPW98fGFbM10saT1pfHxbXSxhPStyfHwxO2RvIHM9c3x8XCIuNVwiLGEvPXMseC5zdHlsZShuLmVsZW0sZSxhK28pO3doaWxlKHMhPT0ocz1uLmN1cigpL3IpJiYxIT09cyYmLS1sKX1yZXR1cm4gaSYmKGE9bi5zdGFydD0rYXx8K3J8fDAsbi51bml0PW8sbi5lbmQ9aVsxXT9hKyhpWzFdKzEpKmlbMl06K2lbMl0pLG59XX07ZnVuY3Rpb24gS24oKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe1huPXR9KSxYbj14Lm5vdygpfWZ1bmN0aW9uIFpuKGUsdCxuKXt2YXIgcixpPShRblt0XXx8W10pLmNvbmNhdChRbltcIipcIl0pLG89MCxhPWkubGVuZ3RoO2Zvcig7YT5vO28rKylpZihyPWlbb10uY2FsbChuLHQsZSkpcmV0dXJuIHJ9ZnVuY3Rpb24gZXIoZSx0LG4pe3ZhciByLGksbz0wLGE9R24ubGVuZ3RoLHM9eC5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSBsLmVsZW19KSxsPWZ1bmN0aW9uKCl7aWYoaSlyZXR1cm4hMTt2YXIgdD1Ybnx8S24oKSxuPU1hdGgubWF4KDAsdS5zdGFydFRpbWUrdS5kdXJhdGlvbi10KSxyPW4vdS5kdXJhdGlvbnx8MCxvPTEtcixhPTAsbD11LnR3ZWVucy5sZW5ndGg7Zm9yKDtsPmE7YSsrKXUudHdlZW5zW2FdLnJ1bihvKTtyZXR1cm4gcy5ub3RpZnlXaXRoKGUsW3UsbyxuXSksMT5vJiZsP246KHMucmVzb2x2ZVdpdGgoZSxbdV0pLCExKX0sdT1zLnByb21pc2Uoe2VsZW06ZSxwcm9wczp4LmV4dGVuZCh7fSx0KSxvcHRzOnguZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9fSxuKSxvcmlnaW5hbFByb3BlcnRpZXM6dCxvcmlnaW5hbE9wdGlvbnM6bixzdGFydFRpbWU6WG58fEtuKCksZHVyYXRpb246bi5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24odCxuKXt2YXIgcj14LlR3ZWVuKGUsdS5vcHRzLHQsbix1Lm9wdHMuc3BlY2lhbEVhc2luZ1t0XXx8dS5vcHRzLmVhc2luZyk7cmV0dXJuIHUudHdlZW5zLnB1c2gocikscn0sc3RvcDpmdW5jdGlvbih0KXt2YXIgbj0wLHI9dD91LnR3ZWVucy5sZW5ndGg6MDtpZihpKXJldHVybiB0aGlzO2ZvcihpPSEwO3I+bjtuKyspdS50d2VlbnNbbl0ucnVuKDEpO3JldHVybiB0P3MucmVzb2x2ZVdpdGgoZSxbdSx0XSk6cy5yZWplY3RXaXRoKGUsW3UsdF0pLHRoaXN9fSksYz11LnByb3BzO2Zvcih0cihjLHUub3B0cy5zcGVjaWFsRWFzaW5nKTthPm87bysrKWlmKHI9R25bb10uY2FsbCh1LGUsYyx1Lm9wdHMpKXJldHVybiByO3JldHVybiB4Lm1hcChjLFpuLHUpLHguaXNGdW5jdGlvbih1Lm9wdHMuc3RhcnQpJiZ1Lm9wdHMuc3RhcnQuY2FsbChlLHUpLHguZngudGltZXIoeC5leHRlbmQobCx7ZWxlbTplLGFuaW06dSxxdWV1ZTp1Lm9wdHMucXVldWV9KSksdS5wcm9ncmVzcyh1Lm9wdHMucHJvZ3Jlc3MpLmRvbmUodS5vcHRzLmRvbmUsdS5vcHRzLmNvbXBsZXRlKS5mYWlsKHUub3B0cy5mYWlsKS5hbHdheXModS5vcHRzLmFsd2F5cyl9ZnVuY3Rpb24gdHIoZSx0KXt2YXIgbixyLGksbyxhO2ZvcihuIGluIGUpaWYocj14LmNhbWVsQ2FzZShuKSxpPXRbcl0sbz1lW25dLHguaXNBcnJheShvKSYmKGk9b1sxXSxvPWVbbl09b1swXSksbiE9PXImJihlW3JdPW8sZGVsZXRlIGVbbl0pLGE9eC5jc3NIb29rc1tyXSxhJiZcImV4cGFuZFwiaW4gYSl7bz1hLmV4cGFuZChvKSxkZWxldGUgZVtyXTtmb3IobiBpbiBvKW4gaW4gZXx8KGVbbl09b1tuXSx0W25dPWkpfWVsc2UgdFtyXT1pfXguQW5pbWF0aW9uPXguZXh0ZW5kKGVyLHt0d2VlbmVyOmZ1bmN0aW9uKGUsdCl7eC5pc0Z1bmN0aW9uKGUpPyh0PWUsZT1bXCIqXCJdKTplPWUuc3BsaXQoXCIgXCIpO3ZhciBuLHI9MCxpPWUubGVuZ3RoO2Zvcig7aT5yO3IrKyluPWVbcl0sUW5bbl09UW5bbl18fFtdLFFuW25dLnVuc2hpZnQodCl9LHByZWZpbHRlcjpmdW5jdGlvbihlLHQpe3Q/R24udW5zaGlmdChlKTpHbi5wdXNoKGUpfX0pO2Z1bmN0aW9uIG5yKGUsdCxuKXt2YXIgcixpLG8sYSxzLGwsdT10aGlzLGM9e30scD1lLnN0eWxlLGY9ZS5ub2RlVHlwZSYmbm4oZSksZD14Ll9kYXRhKGUsXCJmeHNob3dcIik7bi5xdWV1ZXx8KHM9eC5fcXVldWVIb29rcyhlLFwiZnhcIiksbnVsbD09cy51bnF1ZXVlZCYmKHMudW5xdWV1ZWQ9MCxsPXMuZW1wdHkuZmlyZSxzLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXtzLnVucXVldWVkfHxsKCl9KSxzLnVucXVldWVkKyssdS5hbHdheXMoZnVuY3Rpb24oKXt1LmFsd2F5cyhmdW5jdGlvbigpe3MudW5xdWV1ZWQtLSx4LnF1ZXVlKGUsXCJmeFwiKS5sZW5ndGh8fHMuZW1wdHkuZmlyZSgpfSl9KSksMT09PWUubm9kZVR5cGUmJihcImhlaWdodFwiaW4gdHx8XCJ3aWR0aFwiaW4gdCkmJihuLm92ZXJmbG93PVtwLm92ZXJmbG93LHAub3ZlcmZsb3dYLHAub3ZlcmZsb3dZXSxcImlubGluZVwiPT09eC5jc3MoZSxcImRpc3BsYXlcIikmJlwibm9uZVwiPT09eC5jc3MoZSxcImZsb2F0XCIpJiYoeC5zdXBwb3J0LmlubGluZUJsb2NrTmVlZHNMYXlvdXQmJlwiaW5saW5lXCIhPT1sbihlLm5vZGVOYW1lKT9wLnpvb209MTpwLmRpc3BsYXk9XCJpbmxpbmUtYmxvY2tcIikpLG4ub3ZlcmZsb3cmJihwLm92ZXJmbG93PVwiaGlkZGVuXCIseC5zdXBwb3J0LnNocmlua1dyYXBCbG9ja3N8fHUuYWx3YXlzKGZ1bmN0aW9uKCl7cC5vdmVyZmxvdz1uLm92ZXJmbG93WzBdLHAub3ZlcmZsb3dYPW4ub3ZlcmZsb3dbMV0scC5vdmVyZmxvd1k9bi5vdmVyZmxvd1syXX0pKTtmb3IociBpbiB0KWlmKGk9dFtyXSxWbi5leGVjKGkpKXtpZihkZWxldGUgdFtyXSxvPW98fFwidG9nZ2xlXCI9PT1pLGk9PT0oZj9cImhpZGVcIjpcInNob3dcIikpY29udGludWU7Y1tyXT1kJiZkW3JdfHx4LnN0eWxlKGUscil9aWYoIXguaXNFbXB0eU9iamVjdChjKSl7ZD9cImhpZGRlblwiaW4gZCYmKGY9ZC5oaWRkZW4pOmQ9eC5fZGF0YShlLFwiZnhzaG93XCIse30pLG8mJihkLmhpZGRlbj0hZiksZj94KGUpLnNob3coKTp1LmRvbmUoZnVuY3Rpb24oKXt4KGUpLmhpZGUoKX0pLHUuZG9uZShmdW5jdGlvbigpe3ZhciB0O3guX3JlbW92ZURhdGEoZSxcImZ4c2hvd1wiKTtmb3IodCBpbiBjKXguc3R5bGUoZSx0LGNbdF0pfSk7Zm9yKHIgaW4gYylhPVpuKGY/ZFtyXTowLHIsdSksciBpbiBkfHwoZFtyXT1hLnN0YXJ0LGYmJihhLmVuZD1hLnN0YXJ0LGEuc3RhcnQ9XCJ3aWR0aFwiPT09cnx8XCJoZWlnaHRcIj09PXI/MTowKSl9fWZ1bmN0aW9uIHJyKGUsdCxuLHIsaSl7cmV0dXJuIG5ldyByci5wcm90b3R5cGUuaW5pdChlLHQsbixyLGkpfXguVHdlZW49cnIscnIucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjpycixpbml0OmZ1bmN0aW9uKGUsdCxuLHIsaSxvKXt0aGlzLmVsZW09ZSx0aGlzLnByb3A9bix0aGlzLmVhc2luZz1pfHxcInN3aW5nXCIsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fCh4LmNzc051bWJlcltuXT9cIlwiOlwicHhcIil9LGN1cjpmdW5jdGlvbigpe3ZhciBlPXJyLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBlJiZlLmdldD9lLmdldCh0aGlzKTpyci5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oZSl7dmFyIHQsbj1yci5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5wb3M9dD10aGlzLm9wdGlvbnMuZHVyYXRpb24/eC5lYXNpbmdbdGhpcy5lYXNpbmddKGUsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmUsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6ZSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqdCt0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxuJiZuLnNldD9uLnNldCh0aGlzKTpyci5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSxyci5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9cnIucHJvdG90eXBlLHJyLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbnVsbD09ZS5lbGVtW2UucHJvcF18fGUuZWxlbS5zdHlsZSYmbnVsbCE9ZS5lbGVtLnN0eWxlW2UucHJvcF0/KHQ9eC5jc3MoZS5lbGVtLGUucHJvcCxcIlwiKSx0JiZcImF1dG9cIiE9PXQ/dDowKTplLmVsZW1bZS5wcm9wXX0sc2V0OmZ1bmN0aW9uKGUpe3guZnguc3RlcFtlLnByb3BdP3guZnguc3RlcFtlLnByb3BdKGUpOmUuZWxlbS5zdHlsZSYmKG51bGwhPWUuZWxlbS5zdHlsZVt4LmNzc1Byb3BzW2UucHJvcF1dfHx4LmNzc0hvb2tzW2UucHJvcF0pP3guc3R5bGUoZS5lbGVtLGUucHJvcCxlLm5vdytlLnVuaXQpOmUuZWxlbVtlLnByb3BdPWUubm93fX19LHJyLnByb3BIb29rcy5zY3JvbGxUb3A9cnIucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihlKXtlLmVsZW0ubm9kZVR5cGUmJmUuZWxlbS5wYXJlbnROb2RlJiYoZS5lbGVtW2UucHJvcF09ZS5ub3cpfX0seC5lYWNoKFtcInRvZ2dsZVwiLFwic2hvd1wiLFwiaGlkZVwiXSxmdW5jdGlvbihlLHQpe3ZhciBuPXguZm5bdF07eC5mblt0XT1mdW5jdGlvbihlLHIsaSl7cmV0dXJuIG51bGw9PWV8fFwiYm9vbGVhblwiPT10eXBlb2YgZT9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoaXIodCwhMCksZSxyLGkpfX0pLHguZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKG5uKS5jc3MoXCJvcGFjaXR5XCIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6dH0sZSxuLHIpfSxhbmltYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXguaXNFbXB0eU9iamVjdChlKSxvPXguc3BlZWQodCxuLHIpLGE9ZnVuY3Rpb24oKXt2YXIgdD1lcih0aGlzLHguZXh0ZW5kKHt9LGUpLG8pOyhpfHx4Ll9kYXRhKHRoaXMsXCJmaW5pc2hcIikpJiZ0LnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxpfHxvLnF1ZXVlPT09ITE/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUoby5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihlLG4scil7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChyKX07cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGUmJihyPW4sbj1lLGU9dCksbiYmZSE9PSExJiZ0aGlzLnF1ZXVlKGV8fFwiZnhcIixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ITAsbj1udWxsIT1lJiZlK1wicXVldWVIb29rc1wiLG89eC50aW1lcnMsYT14Ll9kYXRhKHRoaXMpO2lmKG4pYVtuXSYmYVtuXS5zdG9wJiZpKGFbbl0pO2Vsc2UgZm9yKG4gaW4gYSlhW25dJiZhW25dLnN0b3AmJkpuLnRlc3QobikmJmkoYVtuXSk7Zm9yKG49by5sZW5ndGg7bi0tOylvW25dLmVsZW0hPT10aGlzfHxudWxsIT1lJiZvW25dLnF1ZXVlIT09ZXx8KG9bbl0uYW5pbS5zdG9wKHIpLHQ9ITEsby5zcGxpY2UobiwxKSk7KHR8fCFyKSYmeC5kZXF1ZXVlKHRoaXMsZSl9KX0sZmluaXNoOmZ1bmN0aW9uKGUpe3JldHVybiBlIT09ITEmJihlPWV8fFwiZnhcIiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQsbj14Ll9kYXRhKHRoaXMpLHI9bltlK1wicXVldWVcIl0saT1uW2UrXCJxdWV1ZUhvb2tzXCJdLG89eC50aW1lcnMsYT1yP3IubGVuZ3RoOjA7Zm9yKG4uZmluaXNoPSEwLHgucXVldWUodGhpcyxlLFtdKSxpJiZpLnN0b3AmJmkuc3RvcC5jYWxsKHRoaXMsITApLHQ9by5sZW5ndGg7dC0tOylvW3RdLmVsZW09PT10aGlzJiZvW3RdLnF1ZXVlPT09ZSYmKG9bdF0uYW5pbS5zdG9wKCEwKSxvLnNwbGljZSh0LDEpKTtmb3IodD0wO2E+dDt0Kyspclt0XSYmclt0XS5maW5pc2gmJnJbdF0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIG4uZmluaXNofSl9fSk7ZnVuY3Rpb24gaXIoZSx0KXt2YXIgbixyPXtoZWlnaHQ6ZX0saT0wO2Zvcih0PXQ/MTowOzQ+aTtpKz0yLXQpbj1adFtpXSxyW1wibWFyZ2luXCIrbl09cltcInBhZGRpbmdcIituXT1lO3JldHVybiB0JiYoci5vcGFjaXR5PXIud2lkdGg9ZSkscn14LmVhY2goe3NsaWRlRG93bjppcihcInNob3dcIiksc2xpZGVVcDppcihcImhpZGVcIiksc2xpZGVUb2dnbGU6aXIoXCJ0b2dnbGVcIiksZmFkZUluOntvcGFjaXR5Olwic2hvd1wifSxmYWRlT3V0OntvcGFjaXR5OlwiaGlkZVwifSxmYWRlVG9nZ2xlOntvcGFjaXR5OlwidG9nZ2xlXCJ9fSxmdW5jdGlvbihlLHQpe3guZm5bZV09ZnVuY3Rpb24oZSxuLHIpe3JldHVybiB0aGlzLmFuaW1hdGUodCxlLG4scil9fSkseC5zcGVlZD1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZSYmXCJvYmplY3RcIj09dHlwZW9mIGU/eC5leHRlbmQoe30sZSk6e2NvbXBsZXRlOm58fCFuJiZ0fHx4LmlzRnVuY3Rpb24oZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIXguaXNGdW5jdGlvbih0KSYmdH07cmV0dXJuIHIuZHVyYXRpb249eC5meC5vZmY/MDpcIm51bWJlclwiPT10eXBlb2Ygci5kdXJhdGlvbj9yLmR1cmF0aW9uOnIuZHVyYXRpb24gaW4geC5meC5zcGVlZHM/eC5meC5zcGVlZHNbci5kdXJhdGlvbl06eC5meC5zcGVlZHMuX2RlZmF1bHQsKG51bGw9PXIucXVldWV8fHIucXVldWU9PT0hMCkmJihyLnF1ZXVlPVwiZnhcIiksci5vbGQ9ci5jb21wbGV0ZSxyLmNvbXBsZXRlPWZ1bmN0aW9uKCl7eC5pc0Z1bmN0aW9uKHIub2xkKSYmci5vbGQuY2FsbCh0aGlzKSxyLnF1ZXVlJiZ4LmRlcXVldWUodGhpcyxyLnF1ZXVlKX0scn0seC5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihlKXtyZXR1cm4gZX0sc3dpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuLjUtTWF0aC5jb3MoZSpNYXRoLlBJKS8yfX0seC50aW1lcnM9W10seC5meD1yci5wcm90b3R5cGUuaW5pdCx4LmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgZSxuPXgudGltZXJzLHI9MDtmb3IoWG49eC5ub3coKTtuLmxlbmd0aD5yO3IrKyllPW5bcl0sZSgpfHxuW3JdIT09ZXx8bi5zcGxpY2Uoci0tLDEpO24ubGVuZ3RofHx4LmZ4LnN0b3AoKSxYbj10fSx4LmZ4LnRpbWVyPWZ1bmN0aW9uKGUpe2UoKSYmeC50aW1lcnMucHVzaChlKSYmeC5meC5zdGFydCgpfSx4LmZ4LmludGVydmFsPTEzLHguZnguc3RhcnQ9ZnVuY3Rpb24oKXtVbnx8KFVuPXNldEludGVydmFsKHguZngudGljayx4LmZ4LmludGVydmFsKSl9LHguZnguc3RvcD1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwoVW4pLFVuPW51bGx9LHguZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LHguZnguc3RlcD17fSx4LmV4cHImJnguZXhwci5maWx0ZXJzJiYoeC5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHguZ3JlcCh4LnRpbWVycyxmdW5jdGlvbih0KXtyZXR1cm4gZT09PXQuZWxlbX0pLmxlbmd0aH0pLHguZm4ub2Zmc2V0PWZ1bmN0aW9uKGUpe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGU9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3gub2Zmc2V0LnNldE9mZnNldCh0aGlzLGUsdCl9KTt2YXIgbixyLG89e3RvcDowLGxlZnQ6MH0sYT10aGlzWzBdLHM9YSYmYS5vd25lckRvY3VtZW50O2lmKHMpcmV0dXJuIG49cy5kb2N1bWVudEVsZW1lbnQseC5jb250YWlucyhuLGEpPyh0eXBlb2YgYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QhPT1pJiYobz1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxyPW9yKHMpLHt0b3A6by50b3ArKHIucGFnZVlPZmZzZXR8fG4uc2Nyb2xsVG9wKS0obi5jbGllbnRUb3B8fDApLGxlZnQ6by5sZWZ0KyhyLnBhZ2VYT2Zmc2V0fHxuLnNjcm9sbExlZnQpLShuLmNsaWVudExlZnR8fDApfSk6b30seC5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihlLHQsbil7dmFyIHI9eC5jc3MoZSxcInBvc2l0aW9uXCIpO1wic3RhdGljXCI9PT1yJiYoZS5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIpO3ZhciBpPXgoZSksbz1pLm9mZnNldCgpLGE9eC5jc3MoZSxcInRvcFwiKSxzPXguY3NzKGUsXCJsZWZ0XCIpLGw9KFwiYWJzb2x1dGVcIj09PXJ8fFwiZml4ZWRcIj09PXIpJiZ4LmluQXJyYXkoXCJhdXRvXCIsW2Esc10pPi0xLHU9e30sYz17fSxwLGY7bD8oYz1pLnBvc2l0aW9uKCkscD1jLnRvcCxmPWMubGVmdCk6KHA9cGFyc2VGbG9hdChhKXx8MCxmPXBhcnNlRmxvYXQocyl8fDApLHguaXNGdW5jdGlvbih0KSYmKHQ9dC5jYWxsKGUsbixvKSksbnVsbCE9dC50b3AmJih1LnRvcD10LnRvcC1vLnRvcCtwKSxudWxsIT10LmxlZnQmJih1LmxlZnQ9dC5sZWZ0LW8ubGVmdCtmKSxcInVzaW5nXCJpbiB0P3QudXNpbmcuY2FsbChlLHUpOmkuY3NzKHUpfX0seC5mbi5leHRlbmQoe3Bvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGUsdCxuPXt0b3A6MCxsZWZ0OjB9LHI9dGhpc1swXTtyZXR1cm5cImZpeGVkXCI9PT14LmNzcyhyLFwicG9zaXRpb25cIik/dD1yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOihlPXRoaXMub2Zmc2V0UGFyZW50KCksdD10aGlzLm9mZnNldCgpLHgubm9kZU5hbWUoZVswXSxcImh0bWxcIil8fChuPWUub2Zmc2V0KCkpLG4udG9wKz14LmNzcyhlWzBdLFwiYm9yZGVyVG9wV2lkdGhcIiwhMCksbi5sZWZ0Kz14LmNzcyhlWzBdLFwiYm9yZGVyTGVmdFdpZHRoXCIsITApKSx7dG9wOnQudG9wLW4udG9wLXguY3NzKHIsXCJtYXJnaW5Ub3BcIiwhMCksbGVmdDp0LmxlZnQtbi5sZWZ0LXguY3NzKHIsXCJtYXJnaW5MZWZ0XCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBlPXRoaXMub2Zmc2V0UGFyZW50fHxzO3doaWxlKGUmJiF4Lm5vZGVOYW1lKGUsXCJodG1sXCIpJiZcInN0YXRpY1wiPT09eC5jc3MoZSxcInBvc2l0aW9uXCIpKWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fHN9KX19KSx4LmVhY2goe3Njcm9sbExlZnQ6XCJwYWdlWE9mZnNldFwiLHNjcm9sbFRvcDpcInBhZ2VZT2Zmc2V0XCJ9LGZ1bmN0aW9uKGUsbil7dmFyIHI9L1kvLnRlc3Qobik7eC5mbltlXT1mdW5jdGlvbihpKXtyZXR1cm4geC5hY2Nlc3ModGhpcyxmdW5jdGlvbihlLGksbyl7dmFyIGE9b3IoZSk7cmV0dXJuIG89PT10P2E/biBpbiBhP2Fbbl06YS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbaV06ZVtpXTooYT9hLnNjcm9sbFRvKHI/eChhKS5zY3JvbGxMZWZ0KCk6byxyP286eChhKS5zY3JvbGxUb3AoKSk6ZVtpXT1vLHQpfSxlLGksYXJndW1lbnRzLmxlbmd0aCxudWxsKX19KTtmdW5jdGlvbiBvcihlKXtyZXR1cm4geC5pc1dpbmRvdyhlKT9lOjk9PT1lLm5vZGVUeXBlP2UuZGVmYXVsdFZpZXd8fGUucGFyZW50V2luZG93OiExfXguZWFjaCh7SGVpZ2h0OlwiaGVpZ2h0XCIsV2lkdGg6XCJ3aWR0aFwifSxmdW5jdGlvbihlLG4pe3guZWFjaCh7cGFkZGluZzpcImlubmVyXCIrZSxjb250ZW50Om4sXCJcIjpcIm91dGVyXCIrZX0sZnVuY3Rpb24ocixpKXt4LmZuW2ldPWZ1bmN0aW9uKGksbyl7dmFyIGE9YXJndW1lbnRzLmxlbmd0aCYmKHJ8fFwiYm9vbGVhblwiIT10eXBlb2YgaSkscz1yfHwoaT09PSEwfHxvPT09ITA/XCJtYXJnaW5cIjpcImJvcmRlclwiKTtyZXR1cm4geC5hY2Nlc3ModGhpcyxmdW5jdGlvbihuLHIsaSl7dmFyIG87cmV0dXJuIHguaXNXaW5kb3cobik/bi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbXCJjbGllbnRcIitlXTo5PT09bi5ub2RlVHlwZT8obz1uLmRvY3VtZW50RWxlbWVudCxNYXRoLm1heChuLmJvZHlbXCJzY3JvbGxcIitlXSxvW1wic2Nyb2xsXCIrZV0sbi5ib2R5W1wib2Zmc2V0XCIrZV0sb1tcIm9mZnNldFwiK2VdLG9bXCJjbGllbnRcIitlXSkpOmk9PT10P3guY3NzKG4scixzKTp4LnN0eWxlKG4scixpLHMpfSxuLGE/aTp0LGEsbnVsbCl9fSl9KSx4LmZuLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LHguZm4uYW5kU2VsZj14LmZuLmFkZEJhY2ssXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmbW9kdWxlJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9eDooZS5qUXVlcnk9ZS4kPXgsXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoXCJqcXVlcnlcIixbXSxmdW5jdGlvbigpe3JldHVybiB4fSkpfSkod2luZG93KTtcblxuOyBicm93c2VyaWZ5X3NoaW1fX2RlZmluZV9fbW9kdWxlX19leHBvcnRfXyh0eXBlb2YgJCAhPSBcInVuZGVmaW5lZFwiID8gJCA6IHdpbmRvdy4kKTtcblxufSkuY2FsbChnbG9iYWwsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uIGRlZmluZUV4cG9ydChleCkgeyBtb2R1bGUuZXhwb3J0cyA9IGV4OyB9KTtcbn0pLmNhbGwodGhpcyx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pIiwiKGZ1bmN0aW9uIChnbG9iYWwpeyhmdW5jdGlvbiBicm93c2VyaWZ5U2hpbShtb2R1bGUsIGV4cG9ydHMsIGRlZmluZSwgYnJvd3NlcmlmeV9zaGltX19kZWZpbmVfX21vZHVsZV9fZXhwb3J0X18pIHtcbi8vICAgICBVbmRlcnNjb3JlLmpzIDEuNS4yXG4vLyAgICAgaHR0cDovL3VuZGVyc2NvcmVqcy5vcmdcbi8vICAgICAoYykgMjAwOS0yMDEzIEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4vLyAgICAgVW5kZXJzY29yZSBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbihmdW5jdGlvbigpe3ZhciBuPXRoaXMsdD1uLl8scj17fSxlPUFycmF5LnByb3RvdHlwZSx1PU9iamVjdC5wcm90b3R5cGUsaT1GdW5jdGlvbi5wcm90b3R5cGUsYT1lLnB1c2gsbz1lLnNsaWNlLGM9ZS5jb25jYXQsbD11LnRvU3RyaW5nLGY9dS5oYXNPd25Qcm9wZXJ0eSxzPWUuZm9yRWFjaCxwPWUubWFwLGg9ZS5yZWR1Y2Usdj1lLnJlZHVjZVJpZ2h0LGQ9ZS5maWx0ZXIsZz1lLmV2ZXJ5LG09ZS5zb21lLHk9ZS5pbmRleE9mLGI9ZS5sYXN0SW5kZXhPZix4PUFycmF5LmlzQXJyYXksXz1PYmplY3Qua2V5cyxqPWkuYmluZCx3PWZ1bmN0aW9uKG4pe3JldHVybiBuIGluc3RhbmNlb2Ygdz9uOnRoaXMgaW5zdGFuY2VvZiB3Pyh0aGlzLl93cmFwcGVkPW4sdm9pZCAwKTpuZXcgdyhuKX07XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGV4cG9ydHM/KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYoZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz13KSxleHBvcnRzLl89dyk6bi5fPXcsdy5WRVJTSU9OPVwiMS41LjJcIjt2YXIgQT13LmVhY2g9dy5mb3JFYWNoPWZ1bmN0aW9uKG4sdCxlKXtpZihudWxsIT1uKWlmKHMmJm4uZm9yRWFjaD09PXMpbi5mb3JFYWNoKHQsZSk7ZWxzZSBpZihuLmxlbmd0aD09PStuLmxlbmd0aCl7Zm9yKHZhciB1PTAsaT1uLmxlbmd0aDtpPnU7dSsrKWlmKHQuY2FsbChlLG5bdV0sdSxuKT09PXIpcmV0dXJufWVsc2UgZm9yKHZhciBhPXcua2V5cyhuKSx1PTAsaT1hLmxlbmd0aDtpPnU7dSsrKWlmKHQuY2FsbChlLG5bYVt1XV0sYVt1XSxuKT09PXIpcmV0dXJufTt3Lm1hcD13LmNvbGxlY3Q9ZnVuY3Rpb24obix0LHIpe3ZhciBlPVtdO3JldHVybiBudWxsPT1uP2U6cCYmbi5tYXA9PT1wP24ubWFwKHQscik6KEEobixmdW5jdGlvbihuLHUsaSl7ZS5wdXNoKHQuY2FsbChyLG4sdSxpKSl9KSxlKX07dmFyIEU9XCJSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXCI7dy5yZWR1Y2U9dy5mb2xkbD13LmluamVjdD1mdW5jdGlvbihuLHQscixlKXt2YXIgdT1hcmd1bWVudHMubGVuZ3RoPjI7aWYobnVsbD09biYmKG49W10pLGgmJm4ucmVkdWNlPT09aClyZXR1cm4gZSYmKHQ9dy5iaW5kKHQsZSkpLHU/bi5yZWR1Y2UodCxyKTpuLnJlZHVjZSh0KTtpZihBKG4sZnVuY3Rpb24obixpLGEpe3U/cj10LmNhbGwoZSxyLG4saSxhKToocj1uLHU9ITApfSksIXUpdGhyb3cgbmV3IFR5cGVFcnJvcihFKTtyZXR1cm4gcn0sdy5yZWR1Y2VSaWdodD13LmZvbGRyPWZ1bmN0aW9uKG4sdCxyLGUpe3ZhciB1PWFyZ3VtZW50cy5sZW5ndGg+MjtpZihudWxsPT1uJiYobj1bXSksdiYmbi5yZWR1Y2VSaWdodD09PXYpcmV0dXJuIGUmJih0PXcuYmluZCh0LGUpKSx1P24ucmVkdWNlUmlnaHQodCxyKTpuLnJlZHVjZVJpZ2h0KHQpO3ZhciBpPW4ubGVuZ3RoO2lmKGkhPT0raSl7dmFyIGE9dy5rZXlzKG4pO2k9YS5sZW5ndGh9aWYoQShuLGZ1bmN0aW9uKG8sYyxsKXtjPWE/YVstLWldOi0taSx1P3I9dC5jYWxsKGUscixuW2NdLGMsbCk6KHI9bltjXSx1PSEwKX0pLCF1KXRocm93IG5ldyBUeXBlRXJyb3IoRSk7cmV0dXJuIHJ9LHcuZmluZD13LmRldGVjdD1mdW5jdGlvbihuLHQscil7dmFyIGU7cmV0dXJuIE8obixmdW5jdGlvbihuLHUsaSl7cmV0dXJuIHQuY2FsbChyLG4sdSxpKT8oZT1uLCEwKTp2b2lkIDB9KSxlfSx3LmZpbHRlcj13LnNlbGVjdD1mdW5jdGlvbihuLHQscil7dmFyIGU9W107cmV0dXJuIG51bGw9PW4/ZTpkJiZuLmZpbHRlcj09PWQ/bi5maWx0ZXIodCxyKTooQShuLGZ1bmN0aW9uKG4sdSxpKXt0LmNhbGwocixuLHUsaSkmJmUucHVzaChuKX0pLGUpfSx3LnJlamVjdD1mdW5jdGlvbihuLHQscil7cmV0dXJuIHcuZmlsdGVyKG4sZnVuY3Rpb24obixlLHUpe3JldHVybiF0LmNhbGwocixuLGUsdSl9LHIpfSx3LmV2ZXJ5PXcuYWxsPWZ1bmN0aW9uKG4sdCxlKXt0fHwodD13LmlkZW50aXR5KTt2YXIgdT0hMDtyZXR1cm4gbnVsbD09bj91OmcmJm4uZXZlcnk9PT1nP24uZXZlcnkodCxlKTooQShuLGZ1bmN0aW9uKG4saSxhKXtyZXR1cm4odT11JiZ0LmNhbGwoZSxuLGksYSkpP3ZvaWQgMDpyfSksISF1KX07dmFyIE89dy5zb21lPXcuYW55PWZ1bmN0aW9uKG4sdCxlKXt0fHwodD13LmlkZW50aXR5KTt2YXIgdT0hMTtyZXR1cm4gbnVsbD09bj91Om0mJm4uc29tZT09PW0/bi5zb21lKHQsZSk6KEEobixmdW5jdGlvbihuLGksYSl7cmV0dXJuIHV8fCh1PXQuY2FsbChlLG4saSxhKSk/cjp2b2lkIDB9KSwhIXUpfTt3LmNvbnRhaW5zPXcuaW5jbHVkZT1mdW5jdGlvbihuLHQpe3JldHVybiBudWxsPT1uPyExOnkmJm4uaW5kZXhPZj09PXk/bi5pbmRleE9mKHQpIT0tMTpPKG4sZnVuY3Rpb24obil7cmV0dXJuIG49PT10fSl9LHcuaW52b2tlPWZ1bmN0aW9uKG4sdCl7dmFyIHI9by5jYWxsKGFyZ3VtZW50cywyKSxlPXcuaXNGdW5jdGlvbih0KTtyZXR1cm4gdy5tYXAobixmdW5jdGlvbihuKXtyZXR1cm4oZT90Om5bdF0pLmFwcGx5KG4scil9KX0sdy5wbHVjaz1mdW5jdGlvbihuLHQpe3JldHVybiB3Lm1hcChuLGZ1bmN0aW9uKG4pe3JldHVybiBuW3RdfSl9LHcud2hlcmU9ZnVuY3Rpb24obix0LHIpe3JldHVybiB3LmlzRW1wdHkodCk/cj92b2lkIDA6W106d1tyP1wiZmluZFwiOlwiZmlsdGVyXCJdKG4sZnVuY3Rpb24obil7Zm9yKHZhciByIGluIHQpaWYodFtyXSE9PW5bcl0pcmV0dXJuITE7cmV0dXJuITB9KX0sdy5maW5kV2hlcmU9ZnVuY3Rpb24obix0KXtyZXR1cm4gdy53aGVyZShuLHQsITApfSx3Lm1heD1mdW5jdGlvbihuLHQscil7aWYoIXQmJncuaXNBcnJheShuKSYmblswXT09PStuWzBdJiY2NTUzNT5uLmxlbmd0aClyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCxuKTtpZighdCYmdy5pc0VtcHR5KG4pKXJldHVybi0xLzA7dmFyIGU9e2NvbXB1dGVkOi0xLzAsdmFsdWU6LTEvMH07cmV0dXJuIEEobixmdW5jdGlvbihuLHUsaSl7dmFyIGE9dD90LmNhbGwocixuLHUsaSk6bjthPmUuY29tcHV0ZWQmJihlPXt2YWx1ZTpuLGNvbXB1dGVkOmF9KX0pLGUudmFsdWV9LHcubWluPWZ1bmN0aW9uKG4sdCxyKXtpZighdCYmdy5pc0FycmF5KG4pJiZuWzBdPT09K25bMF0mJjY1NTM1Pm4ubGVuZ3RoKXJldHVybiBNYXRoLm1pbi5hcHBseShNYXRoLG4pO2lmKCF0JiZ3LmlzRW1wdHkobikpcmV0dXJuIDEvMDt2YXIgZT17Y29tcHV0ZWQ6MS8wLHZhbHVlOjEvMH07cmV0dXJuIEEobixmdW5jdGlvbihuLHUsaSl7dmFyIGE9dD90LmNhbGwocixuLHUsaSk6bjtlLmNvbXB1dGVkPmEmJihlPXt2YWx1ZTpuLGNvbXB1dGVkOmF9KX0pLGUudmFsdWV9LHcuc2h1ZmZsZT1mdW5jdGlvbihuKXt2YXIgdCxyPTAsZT1bXTtyZXR1cm4gQShuLGZ1bmN0aW9uKG4pe3Q9dy5yYW5kb20ocisrKSxlW3ItMV09ZVt0XSxlW3RdPW59KSxlfSx3LnNhbXBsZT1mdW5jdGlvbihuLHQscil7cmV0dXJuIDI+YXJndW1lbnRzLmxlbmd0aHx8cj9uW3cucmFuZG9tKG4ubGVuZ3RoLTEpXTp3LnNodWZmbGUobikuc2xpY2UoMCxNYXRoLm1heCgwLHQpKX07dmFyIGs9ZnVuY3Rpb24obil7cmV0dXJuIHcuaXNGdW5jdGlvbihuKT9uOmZ1bmN0aW9uKHQpe3JldHVybiB0W25dfX07dy5zb3J0Qnk9ZnVuY3Rpb24obix0LHIpe3ZhciBlPWsodCk7cmV0dXJuIHcucGx1Y2sody5tYXAobixmdW5jdGlvbihuLHQsdSl7cmV0dXJue3ZhbHVlOm4saW5kZXg6dCxjcml0ZXJpYTplLmNhbGwocixuLHQsdSl9fSkuc29ydChmdW5jdGlvbihuLHQpe3ZhciByPW4uY3JpdGVyaWEsZT10LmNyaXRlcmlhO2lmKHIhPT1lKXtpZihyPmV8fHI9PT12b2lkIDApcmV0dXJuIDE7aWYoZT5yfHxlPT09dm9pZCAwKXJldHVybi0xfXJldHVybiBuLmluZGV4LXQuaW5kZXh9KSxcInZhbHVlXCIpfTt2YXIgRj1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24odCxyLGUpe3ZhciB1PXt9LGk9bnVsbD09cj93LmlkZW50aXR5Omsocik7cmV0dXJuIEEodCxmdW5jdGlvbihyLGEpe3ZhciBvPWkuY2FsbChlLHIsYSx0KTtuKHUsbyxyKX0pLHV9fTt3Lmdyb3VwQnk9RihmdW5jdGlvbihuLHQscil7KHcuaGFzKG4sdCk/blt0XTpuW3RdPVtdKS5wdXNoKHIpfSksdy5pbmRleEJ5PUYoZnVuY3Rpb24obix0LHIpe25bdF09cn0pLHcuY291bnRCeT1GKGZ1bmN0aW9uKG4sdCl7dy5oYXMobix0KT9uW3RdKys6blt0XT0xfSksdy5zb3J0ZWRJbmRleD1mdW5jdGlvbihuLHQscixlKXtyPW51bGw9PXI/dy5pZGVudGl0eTprKHIpO2Zvcih2YXIgdT1yLmNhbGwoZSx0KSxpPTAsYT1uLmxlbmd0aDthPmk7KXt2YXIgbz1pK2E+Pj4xO3U+ci5jYWxsKGUsbltvXSk/aT1vKzE6YT1vfXJldHVybiBpfSx3LnRvQXJyYXk9ZnVuY3Rpb24obil7cmV0dXJuIG4/dy5pc0FycmF5KG4pP28uY2FsbChuKTpuLmxlbmd0aD09PStuLmxlbmd0aD93Lm1hcChuLHcuaWRlbnRpdHkpOncudmFsdWVzKG4pOltdfSx3LnNpemU9ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW4/MDpuLmxlbmd0aD09PStuLmxlbmd0aD9uLmxlbmd0aDp3LmtleXMobikubGVuZ3RofSx3LmZpcnN0PXcuaGVhZD13LnRha2U9ZnVuY3Rpb24obix0LHIpe3JldHVybiBudWxsPT1uP3ZvaWQgMDpudWxsPT10fHxyP25bMF06by5jYWxsKG4sMCx0KX0sdy5pbml0aWFsPWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gby5jYWxsKG4sMCxuLmxlbmd0aC0obnVsbD09dHx8cj8xOnQpKX0sdy5sYXN0PWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gbnVsbD09bj92b2lkIDA6bnVsbD09dHx8cj9uW24ubGVuZ3RoLTFdOm8uY2FsbChuLE1hdGgubWF4KG4ubGVuZ3RoLXQsMCkpfSx3LnJlc3Q9dy50YWlsPXcuZHJvcD1mdW5jdGlvbihuLHQscil7cmV0dXJuIG8uY2FsbChuLG51bGw9PXR8fHI/MTp0KX0sdy5jb21wYWN0PWZ1bmN0aW9uKG4pe3JldHVybiB3LmZpbHRlcihuLHcuaWRlbnRpdHkpfTt2YXIgTT1mdW5jdGlvbihuLHQscil7cmV0dXJuIHQmJncuZXZlcnkobix3LmlzQXJyYXkpP2MuYXBwbHkocixuKTooQShuLGZ1bmN0aW9uKG4pe3cuaXNBcnJheShuKXx8dy5pc0FyZ3VtZW50cyhuKT90P2EuYXBwbHkocixuKTpNKG4sdCxyKTpyLnB1c2gobil9KSxyKX07dy5mbGF0dGVuPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIE0obix0LFtdKX0sdy53aXRob3V0PWZ1bmN0aW9uKG4pe3JldHVybiB3LmRpZmZlcmVuY2UobixvLmNhbGwoYXJndW1lbnRzLDEpKX0sdy51bmlxPXcudW5pcXVlPWZ1bmN0aW9uKG4sdCxyLGUpe3cuaXNGdW5jdGlvbih0KSYmKGU9cixyPXQsdD0hMSk7dmFyIHU9cj93Lm1hcChuLHIsZSk6bixpPVtdLGE9W107cmV0dXJuIEEodSxmdW5jdGlvbihyLGUpeyh0P2UmJmFbYS5sZW5ndGgtMV09PT1yOncuY29udGFpbnMoYSxyKSl8fChhLnB1c2gociksaS5wdXNoKG5bZV0pKX0pLGl9LHcudW5pb249ZnVuY3Rpb24oKXtyZXR1cm4gdy51bmlxKHcuZmxhdHRlbihhcmd1bWVudHMsITApKX0sdy5pbnRlcnNlY3Rpb249ZnVuY3Rpb24obil7dmFyIHQ9by5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gdy5maWx0ZXIody51bmlxKG4pLGZ1bmN0aW9uKG4pe3JldHVybiB3LmV2ZXJ5KHQsZnVuY3Rpb24odCl7cmV0dXJuIHcuaW5kZXhPZih0LG4pPj0wfSl9KX0sdy5kaWZmZXJlbmNlPWZ1bmN0aW9uKG4pe3ZhciB0PWMuYXBwbHkoZSxvLmNhbGwoYXJndW1lbnRzLDEpKTtyZXR1cm4gdy5maWx0ZXIobixmdW5jdGlvbihuKXtyZXR1cm4hdy5jb250YWlucyh0LG4pfSl9LHcuemlwPWZ1bmN0aW9uKCl7Zm9yKHZhciBuPXcubWF4KHcucGx1Y2soYXJndW1lbnRzLFwibGVuZ3RoXCIpLmNvbmNhdCgwKSksdD1BcnJheShuKSxyPTA7bj5yO3IrKyl0W3JdPXcucGx1Y2soYXJndW1lbnRzLFwiXCIrcik7cmV0dXJuIHR9LHcub2JqZWN0PWZ1bmN0aW9uKG4sdCl7aWYobnVsbD09bilyZXR1cm57fTtmb3IodmFyIHI9e30sZT0wLHU9bi5sZW5ndGg7dT5lO2UrKyl0P3JbbltlXV09dFtlXTpyW25bZV1bMF1dPW5bZV1bMV07cmV0dXJuIHJ9LHcuaW5kZXhPZj1mdW5jdGlvbihuLHQscil7aWYobnVsbD09bilyZXR1cm4tMTt2YXIgZT0wLHU9bi5sZW5ndGg7aWYocil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHIpcmV0dXJuIGU9dy5zb3J0ZWRJbmRleChuLHQpLG5bZV09PT10P2U6LTE7ZT0wPnI/TWF0aC5tYXgoMCx1K3IpOnJ9aWYoeSYmbi5pbmRleE9mPT09eSlyZXR1cm4gbi5pbmRleE9mKHQscik7Zm9yKDt1PmU7ZSsrKWlmKG5bZV09PT10KXJldHVybiBlO3JldHVybi0xfSx3Lmxhc3RJbmRleE9mPWZ1bmN0aW9uKG4sdCxyKXtpZihudWxsPT1uKXJldHVybi0xO3ZhciBlPW51bGwhPXI7aWYoYiYmbi5sYXN0SW5kZXhPZj09PWIpcmV0dXJuIGU/bi5sYXN0SW5kZXhPZih0LHIpOm4ubGFzdEluZGV4T2YodCk7Zm9yKHZhciB1PWU/cjpuLmxlbmd0aDt1LS07KWlmKG5bdV09PT10KXJldHVybiB1O3JldHVybi0xfSx3LnJhbmdlPWZ1bmN0aW9uKG4sdCxyKXsxPj1hcmd1bWVudHMubGVuZ3RoJiYodD1ufHwwLG49MCkscj1hcmd1bWVudHNbMl18fDE7Zm9yKHZhciBlPU1hdGgubWF4KE1hdGguY2VpbCgodC1uKS9yKSwwKSx1PTAsaT1BcnJheShlKTtlPnU7KWlbdSsrXT1uLG4rPXI7cmV0dXJuIGl9O3ZhciBSPWZ1bmN0aW9uKCl7fTt3LmJpbmQ9ZnVuY3Rpb24obix0KXt2YXIgcixlO2lmKGomJm4uYmluZD09PWopcmV0dXJuIGouYXBwbHkobixvLmNhbGwoYXJndW1lbnRzLDEpKTtpZighdy5pc0Z1bmN0aW9uKG4pKXRocm93IG5ldyBUeXBlRXJyb3I7cmV0dXJuIHI9by5jYWxsKGFyZ3VtZW50cywyKSxlPWZ1bmN0aW9uKCl7aWYoISh0aGlzIGluc3RhbmNlb2YgZSkpcmV0dXJuIG4uYXBwbHkodCxyLmNvbmNhdChvLmNhbGwoYXJndW1lbnRzKSkpO1IucHJvdG90eXBlPW4ucHJvdG90eXBlO3ZhciB1PW5ldyBSO1IucHJvdG90eXBlPW51bGw7dmFyIGk9bi5hcHBseSh1LHIuY29uY2F0KG8uY2FsbChhcmd1bWVudHMpKSk7cmV0dXJuIE9iamVjdChpKT09PWk/aTp1fX0sdy5wYXJ0aWFsPWZ1bmN0aW9uKG4pe3ZhciB0PW8uY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBwbHkodGhpcyx0LmNvbmNhdChvLmNhbGwoYXJndW1lbnRzKSkpfX0sdy5iaW5kQWxsPWZ1bmN0aW9uKG4pe3ZhciB0PW8uY2FsbChhcmd1bWVudHMsMSk7aWYoMD09PXQubGVuZ3RoKXRocm93IEVycm9yKFwiYmluZEFsbCBtdXN0IGJlIHBhc3NlZCBmdW5jdGlvbiBuYW1lc1wiKTtyZXR1cm4gQSh0LGZ1bmN0aW9uKHQpe25bdF09dy5iaW5kKG5bdF0sbil9KSxufSx3Lm1lbW9pemU9ZnVuY3Rpb24obix0KXt2YXIgcj17fTtyZXR1cm4gdHx8KHQ9dy5pZGVudGl0eSksZnVuY3Rpb24oKXt2YXIgZT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdy5oYXMocixlKT9yW2VdOnJbZV09bi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSx3LmRlbGF5PWZ1bmN0aW9uKG4sdCl7dmFyIHI9by5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBuLmFwcGx5KG51bGwscil9LHQpfSx3LmRlZmVyPWZ1bmN0aW9uKG4pe3JldHVybiB3LmRlbGF5LmFwcGx5KHcsW24sMV0uY29uY2F0KG8uY2FsbChhcmd1bWVudHMsMSkpKX0sdy50aHJvdHRsZT1mdW5jdGlvbihuLHQscil7dmFyIGUsdSxpLGE9bnVsbCxvPTA7cnx8KHI9e30pO3ZhciBjPWZ1bmN0aW9uKCl7bz1yLmxlYWRpbmc9PT0hMT8wOm5ldyBEYXRlLGE9bnVsbCxpPW4uYXBwbHkoZSx1KX07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGw9bmV3IERhdGU7b3x8ci5sZWFkaW5nIT09ITF8fChvPWwpO3ZhciBmPXQtKGwtbyk7cmV0dXJuIGU9dGhpcyx1PWFyZ3VtZW50cywwPj1mPyhjbGVhclRpbWVvdXQoYSksYT1udWxsLG89bCxpPW4uYXBwbHkoZSx1KSk6YXx8ci50cmFpbGluZz09PSExfHwoYT1zZXRUaW1lb3V0KGMsZikpLGl9fSx3LmRlYm91bmNlPWZ1bmN0aW9uKG4sdCxyKXt2YXIgZSx1LGksYSxvO3JldHVybiBmdW5jdGlvbigpe2k9dGhpcyx1PWFyZ3VtZW50cyxhPW5ldyBEYXRlO3ZhciBjPWZ1bmN0aW9uKCl7dmFyIGw9bmV3IERhdGUtYTt0Pmw/ZT1zZXRUaW1lb3V0KGMsdC1sKTooZT1udWxsLHJ8fChvPW4uYXBwbHkoaSx1KSkpfSxsPXImJiFlO3JldHVybiBlfHwoZT1zZXRUaW1lb3V0KGMsdCkpLGwmJihvPW4uYXBwbHkoaSx1KSksb319LHcub25jZT1mdW5jdGlvbihuKXt2YXIgdCxyPSExO3JldHVybiBmdW5jdGlvbigpe3JldHVybiByP3Q6KHI9ITAsdD1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxuPW51bGwsdCl9fSx3LndyYXA9ZnVuY3Rpb24obix0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcj1bbl07cmV0dXJuIGEuYXBwbHkocixhcmd1bWVudHMpLHQuYXBwbHkodGhpcyxyKX19LHcuY29tcG9zZT1mdW5jdGlvbigpe3ZhciBuPWFyZ3VtZW50cztyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLHI9bi5sZW5ndGgtMTtyPj0wO3ItLSl0PVtuW3JdLmFwcGx5KHRoaXMsdCldO3JldHVybiB0WzBdfX0sdy5hZnRlcj1mdW5jdGlvbihuLHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiAxPi0tbj90LmFwcGx5KHRoaXMsYXJndW1lbnRzKTp2b2lkIDB9fSx3LmtleXM9X3x8ZnVuY3Rpb24obil7aWYobiE9PU9iamVjdChuKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBvYmplY3RcIik7dmFyIHQ9W107Zm9yKHZhciByIGluIG4pdy5oYXMobixyKSYmdC5wdXNoKHIpO3JldHVybiB0fSx3LnZhbHVlcz1mdW5jdGlvbihuKXtmb3IodmFyIHQ9dy5rZXlzKG4pLHI9dC5sZW5ndGgsZT1BcnJheShyKSx1PTA7cj51O3UrKyllW3VdPW5bdFt1XV07cmV0dXJuIGV9LHcucGFpcnM9ZnVuY3Rpb24obil7Zm9yKHZhciB0PXcua2V5cyhuKSxyPXQubGVuZ3RoLGU9QXJyYXkociksdT0wO3I+dTt1KyspZVt1XT1bdFt1XSxuW3RbdV1dXTtyZXR1cm4gZX0sdy5pbnZlcnQ9ZnVuY3Rpb24obil7Zm9yKHZhciB0PXt9LHI9dy5rZXlzKG4pLGU9MCx1PXIubGVuZ3RoO3U+ZTtlKyspdFtuW3JbZV1dXT1yW2VdO3JldHVybiB0fSx3LmZ1bmN0aW9ucz13Lm1ldGhvZHM9ZnVuY3Rpb24obil7dmFyIHQ9W107Zm9yKHZhciByIGluIG4pdy5pc0Z1bmN0aW9uKG5bcl0pJiZ0LnB1c2gocik7cmV0dXJuIHQuc29ydCgpfSx3LmV4dGVuZD1mdW5jdGlvbihuKXtyZXR1cm4gQShvLmNhbGwoYXJndW1lbnRzLDEpLGZ1bmN0aW9uKHQpe2lmKHQpZm9yKHZhciByIGluIHQpbltyXT10W3JdfSksbn0sdy5waWNrPWZ1bmN0aW9uKG4pe3ZhciB0PXt9LHI9Yy5hcHBseShlLG8uY2FsbChhcmd1bWVudHMsMSkpO3JldHVybiBBKHIsZnVuY3Rpb24ocil7ciBpbiBuJiYodFtyXT1uW3JdKX0pLHR9LHcub21pdD1mdW5jdGlvbihuKXt2YXIgdD17fSxyPWMuYXBwbHkoZSxvLmNhbGwoYXJndW1lbnRzLDEpKTtmb3IodmFyIHUgaW4gbil3LmNvbnRhaW5zKHIsdSl8fCh0W3VdPW5bdV0pO3JldHVybiB0fSx3LmRlZmF1bHRzPWZ1bmN0aW9uKG4pe3JldHVybiBBKG8uY2FsbChhcmd1bWVudHMsMSksZnVuY3Rpb24odCl7aWYodClmb3IodmFyIHIgaW4gdCluW3JdPT09dm9pZCAwJiYobltyXT10W3JdKX0pLG59LHcuY2xvbmU9ZnVuY3Rpb24obil7cmV0dXJuIHcuaXNPYmplY3Qobik/dy5pc0FycmF5KG4pP24uc2xpY2UoKTp3LmV4dGVuZCh7fSxuKTpufSx3LnRhcD1mdW5jdGlvbihuLHQpe3JldHVybiB0KG4pLG59O3ZhciBJPWZ1bmN0aW9uKG4sdCxyLGUpe2lmKG49PT10KXJldHVybiAwIT09bnx8MS9uPT0xL3Q7aWYobnVsbD09bnx8bnVsbD09dClyZXR1cm4gbj09PXQ7biBpbnN0YW5jZW9mIHcmJihuPW4uX3dyYXBwZWQpLHQgaW5zdGFuY2VvZiB3JiYodD10Ll93cmFwcGVkKTt2YXIgdT1sLmNhbGwobik7aWYodSE9bC5jYWxsKHQpKXJldHVybiExO3N3aXRjaCh1KXtjYXNlXCJbb2JqZWN0IFN0cmluZ11cIjpyZXR1cm4gbj09dCtcIlwiO2Nhc2VcIltvYmplY3QgTnVtYmVyXVwiOnJldHVybiBuIT0rbj90IT0rdDowPT1uPzEvbj09MS90Om49PSt0O2Nhc2VcIltvYmplY3QgRGF0ZV1cIjpjYXNlXCJbb2JqZWN0IEJvb2xlYW5dXCI6cmV0dXJuK249PSt0O2Nhc2VcIltvYmplY3QgUmVnRXhwXVwiOnJldHVybiBuLnNvdXJjZT09dC5zb3VyY2UmJm4uZ2xvYmFsPT10Lmdsb2JhbCYmbi5tdWx0aWxpbmU9PXQubXVsdGlsaW5lJiZuLmlnbm9yZUNhc2U9PXQuaWdub3JlQ2FzZX1pZihcIm9iamVjdFwiIT10eXBlb2Ygbnx8XCJvYmplY3RcIiE9dHlwZW9mIHQpcmV0dXJuITE7Zm9yKHZhciBpPXIubGVuZ3RoO2ktLTspaWYocltpXT09bilyZXR1cm4gZVtpXT09dDt2YXIgYT1uLmNvbnN0cnVjdG9yLG89dC5jb25zdHJ1Y3RvcjtpZihhIT09byYmISh3LmlzRnVuY3Rpb24oYSkmJmEgaW5zdGFuY2VvZiBhJiZ3LmlzRnVuY3Rpb24obykmJm8gaW5zdGFuY2VvZiBvKSlyZXR1cm4hMTtyLnB1c2gobiksZS5wdXNoKHQpO3ZhciBjPTAsZj0hMDtpZihcIltvYmplY3QgQXJyYXldXCI9PXUpe2lmKGM9bi5sZW5ndGgsZj1jPT10Lmxlbmd0aClmb3IoO2MtLSYmKGY9SShuW2NdLHRbY10scixlKSk7KTt9ZWxzZXtmb3IodmFyIHMgaW4gbilpZih3LmhhcyhuLHMpJiYoYysrLCEoZj13Lmhhcyh0LHMpJiZJKG5bc10sdFtzXSxyLGUpKSkpYnJlYWs7aWYoZil7Zm9yKHMgaW4gdClpZih3Lmhhcyh0LHMpJiYhYy0tKWJyZWFrO2Y9IWN9fXJldHVybiByLnBvcCgpLGUucG9wKCksZn07dy5pc0VxdWFsPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIEkobix0LFtdLFtdKX0sdy5pc0VtcHR5PWZ1bmN0aW9uKG4pe2lmKG51bGw9PW4pcmV0dXJuITA7aWYody5pc0FycmF5KG4pfHx3LmlzU3RyaW5nKG4pKXJldHVybiAwPT09bi5sZW5ndGg7Zm9yKHZhciB0IGluIG4paWYody5oYXMobix0KSlyZXR1cm4hMTtyZXR1cm4hMH0sdy5pc0VsZW1lbnQ9ZnVuY3Rpb24obil7cmV0dXJuISghbnx8MSE9PW4ubm9kZVR5cGUpfSx3LmlzQXJyYXk9eHx8ZnVuY3Rpb24obil7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT1sLmNhbGwobil9LHcuaXNPYmplY3Q9ZnVuY3Rpb24obil7cmV0dXJuIG49PT1PYmplY3Qobil9LEEoW1wiQXJndW1lbnRzXCIsXCJGdW5jdGlvblwiLFwiU3RyaW5nXCIsXCJOdW1iZXJcIixcIkRhdGVcIixcIlJlZ0V4cFwiXSxmdW5jdGlvbihuKXt3W1wiaXNcIituXT1mdW5jdGlvbih0KXtyZXR1cm4gbC5jYWxsKHQpPT1cIltvYmplY3QgXCIrbitcIl1cIn19KSx3LmlzQXJndW1lbnRzKGFyZ3VtZW50cyl8fCh3LmlzQXJndW1lbnRzPWZ1bmN0aW9uKG4pe3JldHVybiEoIW58fCF3LmhhcyhuLFwiY2FsbGVlXCIpKX0pLFwiZnVuY3Rpb25cIiE9dHlwZW9mLy4vJiYody5pc0Z1bmN0aW9uPWZ1bmN0aW9uKG4pe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG59KSx3LmlzRmluaXRlPWZ1bmN0aW9uKG4pe3JldHVybiBpc0Zpbml0ZShuKSYmIWlzTmFOKHBhcnNlRmxvYXQobikpfSx3LmlzTmFOPWZ1bmN0aW9uKG4pe3JldHVybiB3LmlzTnVtYmVyKG4pJiZuIT0rbn0sdy5pc0Jvb2xlYW49ZnVuY3Rpb24obil7cmV0dXJuIG49PT0hMHx8bj09PSExfHxcIltvYmplY3QgQm9vbGVhbl1cIj09bC5jYWxsKG4pfSx3LmlzTnVsbD1mdW5jdGlvbihuKXtyZXR1cm4gbnVsbD09PW59LHcuaXNVbmRlZmluZWQ9ZnVuY3Rpb24obil7cmV0dXJuIG49PT12b2lkIDB9LHcuaGFzPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIGYuY2FsbChuLHQpfSx3Lm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbi5fPXQsdGhpc30sdy5pZGVudGl0eT1mdW5jdGlvbihuKXtyZXR1cm4gbn0sdy50aW1lcz1mdW5jdGlvbihuLHQscil7Zm9yKHZhciBlPUFycmF5KE1hdGgubWF4KDAsbikpLHU9MDtuPnU7dSsrKWVbdV09dC5jYWxsKHIsdSk7cmV0dXJuIGV9LHcucmFuZG9tPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIG51bGw9PXQmJih0PW4sbj0wKSxuK01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoodC1uKzEpKX07dmFyIFM9e2VzY2FwZTp7XCImXCI6XCImYW1wO1wiLFwiPFwiOlwiJmx0O1wiLFwiPlwiOlwiJmd0O1wiLCdcIic6XCImcXVvdDtcIixcIidcIjpcIiYjeDI3O1wifX07Uy51bmVzY2FwZT13LmludmVydChTLmVzY2FwZSk7dmFyIFQ9e2VzY2FwZTpSZWdFeHAoXCJbXCIrdy5rZXlzKFMuZXNjYXBlKS5qb2luKFwiXCIpK1wiXVwiLFwiZ1wiKSx1bmVzY2FwZTpSZWdFeHAoXCIoXCIrdy5rZXlzKFMudW5lc2NhcGUpLmpvaW4oXCJ8XCIpK1wiKVwiLFwiZ1wiKX07dy5lYWNoKFtcImVzY2FwZVwiLFwidW5lc2NhcGVcIl0sZnVuY3Rpb24obil7d1tuXT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD9cIlwiOihcIlwiK3QpLnJlcGxhY2UoVFtuXSxmdW5jdGlvbih0KXtyZXR1cm4gU1tuXVt0XX0pfX0pLHcucmVzdWx0PWZ1bmN0aW9uKG4sdCl7aWYobnVsbD09bilyZXR1cm4gdm9pZCAwO3ZhciByPW5bdF07cmV0dXJuIHcuaXNGdW5jdGlvbihyKT9yLmNhbGwobik6cn0sdy5taXhpbj1mdW5jdGlvbihuKXtBKHcuZnVuY3Rpb25zKG4pLGZ1bmN0aW9uKHQpe3ZhciByPXdbdF09blt0XTt3LnByb3RvdHlwZVt0XT1mdW5jdGlvbigpe3ZhciBuPVt0aGlzLl93cmFwcGVkXTtyZXR1cm4gYS5hcHBseShuLGFyZ3VtZW50cyksei5jYWxsKHRoaXMsci5hcHBseSh3LG4pKX19KX07dmFyIE49MDt3LnVuaXF1ZUlkPWZ1bmN0aW9uKG4pe3ZhciB0PSsrTitcIlwiO3JldHVybiBuP24rdDp0fSx3LnRlbXBsYXRlU2V0dGluZ3M9e2V2YWx1YXRlOi88JShbXFxzXFxTXSs/KSU+L2csaW50ZXJwb2xhdGU6LzwlPShbXFxzXFxTXSs/KSU+L2csZXNjYXBlOi88JS0oW1xcc1xcU10rPyklPi9nfTt2YXIgcT0vKC4pXi8sQj17XCInXCI6XCInXCIsXCJcXFxcXCI6XCJcXFxcXCIsXCJcXHJcIjpcInJcIixcIlxcblwiOlwiblwiLFwiXHRcIjpcInRcIixcIlxcdTIwMjhcIjpcInUyMDI4XCIsXCJcXHUyMDI5XCI6XCJ1MjAyOVwifSxEPS9cXFxcfCd8XFxyfFxcbnxcXHR8XFx1MjAyOHxcXHUyMDI5L2c7dy50ZW1wbGF0ZT1mdW5jdGlvbihuLHQscil7dmFyIGU7cj13LmRlZmF1bHRzKHt9LHIsdy50ZW1wbGF0ZVNldHRpbmdzKTt2YXIgdT1SZWdFeHAoWyhyLmVzY2FwZXx8cSkuc291cmNlLChyLmludGVycG9sYXRlfHxxKS5zb3VyY2UsKHIuZXZhbHVhdGV8fHEpLnNvdXJjZV0uam9pbihcInxcIikrXCJ8JFwiLFwiZ1wiKSxpPTAsYT1cIl9fcCs9J1wiO24ucmVwbGFjZSh1LGZ1bmN0aW9uKHQscixlLHUsbyl7cmV0dXJuIGErPW4uc2xpY2UoaSxvKS5yZXBsYWNlKEQsZnVuY3Rpb24obil7cmV0dXJuXCJcXFxcXCIrQltuXX0pLHImJihhKz1cIicrXFxuKChfX3Q9KFwiK3IrXCIpKT09bnVsbD8nJzpfLmVzY2FwZShfX3QpKStcXG4nXCIpLGUmJihhKz1cIicrXFxuKChfX3Q9KFwiK2UrXCIpKT09bnVsbD8nJzpfX3QpK1xcbidcIiksdSYmKGErPVwiJztcXG5cIit1K1wiXFxuX19wKz0nXCIpLGk9byt0Lmxlbmd0aCx0fSksYSs9XCInO1xcblwiLHIudmFyaWFibGV8fChhPVwid2l0aChvYmp8fHt9KXtcXG5cIithK1wifVxcblwiKSxhPVwidmFyIF9fdCxfX3A9JycsX19qPUFycmF5LnByb3RvdHlwZS5qb2luLFwiK1wicHJpbnQ9ZnVuY3Rpb24oKXtfX3ArPV9fai5jYWxsKGFyZ3VtZW50cywnJyk7fTtcXG5cIithK1wicmV0dXJuIF9fcDtcXG5cIjt0cnl7ZT1GdW5jdGlvbihyLnZhcmlhYmxlfHxcIm9ialwiLFwiX1wiLGEpfWNhdGNoKG8pe3Rocm93IG8uc291cmNlPWEsb31pZih0KXJldHVybiBlKHQsdyk7dmFyIGM9ZnVuY3Rpb24obil7cmV0dXJuIGUuY2FsbCh0aGlzLG4sdyl9O3JldHVybiBjLnNvdXJjZT1cImZ1bmN0aW9uKFwiKyhyLnZhcmlhYmxlfHxcIm9ialwiKStcIil7XFxuXCIrYStcIn1cIixjfSx3LmNoYWluPWZ1bmN0aW9uKG4pe3JldHVybiB3KG4pLmNoYWluKCl9O3ZhciB6PWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9jaGFpbj93KG4pLmNoYWluKCk6bn07dy5taXhpbih3KSxBKFtcInBvcFwiLFwicHVzaFwiLFwicmV2ZXJzZVwiLFwic2hpZnRcIixcInNvcnRcIixcInNwbGljZVwiLFwidW5zaGlmdFwiXSxmdW5jdGlvbihuKXt2YXIgdD1lW25dO3cucHJvdG90eXBlW25dPWZ1bmN0aW9uKCl7dmFyIHI9dGhpcy5fd3JhcHBlZDtyZXR1cm4gdC5hcHBseShyLGFyZ3VtZW50cyksXCJzaGlmdFwiIT1uJiZcInNwbGljZVwiIT1ufHwwIT09ci5sZW5ndGh8fGRlbGV0ZSByWzBdLHouY2FsbCh0aGlzLHIpfX0pLEEoW1wiY29uY2F0XCIsXCJqb2luXCIsXCJzbGljZVwiXSxmdW5jdGlvbihuKXt2YXIgdD1lW25dO3cucHJvdG90eXBlW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHouY2FsbCh0aGlzLHQuYXBwbHkodGhpcy5fd3JhcHBlZCxhcmd1bWVudHMpKX19KSx3LmV4dGVuZCh3LnByb3RvdHlwZSx7Y2hhaW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hhaW49ITAsdGhpc30sdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd3JhcHBlZH19KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZShcInVuZGVyc2NvcmVcIixmdW5jdGlvbigpe3JldHVybiB3fSl9KS5jYWxsKHRoaXMpO1xuLy9AIHNvdXJjZU1hcHBpbmdVUkw9dW5kZXJzY29yZS1taW4ubWFwXG47IGJyb3dzZXJpZnlfc2hpbV9fZGVmaW5lX19tb2R1bGVfX2V4cG9ydF9fKHR5cGVvZiBfICE9IFwidW5kZWZpbmVkXCIgPyBfIDogd2luZG93Ll8pO1xuXG59KS5jYWxsKGdsb2JhbCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24gZGVmaW5lRXhwb3J0KGV4KSB7IG1vZHVsZS5leHBvcnRzID0gZXg7IH0pO1xufSkuY2FsbCh0aGlzLHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSkiLCJcInVzZSBzdHJpY3RcIjtcbi8qZ2xvYmFscyBIYW5kbGViYXJzOiB0cnVlICovXG52YXIgYmFzZSA9IHJlcXVpcmUoXCIuL2hhbmRsZWJhcnMvYmFzZVwiKTtcblxuLy8gRWFjaCBvZiB0aGVzZSBhdWdtZW50IHRoZSBIYW5kbGViYXJzIG9iamVjdC4gTm8gbmVlZCB0byBzZXR1cCBoZXJlLlxuLy8gKFRoaXMgaXMgZG9uZSB0byBlYXNpbHkgc2hhcmUgY29kZSBiZXR3ZWVuIGNvbW1vbmpzIGFuZCBicm93c2UgZW52cylcbnZhciBTYWZlU3RyaW5nID0gcmVxdWlyZShcIi4vaGFuZGxlYmFycy9zYWZlLXN0cmluZ1wiKVtcImRlZmF1bHRcIl07XG52YXIgRXhjZXB0aW9uID0gcmVxdWlyZShcIi4vaGFuZGxlYmFycy9leGNlcHRpb25cIilbXCJkZWZhdWx0XCJdO1xudmFyIFV0aWxzID0gcmVxdWlyZShcIi4vaGFuZGxlYmFycy91dGlsc1wiKTtcbnZhciBydW50aW1lID0gcmVxdWlyZShcIi4vaGFuZGxlYmFycy9ydW50aW1lXCIpO1xuXG4vLyBGb3IgY29tcGF0aWJpbGl0eSBhbmQgdXNhZ2Ugb3V0c2lkZSBvZiBtb2R1bGUgc3lzdGVtcywgbWFrZSB0aGUgSGFuZGxlYmFycyBvYmplY3QgYSBuYW1lc3BhY2VcbnZhciBjcmVhdGUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGhiID0gbmV3IGJhc2UuSGFuZGxlYmFyc0Vudmlyb25tZW50KCk7XG5cbiAgVXRpbHMuZXh0ZW5kKGhiLCBiYXNlKTtcbiAgaGIuU2FmZVN0cmluZyA9IFNhZmVTdHJpbmc7XG4gIGhiLkV4Y2VwdGlvbiA9IEV4Y2VwdGlvbjtcbiAgaGIuVXRpbHMgPSBVdGlscztcblxuICBoYi5WTSA9IHJ1bnRpbWU7XG4gIGhiLnRlbXBsYXRlID0gZnVuY3Rpb24oc3BlYykge1xuICAgIHJldHVybiBydW50aW1lLnRlbXBsYXRlKHNwZWMsIGhiKTtcbiAgfTtcblxuICByZXR1cm4gaGI7XG59O1xuXG52YXIgSGFuZGxlYmFycyA9IGNyZWF0ZSgpO1xuSGFuZGxlYmFycy5jcmVhdGUgPSBjcmVhdGU7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gSGFuZGxlYmFyczsiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBVdGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xudmFyIEV4Y2VwdGlvbiA9IHJlcXVpcmUoXCIuL2V4Y2VwdGlvblwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBWRVJTSU9OID0gXCIxLjMuMFwiO1xuZXhwb3J0cy5WRVJTSU9OID0gVkVSU0lPTjt2YXIgQ09NUElMRVJfUkVWSVNJT04gPSA0O1xuZXhwb3J0cy5DT01QSUxFUl9SRVZJU0lPTiA9IENPTVBJTEVSX1JFVklTSU9OO1xudmFyIFJFVklTSU9OX0NIQU5HRVMgPSB7XG4gIDE6ICc8PSAxLjAucmMuMicsIC8vIDEuMC5yYy4yIGlzIGFjdHVhbGx5IHJldjIgYnV0IGRvZXNuJ3QgcmVwb3J0IGl0XG4gIDI6ICc9PSAxLjAuMC1yYy4zJyxcbiAgMzogJz09IDEuMC4wLXJjLjQnLFxuICA0OiAnPj0gMS4wLjAnXG59O1xuZXhwb3J0cy5SRVZJU0lPTl9DSEFOR0VTID0gUkVWSVNJT05fQ0hBTkdFUztcbnZhciBpc0FycmF5ID0gVXRpbHMuaXNBcnJheSxcbiAgICBpc0Z1bmN0aW9uID0gVXRpbHMuaXNGdW5jdGlvbixcbiAgICB0b1N0cmluZyA9IFV0aWxzLnRvU3RyaW5nLFxuICAgIG9iamVjdFR5cGUgPSAnW29iamVjdCBPYmplY3RdJztcblxuZnVuY3Rpb24gSGFuZGxlYmFyc0Vudmlyb25tZW50KGhlbHBlcnMsIHBhcnRpYWxzKSB7XG4gIHRoaXMuaGVscGVycyA9IGhlbHBlcnMgfHwge307XG4gIHRoaXMucGFydGlhbHMgPSBwYXJ0aWFscyB8fCB7fTtcblxuICByZWdpc3RlckRlZmF1bHRIZWxwZXJzKHRoaXMpO1xufVxuXG5leHBvcnRzLkhhbmRsZWJhcnNFbnZpcm9ubWVudCA9IEhhbmRsZWJhcnNFbnZpcm9ubWVudDtIYW5kbGViYXJzRW52aXJvbm1lbnQucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogSGFuZGxlYmFyc0Vudmlyb25tZW50LFxuXG4gIGxvZ2dlcjogbG9nZ2VyLFxuICBsb2c6IGxvZyxcblxuICByZWdpc3RlckhlbHBlcjogZnVuY3Rpb24obmFtZSwgZm4sIGludmVyc2UpIHtcbiAgICBpZiAodG9TdHJpbmcuY2FsbChuYW1lKSA9PT0gb2JqZWN0VHlwZSkge1xuICAgICAgaWYgKGludmVyc2UgfHwgZm4pIHsgdGhyb3cgbmV3IEV4Y2VwdGlvbignQXJnIG5vdCBzdXBwb3J0ZWQgd2l0aCBtdWx0aXBsZSBoZWxwZXJzJyk7IH1cbiAgICAgIFV0aWxzLmV4dGVuZCh0aGlzLmhlbHBlcnMsIG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaW52ZXJzZSkgeyBmbi5ub3QgPSBpbnZlcnNlOyB9XG4gICAgICB0aGlzLmhlbHBlcnNbbmFtZV0gPSBmbjtcbiAgICB9XG4gIH0sXG5cbiAgcmVnaXN0ZXJQYXJ0aWFsOiBmdW5jdGlvbihuYW1lLCBzdHIpIHtcbiAgICBpZiAodG9TdHJpbmcuY2FsbChuYW1lKSA9PT0gb2JqZWN0VHlwZSkge1xuICAgICAgVXRpbHMuZXh0ZW5kKHRoaXMucGFydGlhbHMsICBuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wYXJ0aWFsc1tuYW1lXSA9IHN0cjtcbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyRGVmYXVsdEhlbHBlcnMoaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2hlbHBlck1pc3NpbmcnLCBmdW5jdGlvbihhcmcpIHtcbiAgICBpZihhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwiTWlzc2luZyBoZWxwZXI6ICdcIiArIGFyZyArIFwiJ1wiKTtcbiAgICB9XG4gIH0pO1xuXG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdibG9ja0hlbHBlck1pc3NpbmcnLCBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgdmFyIGludmVyc2UgPSBvcHRpb25zLmludmVyc2UgfHwgZnVuY3Rpb24oKSB7fSwgZm4gPSBvcHRpb25zLmZuO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dCkpIHsgY29udGV4dCA9IGNvbnRleHQuY2FsbCh0aGlzKTsgfVxuXG4gICAgaWYoY29udGV4dCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGZuKHRoaXMpO1xuICAgIH0gZWxzZSBpZihjb250ZXh0ID09PSBmYWxzZSB8fCBjb250ZXh0ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBpbnZlcnNlKHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShjb250ZXh0KSkge1xuICAgICAgaWYoY29udGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZS5oZWxwZXJzLmVhY2goY29udGV4dCwgb3B0aW9ucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaW52ZXJzZSh0aGlzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZuKGNvbnRleHQpO1xuICAgIH1cbiAgfSk7XG5cbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2VhY2gnLCBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgdmFyIGZuID0gb3B0aW9ucy5mbiwgaW52ZXJzZSA9IG9wdGlvbnMuaW52ZXJzZTtcbiAgICB2YXIgaSA9IDAsIHJldCA9IFwiXCIsIGRhdGE7XG5cbiAgICBpZiAoaXNGdW5jdGlvbihjb250ZXh0KSkgeyBjb250ZXh0ID0gY29udGV4dC5jYWxsKHRoaXMpOyB9XG5cbiAgICBpZiAob3B0aW9ucy5kYXRhKSB7XG4gICAgICBkYXRhID0gY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICB9XG5cbiAgICBpZihjb250ZXh0ICYmIHR5cGVvZiBjb250ZXh0ID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKGlzQXJyYXkoY29udGV4dCkpIHtcbiAgICAgICAgZm9yKHZhciBqID0gY29udGV4dC5sZW5ndGg7IGk8ajsgaSsrKSB7XG4gICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIGRhdGEuaW5kZXggPSBpO1xuICAgICAgICAgICAgZGF0YS5maXJzdCA9IChpID09PSAwKTtcbiAgICAgICAgICAgIGRhdGEubGFzdCAgPSAoaSA9PT0gKGNvbnRleHQubGVuZ3RoLTEpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0ID0gcmV0ICsgZm4oY29udGV4dFtpXSwgeyBkYXRhOiBkYXRhIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IodmFyIGtleSBpbiBjb250ZXh0KSB7XG4gICAgICAgICAgaWYoY29udGV4dC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICBpZihkYXRhKSB7IFxuICAgICAgICAgICAgICBkYXRhLmtleSA9IGtleTsgXG4gICAgICAgICAgICAgIGRhdGEuaW5kZXggPSBpO1xuICAgICAgICAgICAgICBkYXRhLmZpcnN0ID0gKGkgPT09IDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0ID0gcmV0ICsgZm4oY29udGV4dFtrZXldLCB7ZGF0YTogZGF0YX0pO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmKGkgPT09IDApe1xuICAgICAgcmV0ID0gaW52ZXJzZSh0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9KTtcblxuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignaWYnLCBmdW5jdGlvbihjb25kaXRpb25hbCwgb3B0aW9ucykge1xuICAgIGlmIChpc0Z1bmN0aW9uKGNvbmRpdGlvbmFsKSkgeyBjb25kaXRpb25hbCA9IGNvbmRpdGlvbmFsLmNhbGwodGhpcyk7IH1cblxuICAgIC8vIERlZmF1bHQgYmVoYXZpb3IgaXMgdG8gcmVuZGVyIHRoZSBwb3NpdGl2ZSBwYXRoIGlmIHRoZSB2YWx1ZSBpcyB0cnV0aHkgYW5kIG5vdCBlbXB0eS5cbiAgICAvLyBUaGUgYGluY2x1ZGVaZXJvYCBvcHRpb24gbWF5IGJlIHNldCB0byB0cmVhdCB0aGUgY29uZHRpb25hbCBhcyBwdXJlbHkgbm90IGVtcHR5IGJhc2VkIG9uIHRoZVxuICAgIC8vIGJlaGF2aW9yIG9mIGlzRW1wdHkuIEVmZmVjdGl2ZWx5IHRoaXMgZGV0ZXJtaW5lcyBpZiAwIGlzIGhhbmRsZWQgYnkgdGhlIHBvc2l0aXZlIHBhdGggb3IgbmVnYXRpdmUuXG4gICAgaWYgKCghb3B0aW9ucy5oYXNoLmluY2x1ZGVaZXJvICYmICFjb25kaXRpb25hbCkgfHwgVXRpbHMuaXNFbXB0eShjb25kaXRpb25hbCkpIHtcbiAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvcHRpb25zLmZuKHRoaXMpO1xuICAgIH1cbiAgfSk7XG5cbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ3VubGVzcycsIGZ1bmN0aW9uKGNvbmRpdGlvbmFsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLmhlbHBlcnNbJ2lmJ10uY2FsbCh0aGlzLCBjb25kaXRpb25hbCwge2ZuOiBvcHRpb25zLmludmVyc2UsIGludmVyc2U6IG9wdGlvbnMuZm4sIGhhc2g6IG9wdGlvbnMuaGFzaH0pO1xuICB9KTtcblxuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignd2l0aCcsIGZ1bmN0aW9uKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihjb250ZXh0KSkgeyBjb250ZXh0ID0gY29udGV4dC5jYWxsKHRoaXMpOyB9XG5cbiAgICBpZiAoIVV0aWxzLmlzRW1wdHkoY29udGV4dCkpIHJldHVybiBvcHRpb25zLmZuKGNvbnRleHQpO1xuICB9KTtcblxuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignbG9nJywgZnVuY3Rpb24oY29udGV4dCwgb3B0aW9ucykge1xuICAgIHZhciBsZXZlbCA9IG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmRhdGEubGV2ZWwgIT0gbnVsbCA/IHBhcnNlSW50KG9wdGlvbnMuZGF0YS5sZXZlbCwgMTApIDogMTtcbiAgICBpbnN0YW5jZS5sb2cobGV2ZWwsIGNvbnRleHQpO1xuICB9KTtcbn1cblxudmFyIGxvZ2dlciA9IHtcbiAgbWV0aG9kTWFwOiB7IDA6ICdkZWJ1ZycsIDE6ICdpbmZvJywgMjogJ3dhcm4nLCAzOiAnZXJyb3InIH0sXG5cbiAgLy8gU3RhdGUgZW51bVxuICBERUJVRzogMCxcbiAgSU5GTzogMSxcbiAgV0FSTjogMixcbiAgRVJST1I6IDMsXG4gIGxldmVsOiAzLFxuXG4gIC8vIGNhbiBiZSBvdmVycmlkZGVuIGluIHRoZSBob3N0IGVudmlyb25tZW50XG4gIGxvZzogZnVuY3Rpb24obGV2ZWwsIG9iaikge1xuICAgIGlmIChsb2dnZXIubGV2ZWwgPD0gbGV2ZWwpIHtcbiAgICAgIHZhciBtZXRob2QgPSBsb2dnZXIubWV0aG9kTWFwW2xldmVsXTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZVttZXRob2RdKSB7XG4gICAgICAgIGNvbnNvbGVbbWV0aG9kXS5jYWxsKGNvbnNvbGUsIG9iaik7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuZXhwb3J0cy5sb2dnZXIgPSBsb2dnZXI7XG5mdW5jdGlvbiBsb2cobGV2ZWwsIG9iaikgeyBsb2dnZXIubG9nKGxldmVsLCBvYmopOyB9XG5cbmV4cG9ydHMubG9nID0gbG9nO3ZhciBjcmVhdGVGcmFtZSA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICB2YXIgb2JqID0ge307XG4gIFV0aWxzLmV4dGVuZChvYmosIG9iamVjdCk7XG4gIHJldHVybiBvYmo7XG59O1xuZXhwb3J0cy5jcmVhdGVGcmFtZSA9IGNyZWF0ZUZyYW1lOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgZXJyb3JQcm9wcyA9IFsnZGVzY3JpcHRpb24nLCAnZmlsZU5hbWUnLCAnbGluZU51bWJlcicsICdtZXNzYWdlJywgJ25hbWUnLCAnbnVtYmVyJywgJ3N0YWNrJ107XG5cbmZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlLCBub2RlKSB7XG4gIHZhciBsaW5lO1xuICBpZiAobm9kZSAmJiBub2RlLmZpcnN0TGluZSkge1xuICAgIGxpbmUgPSBub2RlLmZpcnN0TGluZTtcblxuICAgIG1lc3NhZ2UgKz0gJyAtICcgKyBsaW5lICsgJzonICsgbm9kZS5maXJzdENvbHVtbjtcbiAgfVxuXG4gIHZhciB0bXAgPSBFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBtZXNzYWdlKTtcblxuICAvLyBVbmZvcnR1bmF0ZWx5IGVycm9ycyBhcmUgbm90IGVudW1lcmFibGUgaW4gQ2hyb21lIChhdCBsZWFzdCksIHNvIGBmb3IgcHJvcCBpbiB0bXBgIGRvZXNuJ3Qgd29yay5cbiAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgZXJyb3JQcm9wcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgdGhpc1tlcnJvclByb3BzW2lkeF1dID0gdG1wW2Vycm9yUHJvcHNbaWR4XV07XG4gIH1cblxuICBpZiAobGluZSkge1xuICAgIHRoaXMubGluZU51bWJlciA9IGxpbmU7XG4gICAgdGhpcy5jb2x1bW4gPSBub2RlLmZpcnN0Q29sdW1uO1xuICB9XG59XG5cbkV4Y2VwdGlvbi5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBFeGNlcHRpb247IiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgVXRpbHMgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbnZhciBFeGNlcHRpb24gPSByZXF1aXJlKFwiLi9leGNlcHRpb25cIilbXCJkZWZhdWx0XCJdO1xudmFyIENPTVBJTEVSX1JFVklTSU9OID0gcmVxdWlyZShcIi4vYmFzZVwiKS5DT01QSUxFUl9SRVZJU0lPTjtcbnZhciBSRVZJU0lPTl9DSEFOR0VTID0gcmVxdWlyZShcIi4vYmFzZVwiKS5SRVZJU0lPTl9DSEFOR0VTO1xuXG5mdW5jdGlvbiBjaGVja1JldmlzaW9uKGNvbXBpbGVySW5mbykge1xuICB2YXIgY29tcGlsZXJSZXZpc2lvbiA9IGNvbXBpbGVySW5mbyAmJiBjb21waWxlckluZm9bMF0gfHwgMSxcbiAgICAgIGN1cnJlbnRSZXZpc2lvbiA9IENPTVBJTEVSX1JFVklTSU9OO1xuXG4gIGlmIChjb21waWxlclJldmlzaW9uICE9PSBjdXJyZW50UmV2aXNpb24pIHtcbiAgICBpZiAoY29tcGlsZXJSZXZpc2lvbiA8IGN1cnJlbnRSZXZpc2lvbikge1xuICAgICAgdmFyIHJ1bnRpbWVWZXJzaW9ucyA9IFJFVklTSU9OX0NIQU5HRVNbY3VycmVudFJldmlzaW9uXSxcbiAgICAgICAgICBjb21waWxlclZlcnNpb25zID0gUkVWSVNJT05fQ0hBTkdFU1tjb21waWxlclJldmlzaW9uXTtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhbiBvbGRlciB2ZXJzaW9uIG9mIEhhbmRsZWJhcnMgdGhhbiB0aGUgY3VycmVudCBydW50aW1lLiBcIitcbiAgICAgICAgICAgIFwiUGxlYXNlIHVwZGF0ZSB5b3VyIHByZWNvbXBpbGVyIHRvIGEgbmV3ZXIgdmVyc2lvbiAoXCIrcnVudGltZVZlcnNpb25zK1wiKSBvciBkb3duZ3JhZGUgeW91ciBydW50aW1lIHRvIGFuIG9sZGVyIHZlcnNpb24gKFwiK2NvbXBpbGVyVmVyc2lvbnMrXCIpLlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVXNlIHRoZSBlbWJlZGRlZCB2ZXJzaW9uIGluZm8gc2luY2UgdGhlIHJ1bnRpbWUgZG9lc24ndCBrbm93IGFib3V0IHRoaXMgcmV2aXNpb24geWV0XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwiVGVtcGxhdGUgd2FzIHByZWNvbXBpbGVkIHdpdGggYSBuZXdlciB2ZXJzaW9uIG9mIEhhbmRsZWJhcnMgdGhhbiB0aGUgY3VycmVudCBydW50aW1lLiBcIitcbiAgICAgICAgICAgIFwiUGxlYXNlIHVwZGF0ZSB5b3VyIHJ1bnRpbWUgdG8gYSBuZXdlciB2ZXJzaW9uIChcIitjb21waWxlckluZm9bMV0rXCIpLlwiKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0cy5jaGVja1JldmlzaW9uID0gY2hlY2tSZXZpc2lvbjsvLyBUT0RPOiBSZW1vdmUgdGhpcyBsaW5lIGFuZCBicmVhayB1cCBjb21waWxlUGFydGlhbFxuXG5mdW5jdGlvbiB0ZW1wbGF0ZSh0ZW1wbGF0ZVNwZWMsIGVudikge1xuICBpZiAoIWVudikge1xuICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJObyBlbnZpcm9ubWVudCBwYXNzZWQgdG8gdGVtcGxhdGVcIik7XG4gIH1cblxuICAvLyBOb3RlOiBVc2luZyBlbnYuVk0gcmVmZXJlbmNlcyByYXRoZXIgdGhhbiBsb2NhbCB2YXIgcmVmZXJlbmNlcyB0aHJvdWdob3V0IHRoaXMgc2VjdGlvbiB0byBhbGxvd1xuICAvLyBmb3IgZXh0ZXJuYWwgdXNlcnMgdG8gb3ZlcnJpZGUgdGhlc2UgYXMgcHN1ZWRvLXN1cHBvcnRlZCBBUElzLlxuICB2YXIgaW52b2tlUGFydGlhbFdyYXBwZXIgPSBmdW5jdGlvbihwYXJ0aWFsLCBuYW1lLCBjb250ZXh0LCBoZWxwZXJzLCBwYXJ0aWFscywgZGF0YSkge1xuICAgIHZhciByZXN1bHQgPSBlbnYuVk0uaW52b2tlUGFydGlhbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChyZXN1bHQgIT0gbnVsbCkgeyByZXR1cm4gcmVzdWx0OyB9XG5cbiAgICBpZiAoZW52LmNvbXBpbGUpIHtcbiAgICAgIHZhciBvcHRpb25zID0geyBoZWxwZXJzOiBoZWxwZXJzLCBwYXJ0aWFsczogcGFydGlhbHMsIGRhdGE6IGRhdGEgfTtcbiAgICAgIHBhcnRpYWxzW25hbWVdID0gZW52LmNvbXBpbGUocGFydGlhbCwgeyBkYXRhOiBkYXRhICE9PSB1bmRlZmluZWQgfSwgZW52KTtcbiAgICAgIHJldHVybiBwYXJ0aWFsc1tuYW1lXShjb250ZXh0LCBvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcIlRoZSBwYXJ0aWFsIFwiICsgbmFtZSArIFwiIGNvdWxkIG5vdCBiZSBjb21waWxlZCB3aGVuIHJ1bm5pbmcgaW4gcnVudGltZS1vbmx5IG1vZGVcIik7XG4gICAgfVxuICB9O1xuXG4gIC8vIEp1c3QgYWRkIHdhdGVyXG4gIHZhciBjb250YWluZXIgPSB7XG4gICAgZXNjYXBlRXhwcmVzc2lvbjogVXRpbHMuZXNjYXBlRXhwcmVzc2lvbixcbiAgICBpbnZva2VQYXJ0aWFsOiBpbnZva2VQYXJ0aWFsV3JhcHBlcixcbiAgICBwcm9ncmFtczogW10sXG4gICAgcHJvZ3JhbTogZnVuY3Rpb24oaSwgZm4sIGRhdGEpIHtcbiAgICAgIHZhciBwcm9ncmFtV3JhcHBlciA9IHRoaXMucHJvZ3JhbXNbaV07XG4gICAgICBpZihkYXRhKSB7XG4gICAgICAgIHByb2dyYW1XcmFwcGVyID0gcHJvZ3JhbShpLCBmbiwgZGF0YSk7XG4gICAgICB9IGVsc2UgaWYgKCFwcm9ncmFtV3JhcHBlcikge1xuICAgICAgICBwcm9ncmFtV3JhcHBlciA9IHRoaXMucHJvZ3JhbXNbaV0gPSBwcm9ncmFtKGksIGZuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9ncmFtV3JhcHBlcjtcbiAgICB9LFxuICAgIG1lcmdlOiBmdW5jdGlvbihwYXJhbSwgY29tbW9uKSB7XG4gICAgICB2YXIgcmV0ID0gcGFyYW0gfHwgY29tbW9uO1xuXG4gICAgICBpZiAocGFyYW0gJiYgY29tbW9uICYmIChwYXJhbSAhPT0gY29tbW9uKSkge1xuICAgICAgICByZXQgPSB7fTtcbiAgICAgICAgVXRpbHMuZXh0ZW5kKHJldCwgY29tbW9uKTtcbiAgICAgICAgVXRpbHMuZXh0ZW5kKHJldCwgcGFyYW0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuICAgIHByb2dyYW1XaXRoRGVwdGg6IGVudi5WTS5wcm9ncmFtV2l0aERlcHRoLFxuICAgIG5vb3A6IGVudi5WTS5ub29wLFxuICAgIGNvbXBpbGVySW5mbzogbnVsbFxuICB9O1xuXG4gIHJldHVybiBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIG5hbWVzcGFjZSA9IG9wdGlvbnMucGFydGlhbCA/IG9wdGlvbnMgOiBlbnYsXG4gICAgICAgIGhlbHBlcnMsXG4gICAgICAgIHBhcnRpYWxzO1xuXG4gICAgaWYgKCFvcHRpb25zLnBhcnRpYWwpIHtcbiAgICAgIGhlbHBlcnMgPSBvcHRpb25zLmhlbHBlcnM7XG4gICAgICBwYXJ0aWFscyA9IG9wdGlvbnMucGFydGlhbHM7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSB0ZW1wbGF0ZVNwZWMuY2FsbChcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgbmFtZXNwYWNlLCBjb250ZXh0LFxuICAgICAgICAgIGhlbHBlcnMsXG4gICAgICAgICAgcGFydGlhbHMsXG4gICAgICAgICAgb3B0aW9ucy5kYXRhKTtcblxuICAgIGlmICghb3B0aW9ucy5wYXJ0aWFsKSB7XG4gICAgICBlbnYuVk0uY2hlY2tSZXZpc2lvbihjb250YWluZXIuY29tcGlsZXJJbmZvKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufVxuXG5leHBvcnRzLnRlbXBsYXRlID0gdGVtcGxhdGU7ZnVuY3Rpb24gcHJvZ3JhbVdpdGhEZXB0aChpLCBmbiwgZGF0YSAvKiwgJGRlcHRoICovKSB7XG4gIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAzKTtcblxuICB2YXIgcHJvZyA9IGZ1bmN0aW9uKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBbY29udGV4dCwgb3B0aW9ucy5kYXRhIHx8IGRhdGFdLmNvbmNhdChhcmdzKSk7XG4gIH07XG4gIHByb2cucHJvZ3JhbSA9IGk7XG4gIHByb2cuZGVwdGggPSBhcmdzLmxlbmd0aDtcbiAgcmV0dXJuIHByb2c7XG59XG5cbmV4cG9ydHMucHJvZ3JhbVdpdGhEZXB0aCA9IHByb2dyYW1XaXRoRGVwdGg7ZnVuY3Rpb24gcHJvZ3JhbShpLCBmbiwgZGF0YSkge1xuICB2YXIgcHJvZyA9IGZ1bmN0aW9uKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIHJldHVybiBmbihjb250ZXh0LCBvcHRpb25zLmRhdGEgfHwgZGF0YSk7XG4gIH07XG4gIHByb2cucHJvZ3JhbSA9IGk7XG4gIHByb2cuZGVwdGggPSAwO1xuICByZXR1cm4gcHJvZztcbn1cblxuZXhwb3J0cy5wcm9ncmFtID0gcHJvZ3JhbTtmdW5jdGlvbiBpbnZva2VQYXJ0aWFsKHBhcnRpYWwsIG5hbWUsIGNvbnRleHQsIGhlbHBlcnMsIHBhcnRpYWxzLCBkYXRhKSB7XG4gIHZhciBvcHRpb25zID0geyBwYXJ0aWFsOiB0cnVlLCBoZWxwZXJzOiBoZWxwZXJzLCBwYXJ0aWFsczogcGFydGlhbHMsIGRhdGE6IGRhdGEgfTtcblxuICBpZihwYXJ0aWFsID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwiVGhlIHBhcnRpYWwgXCIgKyBuYW1lICsgXCIgY291bGQgbm90IGJlIGZvdW5kXCIpO1xuICB9IGVsc2UgaWYocGFydGlhbCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuIHBhcnRpYWwoY29udGV4dCwgb3B0aW9ucyk7XG4gIH1cbn1cblxuZXhwb3J0cy5pbnZva2VQYXJ0aWFsID0gaW52b2tlUGFydGlhbDtmdW5jdGlvbiBub29wKCkgeyByZXR1cm4gXCJcIjsgfVxuXG5leHBvcnRzLm5vb3AgPSBub29wOyIsIlwidXNlIHN0cmljdFwiO1xuLy8gQnVpbGQgb3V0IG91ciBiYXNpYyBTYWZlU3RyaW5nIHR5cGVcbmZ1bmN0aW9uIFNhZmVTdHJpbmcoc3RyaW5nKSB7XG4gIHRoaXMuc3RyaW5nID0gc3RyaW5nO1xufVxuXG5TYWZlU3RyaW5nLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJcIiArIHRoaXMuc3RyaW5nO1xufTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTYWZlU3RyaW5nOyIsIlwidXNlIHN0cmljdFwiO1xuLypqc2hpbnQgLVcwMDQgKi9cbnZhciBTYWZlU3RyaW5nID0gcmVxdWlyZShcIi4vc2FmZS1zdHJpbmdcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgZXNjYXBlID0ge1xuICBcIiZcIjogXCImYW1wO1wiLFxuICBcIjxcIjogXCImbHQ7XCIsXG4gIFwiPlwiOiBcIiZndDtcIixcbiAgJ1wiJzogXCImcXVvdDtcIixcbiAgXCInXCI6IFwiJiN4Mjc7XCIsXG4gIFwiYFwiOiBcIiYjeDYwO1wiXG59O1xuXG52YXIgYmFkQ2hhcnMgPSAvWyY8PlwiJ2BdL2c7XG52YXIgcG9zc2libGUgPSAvWyY8PlwiJ2BdLztcblxuZnVuY3Rpb24gZXNjYXBlQ2hhcihjaHIpIHtcbiAgcmV0dXJuIGVzY2FwZVtjaHJdIHx8IFwiJmFtcDtcIjtcbn1cblxuZnVuY3Rpb24gZXh0ZW5kKG9iaiwgdmFsdWUpIHtcbiAgZm9yKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpIHtcbiAgICAgIG9ialtrZXldID0gdmFsdWVba2V5XTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0cy5leHRlbmQgPSBleHRlbmQ7dmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbmV4cG9ydHMudG9TdHJpbmcgPSB0b1N0cmluZztcbi8vIFNvdXJjZWQgZnJvbSBsb2Rhc2hcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iZXN0aWVqcy9sb2Rhc2gvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHRcbnZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbn07XG4vLyBmYWxsYmFjayBmb3Igb2xkZXIgdmVyc2lvbnMgb2YgQ2hyb21lIGFuZCBTYWZhcmlcbmlmIChpc0Z1bmN0aW9uKC94LykpIHtcbiAgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgfTtcbn1cbnZhciBpc0Z1bmN0aW9uO1xuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpID8gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XScgOiBmYWxzZTtcbn07XG5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuXG5mdW5jdGlvbiBlc2NhcGVFeHByZXNzaW9uKHN0cmluZykge1xuICAvLyBkb24ndCBlc2NhcGUgU2FmZVN0cmluZ3MsIHNpbmNlIHRoZXkncmUgYWxyZWFkeSBzYWZlXG4gIGlmIChzdHJpbmcgaW5zdGFuY2VvZiBTYWZlU3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy50b1N0cmluZygpO1xuICB9IGVsc2UgaWYgKCFzdHJpbmcgJiYgc3RyaW5nICE9PSAwKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cblxuICAvLyBGb3JjZSBhIHN0cmluZyBjb252ZXJzaW9uIGFzIHRoaXMgd2lsbCBiZSBkb25lIGJ5IHRoZSBhcHBlbmQgcmVnYXJkbGVzcyBhbmRcbiAgLy8gdGhlIHJlZ2V4IHRlc3Qgd2lsbCBkbyB0aGlzIHRyYW5zcGFyZW50bHkgYmVoaW5kIHRoZSBzY2VuZXMsIGNhdXNpbmcgaXNzdWVzIGlmXG4gIC8vIGFuIG9iamVjdCdzIHRvIHN0cmluZyBoYXMgZXNjYXBlZCBjaGFyYWN0ZXJzIGluIGl0LlxuICBzdHJpbmcgPSBcIlwiICsgc3RyaW5nO1xuXG4gIGlmKCFwb3NzaWJsZS50ZXN0KHN0cmluZykpIHsgcmV0dXJuIHN0cmluZzsgfVxuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoYmFkQ2hhcnMsIGVzY2FwZUNoYXIpO1xufVxuXG5leHBvcnRzLmVzY2FwZUV4cHJlc3Npb24gPSBlc2NhcGVFeHByZXNzaW9uO2Z1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSAmJiB2YWx1ZSAhPT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnRzLmlzRW1wdHkgPSBpc0VtcHR5OyIsIi8vIENyZWF0ZSBhIHNpbXBsZSBwYXRoIGFsaWFzIHRvIGFsbG93IGJyb3dzZXJpZnkgdG8gcmVzb2x2ZVxuLy8gdGhlIHJ1bnRpbWUgb24gYSBzdXBwb3J0ZWQgcGF0aC5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kaXN0L2Nqcy9oYW5kbGViYXJzLnJ1bnRpbWUnKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImhhbmRsZWJhcnMvcnVudGltZVwiKVtcImRlZmF1bHRcIl07XG4iXX0=
